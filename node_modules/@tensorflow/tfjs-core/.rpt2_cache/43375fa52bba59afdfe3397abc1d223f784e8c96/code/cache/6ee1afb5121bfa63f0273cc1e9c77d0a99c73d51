{"code":"import * as util from './util';\r\nvar Profiler = (function () {\r\n    function Profiler(backendTimer, logger) {\r\n        this.backendTimer = backendTimer;\r\n        this.logger = logger;\r\n        if (logger == null) {\r\n            this.logger = new Logger();\r\n        }\r\n    }\r\n    Profiler.prototype.profileKernel = function (name, f) {\r\n        var _this = this;\r\n        var result;\r\n        var holdResultWrapperFn = function () {\r\n            result = f();\r\n        };\r\n        var timer = this.backendTimer.time(holdResultWrapperFn);\r\n        var vals = result.dataSync();\r\n        util.checkForNaN(vals, result.dtype, name);\r\n        timer.then(function (timing) {\r\n            _this.logger.logKernelProfile(name, result, vals, timing.kernelMs);\r\n        });\r\n        return result;\r\n    };\r\n    return Profiler;\r\n}());\r\nexport { Profiler };\r\nvar Logger = (function () {\r\n    function Logger() {\r\n    }\r\n    Logger.prototype.logKernelProfile = function (name, result, vals, timeMs) {\r\n        var time = util.rightPad(timeMs + \"ms\", 9);\r\n        var paddedName = util.rightPad(name, 25);\r\n        var rank = result.rank;\r\n        var size = result.size;\r\n        var shape = util.rightPad(result.shape.toString(), 14);\r\n        console.log(\"%c\" + paddedName + \"\\t%c\" + time + \"\\t%c\" + rank + \"D \" + shape + \"\\t%c\" + size, 'font-weight:bold', 'color:red', 'color:blue', 'color: orange');\r\n    };\r\n    return Logger;\r\n}());\r\nexport { Logger };\r\n//# sourceMappingURL=profiler.js.map","map":"{\"version\":3,\"file\":\"profiler.js\",\"sourceRoot\":\"\",\"sources\":[\"src/profiler.ts\"],\"names\":[],\"mappings\":\"AAoBA,OAAO,KAAK,IAAI,MAAM,QAAQ,CAAC;AAE/B;IACE,kBAAoB,YAA0B,EAAU,MAAe;QAAnD,iBAAY,GAAZ,YAAY,CAAc;QAAU,WAAM,GAAN,MAAM,CAAS;QACrE,EAAE,CAAC,CAAC,MAAM,IAAI,IAAI,CAAC,CAAC,CAAC;YACnB,IAAI,CAAC,MAAM,GAAG,IAAI,MAAM,EAAE,CAAC;QAC7B,CAAC;IACH,CAAC;IAED,gCAAa,GAAb,UAAgC,IAAY,EAAE,CAAU;QAAxD,iBAeC;QAdC,IAAI,MAAS,CAAC;QACd,IAAM,mBAAmB,GAAG;YAC1B,MAAM,GAAG,CAAC,EAAE,CAAC;QACf,CAAC,CAAC;QACF,IAAM,KAAK,GAAG,IAAI,CAAC,YAAY,CAAC,IAAI,CAAC,mBAAmB,CAAC,CAAC;QAE1D,IAAM,IAAI,GAAG,MAAM,CAAC,QAAQ,EAAE,CAAC;QAC/B,IAAI,CAAC,WAAW,CAAC,IAAI,EAAE,MAAM,CAAC,KAAK,EAAE,IAAI,CAAC,CAAC;QAE3C,KAAK,CAAC,IAAI,CAAC,UAAA,MAAM;YACf,KAAI,CAAC,MAAM,CAAC,gBAAgB,CAAC,IAAI,EAAE,MAAM,EAAE,IAAI,EAAE,MAAM,CAAC,QAAQ,CAAC,CAAC;QACpE,CAAC,CAAC,CAAC;QAEH,MAAM,CAAC,MAAW,CAAC;IACrB,CAAC;IACH,eAAC;AAAD,CAAC,AAvBD,IAuBC;;AAED;IAAA;IAYA,CAAC;IAXC,iCAAgB,GAAhB,UACI,IAAY,EAAE,MAAc,EAAE,IAAgB,EAAE,MAAc;QAChE,IAAM,IAAI,GAAG,IAAI,CAAC,QAAQ,CAAI,MAAM,OAAI,EAAE,CAAC,CAAC,CAAC;QAC7C,IAAM,UAAU,GAAG,IAAI,CAAC,QAAQ,CAAC,IAAI,EAAE,EAAE,CAAC,CAAC;QAC3C,IAAM,IAAI,GAAG,MAAM,CAAC,IAAI,CAAC;QACzB,IAAM,IAAI,GAAG,MAAM,CAAC,IAAI,CAAC;QACzB,IAAM,KAAK,GAAG,IAAI,CAAC,QAAQ,CAAC,MAAM,CAAC,KAAK,CAAC,QAAQ,EAAE,EAAE,EAAE,CAAC,CAAC;QACzD,OAAO,CAAC,GAAG,CACP,OAAK,UAAU,YAAO,IAAI,YAAO,IAAI,UAAK,KAAK,YAAO,IAAM,EAC5D,kBAAkB,EAAE,WAAW,EAAE,YAAY,EAAE,eAAe,CAAC,CAAC;IACtE,CAAC;IACH,aAAC;AAAD,CAAC,AAZD,IAYC\"}","dts":{"name":"/usr/local/google/home/nsthorat/deeplearnjs-clients/rollup/tfjs-core/profiler.d.ts","text":"import { BackendTimer } from './kernels/backend';\r\nimport { Tensor } from './tensor';\r\nimport { TypedArray } from './types';\r\nexport declare class Profiler {\r\n    private backendTimer;\r\n    private logger;\r\n    constructor(backendTimer: BackendTimer, logger?: Logger);\r\n    profileKernel<T extends Tensor>(name: string, f: () => T): T;\r\n}\r\nexport declare class Logger {\r\n    logKernelProfile(name: string, result: Tensor, vals: TypedArray, timeMs: number): void;\r\n}\r\n"}}
