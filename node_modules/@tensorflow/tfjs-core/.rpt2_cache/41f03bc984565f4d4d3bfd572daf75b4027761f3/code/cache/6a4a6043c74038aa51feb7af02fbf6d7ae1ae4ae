{"code":"export var PARALLELIZE_THRESHOLD = 30;\r\nexport function computeOptimalWindowSize(inSize) {\r\n    if (inSize <= PARALLELIZE_THRESHOLD) {\r\n        return inSize;\r\n    }\r\n    return nearestDivisor(inSize, Math.floor(Math.sqrt(inSize)));\r\n}\r\nfunction nearestDivisor(size, start) {\r\n    for (var i = start; i < size; ++i) {\r\n        if (size % i === 0) {\r\n            return i;\r\n        }\r\n    }\r\n    return size;\r\n}\r\n//# sourceMappingURL=reduce_util.js.map","map":"{\"version\":3,\"file\":\"reduce_util.js\",\"sourceRoot\":\"\",\"sources\":[\"../src/ops/reduce_util.ts\"],\"names\":[],\"mappings\":\"AAqBA,MAAM,CAAC,IAAM,qBAAqB,GAAG,EAAE,CAAC;AAQxC,MAAM,mCAAmC,MAAc;IACrD,EAAE,CAAC,CAAC,MAAM,IAAI,qBAAqB,CAAC,CAAC,CAAC;QACpC,MAAM,CAAC,MAAM,CAAC;IAChB,CAAC;IACD,MAAM,CAAC,cAAc,CAAC,MAAM,EAAE,IAAI,CAAC,KAAK,CAAC,IAAI,CAAC,IAAI,CAAC,MAAM,CAAC,CAAC,CAAC,CAAC;AAC/D,CAAC;AAED,wBAAwB,IAAY,EAAE,KAAa;IACjD,GAAG,CAAC,CAAC,IAAI,CAAC,GAAG,KAAK,EAAE,CAAC,GAAG,IAAI,EAAE,EAAE,CAAC,EAAE,CAAC;QAClC,EAAE,CAAC,CAAC,IAAI,GAAG,CAAC,KAAK,CAAC,CAAC,CAAC,CAAC;YACnB,MAAM,CAAC,CAAC,CAAC;QACX,CAAC;IACH,CAAC;IACD,MAAM,CAAC,IAAI,CAAC;AACd,CAAC\"}","dts":{"name":"/usr/local/google/home/nsthorat/deeplearnjs-clients/rollup/tfjs-core/ops/reduce_util.d.ts","text":"export declare const PARALLELIZE_THRESHOLD = 30;\r\nexport interface ReduceInfo {\r\n    windowSize: number;\r\n    batchSize: number;\r\n    inSize: number;\r\n}\r\nexport declare function computeOptimalWindowSize(inSize: number): number;\r\n"}}
