{"code":"import { getCoordsDataType } from './shader_compiler';\r\nvar TileProgram = (function () {\r\n    function TileProgram(aShape, reps) {\r\n        this.variableNames = ['A'];\r\n        var outputShape = new Array(aShape.length);\r\n        for (var i = 0; i < outputShape.length; i++) {\r\n            outputShape[i] = aShape[i] * reps[i];\r\n        }\r\n        this.outputShape = outputShape;\r\n        this.rank = outputShape.length;\r\n        var dtype = getCoordsDataType(this.rank);\r\n        var sourceCoords = getSourceCoords(aShape);\r\n        this.userCode = \"\\n      void main() {\\n        \" + dtype + \" resRC = getOutputCoords();\\n        setOutput(getA(\" + sourceCoords + \"));\\n      }\\n    \";\r\n    }\r\n    return TileProgram;\r\n}());\r\nexport { TileProgram };\r\nfunction getSourceCoords(aShape) {\r\n    var rank = aShape.length;\r\n    if (rank > 4) {\r\n        throw Error(\"Tile for rank \" + rank + \" is not yet supported\");\r\n    }\r\n    if (rank === 1) {\r\n        return \"imod(resRC, \" + aShape[0] + \")\";\r\n    }\r\n    var currentCoords = ['resRC.x', 'resRC.y', 'resRC.z', 'resRC.w'];\r\n    var sourceCoords = [];\r\n    for (var i = 0; i < aShape.length; i++) {\r\n        sourceCoords.push(\"imod(\" + currentCoords[i] + \", \" + aShape[i] + \")\");\r\n    }\r\n    return sourceCoords.join();\r\n}\r\n//# sourceMappingURL=tile_gpu.js.map","map":"{\"version\":3,\"file\":\"tile_gpu.js\",\"sourceRoot\":\"\",\"sources\":[\"../../src/kernels/webgl/tile_gpu.ts\"],\"names\":[],\"mappings\":\"AAkBA,OAAO,EAAC,iBAAiB,EAAC,MAAM,mBAAmB,CAAC;AAEpD;IAME,qBAAY,MAAgB,EAAE,IAAc;QAL5C,kBAAa,GAAG,CAAC,GAAG,CAAC,CAAC;QAMpB,IAAM,WAAW,GAAa,IAAI,KAAK,CAAC,MAAM,CAAC,MAAM,CAAC,CAAC;QACvD,GAAG,CAAC,CAAC,IAAI,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,WAAW,CAAC,MAAM,EAAE,CAAC,EAAE,EAAE,CAAC;YAC5C,WAAW,CAAC,CAAC,CAAC,GAAG,MAAM,CAAC,CAAC,CAAC,GAAG,IAAI,CAAC,CAAC,CAAC,CAAC;QACvC,CAAC;QACD,IAAI,CAAC,WAAW,GAAG,WAAW,CAAC;QAC/B,IAAI,CAAC,IAAI,GAAG,WAAW,CAAC,MAAM,CAAC;QAC/B,IAAM,KAAK,GAAG,iBAAiB,CAAC,IAAI,CAAC,IAAI,CAAC,CAAC;QAC3C,IAAM,YAAY,GAAG,eAAe,CAAC,MAAM,CAAC,CAAC;QAE7C,IAAI,CAAC,QAAQ,GAAG,oCAEV,KAAK,4DACU,YAAY,uBAEhC,CAAC;IACJ,CAAC;IACH,kBAAC;AAAD,CAAC,AAvBD,IAuBC;;AAED,yBAAyB,MAAgB;IACvC,IAAM,IAAI,GAAG,MAAM,CAAC,MAAM,CAAC;IAC3B,EAAE,CAAC,CAAC,IAAI,GAAG,CAAC,CAAC,CAAC,CAAC;QACb,MAAM,KAAK,CAAC,mBAAiB,IAAI,0BAAuB,CAAC,CAAC;IAC5D,CAAC;IACD,EAAE,CAAC,CAAC,IAAI,KAAK,CAAC,CAAC,CAAC,CAAC;QACf,MAAM,CAAC,iBAAe,MAAM,CAAC,CAAC,CAAC,MAAG,CAAC;IACrC,CAAC;IAED,IAAM,aAAa,GAAG,CAAC,SAAS,EAAE,SAAS,EAAE,SAAS,EAAE,SAAS,CAAC,CAAC;IAEnE,IAAM,YAAY,GAAG,EAAE,CAAC;IACxB,GAAG,CAAC,CAAC,IAAI,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,MAAM,CAAC,MAAM,EAAE,CAAC,EAAE,EAAE,CAAC;QACvC,YAAY,CAAC,IAAI,CAAC,UAAQ,aAAa,CAAC,CAAC,CAAC,UAAK,MAAM,CAAC,CAAC,CAAC,MAAG,CAAC,CAAC;IAC/D,CAAC;IACD,MAAM,CAAC,YAAY,CAAC,IAAI,EAAE,CAAC;AAC7B,CAAC\"}","dts":{"name":"/usr/local/google/home/nsthorat/deeplearnjs-clients/rollup/tfjs-core/kernels/webgl/tile_gpu.d.ts","text":"import { GPGPUProgram } from './gpgpu_math';\r\nexport declare class TileProgram implements GPGPUProgram {\r\n    variableNames: string[];\r\n    outputShape: number[];\r\n    userCode: string;\r\n    rank: number;\r\n    constructor(aShape: number[], reps: number[]);\r\n}\r\n"}}
