{"version":3,"sources":["node_modules/regenerator-runtime/runtime.js","node_modules/regenerator-runtime/runtime-module.js","node_modules/babel-runtime/regenerator/index.js","node_modules/core-js/library/modules/_to-integer.js","node_modules/core-js/library/modules/_defined.js","node_modules/core-js/library/modules/_string-at.js","node_modules/core-js/library/modules/_library.js","node_modules/core-js/library/modules/_global.js","node_modules/core-js/library/modules/_core.js","node_modules/core-js/library/modules/_a-function.js","node_modules/core-js/library/modules/_ctx.js","node_modules/core-js/library/modules/_is-object.js","node_modules/core-js/library/modules/_an-object.js","node_modules/core-js/library/modules/_fails.js","node_modules/core-js/library/modules/_descriptors.js","node_modules/core-js/library/modules/_dom-create.js","node_modules/core-js/library/modules/_ie8-dom-define.js","node_modules/core-js/library/modules/_to-primitive.js","node_modules/core-js/library/modules/_object-dp.js","node_modules/core-js/library/modules/_property-desc.js","node_modules/core-js/library/modules/_hide.js","node_modules/core-js/library/modules/_has.js","node_modules/core-js/library/modules/_export.js","node_modules/core-js/library/modules/_redefine.js","node_modules/core-js/library/modules/_iterators.js","node_modules/core-js/library/modules/_cof.js","node_modules/core-js/library/modules/_iobject.js","node_modules/core-js/library/modules/_to-iobject.js","node_modules/core-js/library/modules/_to-length.js","node_modules/core-js/library/modules/_to-absolute-index.js","node_modules/core-js/library/modules/_array-includes.js","node_modules/core-js/library/modules/_shared.js","node_modules/core-js/library/modules/_uid.js","node_modules/core-js/library/modules/_shared-key.js","node_modules/core-js/library/modules/_object-keys-internal.js","node_modules/core-js/library/modules/_enum-bug-keys.js","node_modules/core-js/library/modules/_object-keys.js","node_modules/core-js/library/modules/_object-dps.js","node_modules/core-js/library/modules/_html.js","node_modules/core-js/library/modules/_object-create.js","node_modules/core-js/library/modules/_wks.js","node_modules/core-js/library/modules/_set-to-string-tag.js","node_modules/core-js/library/modules/_iter-create.js","node_modules/core-js/library/modules/_to-object.js","node_modules/core-js/library/modules/_object-gpo.js","node_modules/core-js/library/modules/_iter-define.js","node_modules/core-js/library/modules/es6.string.iterator.js","node_modules/core-js/library/modules/_add-to-unscopables.js","node_modules/core-js/library/modules/_iter-step.js","node_modules/core-js/library/modules/es6.array.iterator.js","node_modules/core-js/library/modules/web.dom.iterable.js","node_modules/core-js/library/modules/_classof.js","node_modules/core-js/library/modules/_an-instance.js","node_modules/core-js/library/modules/_iter-call.js","node_modules/core-js/library/modules/_is-array-iter.js","node_modules/core-js/library/modules/core.get-iterator-method.js","node_modules/core-js/library/modules/_for-of.js","node_modules/core-js/library/modules/_species-constructor.js","node_modules/core-js/library/modules/_invoke.js","node_modules/core-js/library/modules/_task.js","node_modules/core-js/library/modules/_microtask.js","node_modules/core-js/library/modules/_new-promise-capability.js","node_modules/core-js/library/modules/_perform.js","node_modules/core-js/library/modules/_user-agent.js","node_modules/core-js/library/modules/_promise-resolve.js","node_modules/core-js/library/modules/_redefine-all.js","node_modules/core-js/library/modules/_set-species.js","node_modules/core-js/library/modules/_iter-detect.js","node_modules/core-js/library/modules/es6.promise.js","node_modules/core-js/library/modules/es7.promise.finally.js","node_modules/core-js/library/modules/es7.promise.try.js","node_modules/core-js/library/fn/promise.js","node_modules/babel-runtime/core-js/promise.js","node_modules/babel-runtime/helpers/asyncToGenerator.js","node_modules/@tensorflow/tfjs-core/dist-es6/device_util.js","node_modules/@tensorflow/tfjs-core/dist-es6/doc.js","node_modules/@tensorflow/tfjs-core/dist-es6/util.js","node_modules/@tensorflow/tfjs-core/dist-es6/tensor_util.js","node_modules/@tensorflow/tfjs-core/dist-es6/ops/axis_util.js","node_modules/@tensorflow/tfjs-core/dist-es6/ops/concat_util.js","node_modules/@tensorflow/tfjs-core/dist-es6/ops/operation.js","node_modules/@tensorflow/tfjs-core/dist-es6/ops/concat.js","node_modules/seedrandom/lib/alea.js","node_modules/seedrandom/lib/xor128.js","node_modules/seedrandom/lib/xorwow.js","node_modules/seedrandom/lib/xorshift7.js","node_modules/seedrandom/lib/xor4096.js","node_modules/seedrandom/lib/tychei.js","node_modules/seedrandom/seedrandom.js","node_modules/seedrandom/index.js","node_modules/@tensorflow/tfjs-core/dist-es6/ops/rand.js","node_modules/@tensorflow/tfjs-core/dist-es6/ops/reduction_ops.js","node_modules/@tensorflow/tfjs-core/dist-es6/ops/array_ops.js","node_modules/@tensorflow/tfjs-core/dist-es6/ops/broadcast_util.js","node_modules/@tensorflow/tfjs-core/dist-es6/ops/batchnorm.js","node_modules/@tensorflow/tfjs-core/dist-es6/types.js","node_modules/@tensorflow/tfjs-core/dist-es6/ops/binary_ops.js","node_modules/@tensorflow/tfjs-core/dist-es6/ops/compare.js","node_modules/@tensorflow/tfjs-core/dist-es6/ops/conv_util.js","node_modules/@tensorflow/tfjs-core/dist-es6/ops/conv.js","node_modules/@tensorflow/tfjs-core/dist-es6/ops/image_ops.js","node_modules/@tensorflow/tfjs-core/dist-es6/tracking.js","node_modules/@tensorflow/tfjs-core/dist-es6/ops/linalg_ops.js","node_modules/@tensorflow/tfjs-core/dist-es6/ops/logical_ops.js","node_modules/@tensorflow/tfjs-core/dist-es6/ops/loss_ops.js","node_modules/@tensorflow/tfjs-core/dist-es6/ops/lrn.js","node_modules/@tensorflow/tfjs-core/dist-es6/ops/lstm.js","node_modules/@tensorflow/tfjs-core/dist-es6/ops/matmul.js","node_modules/@tensorflow/tfjs-core/dist-es6/ops/moving_average.js","node_modules/@tensorflow/tfjs-core/dist-es6/ops/norm.js","node_modules/@tensorflow/tfjs-core/dist-es6/ops/pool.js","node_modules/@tensorflow/tfjs-core/dist-es6/ops/reverse.js","node_modules/@tensorflow/tfjs-core/dist-es6/ops/slice_util.js","node_modules/@tensorflow/tfjs-core/dist-es6/ops/slice.js","node_modules/@tensorflow/tfjs-core/dist-es6/ops/softmax.js","node_modules/@tensorflow/tfjs-core/dist-es6/ops/strided_slice.js","node_modules/@tensorflow/tfjs-core/dist-es6/ops/transpose.js","node_modules/@tensorflow/tfjs-core/dist-es6/ops/selu_util.js","node_modules/@tensorflow/tfjs-core/dist-es6/ops/unary_ops.js","node_modules/@tensorflow/tfjs-core/dist-es6/ops/ops.js","node_modules/@tensorflow/tfjs-core/dist-es6/tensor.js","node_modules/@tensorflow/tfjs-core/dist-es6/gradients.js","node_modules/@tensorflow/tfjs-core/dist-es6/globals.js","node_modules/@tensorflow/tfjs-core/dist-es6/profiler.js","node_modules/@tensorflow/tfjs-core/dist-es6/tape.js","node_modules/@tensorflow/tfjs-core/dist-es6/engine.js","node_modules/@tensorflow/tfjs-core/dist-es6/environment.js","node_modules/@tensorflow/tfjs-core/dist-es6/ops/reduce_util.js","node_modules/@tensorflow/tfjs-core/dist-es6/kernels/backend_util.js","node_modules/@tensorflow/tfjs-core/dist-es6/kernels/webgl/argminmax_gpu.js","node_modules/@tensorflow/tfjs-core/dist-es6/kernels/webgl/avg_pool_backprop_gpu.js","node_modules/@tensorflow/tfjs-core/dist-es6/kernels/webgl/batchnorm_gpu.js","node_modules/@tensorflow/tfjs-core/dist-es6/kernels/webgl/binaryop_gpu.js","node_modules/@tensorflow/tfjs-core/dist-es6/kernels/webgl/clip_gpu.js","node_modules/@tensorflow/tfjs-core/dist-es6/kernels/webgl/concat_gpu.js","node_modules/@tensorflow/tfjs-core/dist-es6/kernels/webgl/conv_backprop_gpu.js","node_modules/@tensorflow/tfjs-core/dist-es6/kernels/webgl/conv_gpu.js","node_modules/@tensorflow/tfjs-core/dist-es6/kernels/webgl/tex_util.js","node_modules/@tensorflow/tfjs-core/dist-es6/kernels/webgl/shader_compiler.js","node_modules/@tensorflow/tfjs-core/dist-es6/kernels/webgl/cumsum_gpu.js","node_modules/@tensorflow/tfjs-core/dist-es6/kernels/webgl/conv_gpu_depthwise.js","node_modules/@tensorflow/tfjs-core/dist-es6/kernels/webgl/from_pixels_gpu.js","node_modules/@tensorflow/tfjs-core/dist-es6/kernels/webgl/gather_gpu.js","node_modules/@tensorflow/tfjs-core/dist-es6/kernels/webgl/webgl_util.js","node_modules/@tensorflow/tfjs-core/dist-es6/kernels/webgl/gpgpu_util.js","node_modules/@tensorflow/tfjs-core/dist-es6/kernels/webgl/gpgpu_context.js","node_modules/@tensorflow/tfjs-core/dist-es6/kernels/webgl/gpgpu_math.js","node_modules/@tensorflow/tfjs-core/dist-es6/kernels/webgl/logical_gpu.js","node_modules/@tensorflow/tfjs-core/dist-es6/kernels/webgl/lrn_gpu.js","node_modules/@tensorflow/tfjs-core/dist-es6/kernels/webgl/max_pool_backprop_gpu.js","node_modules/@tensorflow/tfjs-core/dist-es6/kernels/webgl/mulmat_gpu.js","node_modules/@tensorflow/tfjs-core/dist-es6/kernels/webgl/multinomial_gpu.js","node_modules/@tensorflow/tfjs-core/dist-es6/kernels/webgl/onehot_gpu.js","node_modules/@tensorflow/tfjs-core/dist-es6/kernels/webgl/pad_gpu.js","node_modules/@tensorflow/tfjs-core/dist-es6/kernels/webgl/pool_gpu.js","node_modules/@tensorflow/tfjs-core/dist-es6/kernels/webgl/reduce_gpu.js","node_modules/@tensorflow/tfjs-core/dist-es6/kernels/webgl/resize_bilinear_backprop_gpu.js","node_modules/@tensorflow/tfjs-core/dist-es6/kernels/webgl/resize_bilinear_gpu.js","node_modules/@tensorflow/tfjs-core/dist-es6/kernels/webgl/resize_nearest_neighbor_gpu.js","node_modules/@tensorflow/tfjs-core/dist-es6/kernels/webgl/reverse_gpu.js","node_modules/@tensorflow/tfjs-core/dist-es6/kernels/webgl/slice_gpu.js","node_modules/@tensorflow/tfjs-core/dist-es6/kernels/webgl/strided_slice_gpu.js","node_modules/@tensorflow/tfjs-core/dist-es6/kernels/webgl/texture_manager.js","node_modules/@tensorflow/tfjs-core/dist-es6/kernels/webgl/tile_gpu.js","node_modules/@tensorflow/tfjs-core/dist-es6/kernels/webgl/transpose_gpu.js","node_modules/@tensorflow/tfjs-core/dist-es6/ops/erf_util.js","node_modules/@tensorflow/tfjs-core/dist-es6/kernels/webgl/unaryop_gpu.js","node_modules/@tensorflow/tfjs-core/dist-es6/kernels/backend_webgl.js","node_modules/@tensorflow/tfjs-core/dist-es6/kernels/backend_cpu.js","node_modules/@tensorflow/tfjs-core/dist-es6/browser_util.js","node_modules/@tensorflow/tfjs-core/dist-es6/io/types.js","node_modules/@tensorflow/tfjs-core/dist-es6/io/io_utils.js","node_modules/@tensorflow/tfjs-core/dist-es6/io/router_registry.js","node_modules/@tensorflow/tfjs-core/dist-es6/io/model_management.js","node_modules/@tensorflow/tfjs-core/dist-es6/io/indexed_db.js","node_modules/@tensorflow/tfjs-core/dist-es6/io/local_storage.js","node_modules/@tensorflow/tfjs-core/dist-es6/io/browser_files.js","node_modules/@tensorflow/tfjs-core/dist-es6/io/browser_http.js","node_modules/@tensorflow/tfjs-core/dist-es6/io/weights_loader.js","node_modules/@tensorflow/tfjs-core/dist-es6/io/io.js","node_modules/@tensorflow/tfjs-core/dist-es6/serialization.js","node_modules/@tensorflow/tfjs-core/dist-es6/test_util.js","node_modules/@tensorflow/tfjs-core/dist-es6/version.js","node_modules/@tensorflow/tfjs-core/dist-es6/webgl.js","node_modules/@tensorflow/tfjs-core/dist-es6/optimizers/optimizer.js","node_modules/@tensorflow/tfjs-core/dist-es6/optimizers/adadelta_optimizer.js","node_modules/@tensorflow/tfjs-core/dist-es6/optimizers/adagrad_optimizer.js","node_modules/@tensorflow/tfjs-core/dist-es6/optimizers/adam_optimizer.js","node_modules/@tensorflow/tfjs-core/dist-es6/optimizers/adamax_optimizer.js","node_modules/@tensorflow/tfjs-core/dist-es6/optimizers/sgd_optimizer.js","node_modules/@tensorflow/tfjs-core/dist-es6/optimizers/momentum_optimizer.js","node_modules/@tensorflow/tfjs-core/dist-es6/optimizers/rmsprop_optimizer.js","node_modules/@tensorflow/tfjs-core/dist-es6/optimizers/optimizer_constructors.js","node_modules/@tensorflow/tfjs-core/dist-es6/train.js","node_modules/@tensorflow/tfjs-core/dist-es6/index.js","node_modules/core-js/library/modules/es6.object.define-property.js","node_modules/core-js/library/fn/object/define-property.js","node_modules/babel-runtime/core-js/object/define-property.js","node_modules/babel-runtime/helpers/defineProperty.js","node_modules/core-js/library/modules/_create-property.js","node_modules/core-js/library/modules/es6.array.from.js","node_modules/core-js/library/fn/array/from.js","node_modules/babel-runtime/core-js/array/from.js","node_modules/babel-runtime/helpers/toConsumableArray.js","node_modules/babel-runtime/helpers/classCallCheck.js","node_modules/babel-runtime/helpers/createClass.js","../../../.config/yarn/global/node_modules/punycode/punycode.js","../../../.config/yarn/global/node_modules/url/util.js","../../../.config/yarn/global/node_modules/querystring-es3/decode.js","../../../.config/yarn/global/node_modules/querystring-es3/encode.js","../../../.config/yarn/global/node_modules/querystring-es3/index.js","../../../.config/yarn/global/node_modules/url/url.js","node_modules/@protobufjs/aspromise/index.js","node_modules/@protobufjs/base64/index.js","node_modules/@protobufjs/eventemitter/index.js","node_modules/@protobufjs/float/index.js","node_modules/@protobufjs/inquire/index.js","node_modules/@protobufjs/utf8/index.js","node_modules/@protobufjs/pool/index.js","node_modules/protobufjs/src/util/longbits.js","../../../.config/yarn/global/node_modules/base64-js/index.js","../../../.config/yarn/global/node_modules/ieee754/index.js","../../../.config/yarn/global/node_modules/isarray/index.js","../../../.config/yarn/global/node_modules/buffer/index.js","node_modules/protobufjs/src/util/minimal.js","node_modules/protobufjs/src/writer.js","node_modules/protobufjs/src/writer_buffer.js","node_modules/protobufjs/src/reader.js","node_modules/protobufjs/src/reader_buffer.js","node_modules/protobufjs/src/rpc/service.js","node_modules/protobufjs/src/rpc.js","node_modules/protobufjs/src/roots.js","node_modules/protobufjs/src/index-minimal.js","node_modules/protobufjs/minimal.js","node_modules/@tensorflow/tfjs-converter/dist-es6/data/compiled_api.js","node_modules/@tensorflow/tfjs-converter/dist-es6/operations/executors/utils.js","node_modules/@tensorflow/tfjs-converter/dist-es6/operations/operation_mapper.js","node_modules/@tensorflow/tfjs-converter/dist-es6/operations/executors/arithmetic_executor.js","node_modules/@tensorflow/tfjs-converter/dist-es6/operations/executors/basic_math_executor.js","node_modules/@tensorflow/tfjs-converter/dist-es6/operations/executors/control_executor.js","node_modules/@tensorflow/tfjs-converter/dist-es6/operations/executors/convolution_executor.js","node_modules/@tensorflow/tfjs-converter/dist-es6/operations/executors/creation_executor.js","node_modules/@tensorflow/tfjs-converter/dist-es6/operations/executors/graph_executor.js","node_modules/@tensorflow/tfjs-converter/dist-es6/operations/executors/image_executor.js","node_modules/@tensorflow/tfjs-converter/dist-es6/operations/executors/logical_executor.js","node_modules/@tensorflow/tfjs-converter/dist-es6/operations/executors/matrices_executor.js","node_modules/@tensorflow/tfjs-converter/dist-es6/operations/executors/normalization_executor.js","node_modules/@tensorflow/tfjs-converter/dist-es6/operations/executors/reduction_executor.js","node_modules/@tensorflow/tfjs-converter/dist-es6/operations/executors/slice_join_executor.js","node_modules/@tensorflow/tfjs-converter/dist-es6/operations/executors/transformation_executor.js","node_modules/@tensorflow/tfjs-converter/dist-es6/operations/operation_executor.js","node_modules/@tensorflow/tfjs-converter/dist-es6/executor/execution_context.js","node_modules/@tensorflow/tfjs-converter/dist-es6/executor/graph_executor.js","node_modules/@tensorflow/tfjs-converter/dist-es6/executor/frozen_model.js","node_modules/@tensorflow/tfjs-converter/dist-es6/version.js","node_modules/@tensorflow/tfjs-converter/dist-es6/index.js","imagenet_classes.js","mobilenet.js","index.js"],"names":["isMobile","a","navigator","userAgent","vendor","window","opera","test","substr","doc","info","args","_i","arguments","length","assertArgumentsAreTensors","shuffle","clamp","randUniform","distSquared","assert","assertShapesMatch","assertTypesMatch","flatten","inferShape","sizeFromShape","isScalarShape","arraysEqual","isInt","tanh","sizeToSquarishShape","createShuffledIndices","rightPad","repeatedTry","getQueryParams","inferFromImplicitShape","squeezeShape","getTypedArrayFromDType","isTensorInList","checkForNaN","flattenNameArrayMap","unflattenToNameArrayMap","hasEncodingLoss","copyTypedArray","isTypedArray","bytesPerElement","isFunction","extractTensorsFromContainer","extractTensorsFromAny","assertArgumentIsTensor","x","argName","functionName","Tensor","_loop_1","arg","Array","isArray","forEach","t","i","array","counter","temp","index","Math","random","min","max","b","result","diff","Number","expr","msg","Error","shapeA","shapeB","errorMessagePrefix","dtype","arr","ret","push","val","shape","size","n1","n2","Infinity","e2x","exp","floor","sqrt","n","shuffledIndices","Uint32Array","repeat","checkFn","delayFn","maxCounter","Promise","resolve","reject","tryCount","tryFn","nextBackoff","setTimeout","queryString","params","replace","s","decodeParam","join","name","value","decodeURIComponent","shapeProd","implicitIdx","newShape","slice","axis","keptDims","j","values","Float32Array","Int32Array","Uint8Array","tensor","tensorList","id","vals","isNaN","nameArrayMap","keys","xs","xMap","flatArrays","oldType","newType","bool","round","f","constructor","call","apply","list","resultObj","isIterable","k","sublist","filter","obj","tensorToString","util","FORMAT_LIMIT_NUM_VALS","FORMAT_NUM_FIRST_LAST_VALS","FORMAT_NUM_SIG_DIGITS","verbose","dataSync","padPerCol","computeMaxSizePerColumn","valsLines","subTensorToString","strides","lines","rank","map","l","numCols","fill","row","offset","valToString","pad","parseFloat","toFixed","toString","isLast","firstVals","from","subarray","lastVals","subshape","substrides","stride","start","end","sep","newLineSep","axesAreInnerMostDims","combineLocations","computeOutAndReduceShapes","expandShapeToKeepDim","parseAxisParam","assertAxesAreInnerMostDims","getAxesPermutation","getUndoAxesPermutation","getInnerMostAxes","axes","outputLoc","reduceLoc","loc","outIdx","reduceIdx","dim","indexOf","aShape","outShape","reduceShape","reduceSubShape","concat","every","ax","sort","numAxes","res","assertParams","computeOutShape1D","computeOutShape","computeGradientSliceShapes","bShape","aRank","bRank","x1Shape","x2Shape","outputShape","aBegin","aSize","bBegin","bSize","operation","target","descriptor","fn","concat_util","__decorate","decorators","key","desc","c","r","Object","getOwnPropertyDescriptor","d","Reflect","decorate","defineProperty","ConcatOps","concat1d","tensors","concat2d","concat3d","concat4d","concat2Tensors","heading","subheading","a2D","as2D","b2D","_a","der","dy","ENV","engine","runKernel","backend","reshape","seedrandom","MPRandGauss","mean","stdDeviation","truncated","seed","stdDev","nextVal","NaN","upper","lower","seedValue","alea","prototype","nextValue","resultX","resultY","isValid","v1","v2","mul","log","isValidTruncated","convertValue","axis_util","ops","ReductionOps","logSumExp","keepDims","xMax","sub","sum","add","toInt","customOp","permutation","reductionAxes","permutedX","transpose","gradFunc","expandedDyShape","expandedDy","derX","ones","shapes","reduceSize","reduceSizeScalar","scalar","xReduce","cast","div","origAxes","permutedAxes","argMin","argMax","moments","keepDimsShape","devSquared","toFloat","square","variance","unsortedSegmentSum","segmentIds","numSegments","reshapedSegmentIds","segmentId","mask","equal","asType","stack","tensor_util","__awaiter","thisArg","_arguments","P","generator","fulfilled","step","next","e","rejected","done","then","__generator","body","_","label","sent","trys","y","g","verb","Symbol","iterator","v","op","TypeError","pop","ArrayOps","inferredShape","make","toTypedArray","tensor1d","tensor2d","tensor3d","tensor4d","makeOnesTypedArray","zeros","makeZerosTypedArray","onesLike","zerosLike","clone","dataId","eye","numRows","numColumns","batchShape","buffer","set","out","toTensor","tile","expandDims","randomNormal","randGauss","truncatedNormal","randomUniform","minval","maxval","rand","randFunction","multinomial","logits","numSamples","normalized","numOutcomes","origRank","logits2D","as1D","oneHot","indices","depth","onValue","offValue","fromPixels","pixels","numChannels","toPixels","img","canvas","height","width","minTensor","maxTensor","data","multiplier","bytes","ctx","imageData","_b","dispose","Uint8ClampedArray","getContext","ImageData","putImageData","grad","squeeze","reps","xGrad","gather","pad1d","paddings","constantValue","pad2d","pad3d","pad4d","begin","p","expandedTensors","unstack","num","outIndex","splitSizes","split","numOrSizeSplits","reduce","cumsum","exclusive","reverse","splice","linspace","stop","range","sameStartStop","increasingRangeNegativeStep","decreasingRangePositiveStep","numElements","abs","ceil","TensorBuffer","print","console","noConversionNeeded","getBroadcastDims","getReductionAxes","broadcastDimsAreOuter","assertAndGetBroadcastShape","inShape","inRank","dims","unshift","inDim","outAxis","outDim","errMsg","BatchNormOps","batchNormalization2d","varianceEpsilon","scale","batchNormalization","batchNormalization3d","batchNormalization4d","x4D","as4D","scaleValue","tileShape","xMinusMean","dyTimesScaleValue","oneOverSqrtVariance","minusHalfRCube","derMean","meanDer","derVariance","varianceDer","derScale","xMinusMean2TimesRsqrt","scaleDer","derOffset","offsetDer","batchnormReshape4D","upcastType","sumOutType","DType","Rank","UpcastInt32AndMap","UpcastBoolAndMap","UpcastFloat32AndMap","upcastTypeMap","float32","int32","typeA","typeB","type","broadcast_util","BinaryOps","derA","reduceAxes","derB","addStrict","neg","subtract","subStrict","pow","base","saved","derBase","derExp","save","powStrict","multiply","mulStrict","tmp","divide","divStrict","mod","modStrict","minimum","lessEqual","greater","minimumStrict","maximum","greaterEqual","less","maximumStrict","squaredDifference","two","squaredDifferenceStrict","atan2","CompareOps","notEqual","notEqualStrict","lessStrict","equalStrict","lessEqualStrict","greaterStrict","greaterEqualStrict","computePool2DInfo","computeConv2DInfo","computeDefaultPad","filterSize","roundingMode","dataFormat","parseTupleParam","filterHeight","filterWidth","filterShape","dilations","depthwise","batchSize","inHeight","inWidth","inChannels","filterChannels","strideHeight","strideWidth","_c","dilationHeight","dilationWidth","effectiveFilterHeight","getEffectiveFilterSize","effectiveFilterWidth","_d","getPadAndOutInfo","padInfo","outHeight","outWidth","outChannels","computeOutputShape3D","fieldSize","outDepth","zeroPad","inputRows","inputCols","outputRows","conditionalRound","outputCols","inputShape","dilation","effectiveFieldSize","param","padType","top","bottom","left","right","padAlongHeight","padAlongWidth","top_1","conv_util","ConvOps","conv1d","dimRoundingMode","x3D","reshapedTo3D","as3D","eitherStridesOrDilationsAreOne","filter4D","input4D","conv2dDataFormat","conv2d","reshapedTo4D","convInfo","tupleValuesAreOne","conv2dDerInput","conv2dDerFilter","xShape","xShape4D","dy4D","inDepth","conv2dTranspose","depthwiseConv2d","depthwiseConv2D","separableConv2d","depthwiseFilter","pointwiseFilter","channelMultiplier","pointwiseStride","dimA","dimB","ImageOps","resizeBilinear","images","alignCorners","batchImages","newHeight","newWidth","forward","backward","resizeBilinearBackprop","resizeNearestNeighbor","namespace","Tracking","tidy","nameOrFn","gradMode","String","startScope","error","endScope","container","keep","time","LinalgOps","gramSchmidt","inputIsTensor2D","ys","xs1d","proj","types","LogicalOps","logicalNot","logicalAnd","logicalOr","logicalXor","where","condition","Reduction","LossOps","computeWeightedLoss","losses","weights","reduction","SUM_BY_NONZERO_WEIGHTS","weightedLoss","NONE","SUM","MEAN","numNonZeros","absoluteDifference","labels","predictions","meanSquaredError","cosineDistance","one","hingeLoss","relu","logLoss","epsilon","epsilonScalar","LRNOps","localResponseNormalization","radius","bias","alpha","beta","localResponseNormalization4D","LSTMOps","multiRNNCell","lstmCells","h","input","newStates","output","newC","newH","basicLSTMCell","forgetBias","lstmKernel","lstmBias","combined","weighted","matMul","sliceCols","sliceSize","o","sigmoid","MatmulOps","transposeA","transposeB","innerShapeA","innerShapeB","vectorTimesMatrix","matrix","matrixTimesVector","dotProduct","asScalar","outerProduct","MovingAverageOps","movingAverage","decay","zeroDebias","oneMinusDecay","update","NormOps","norm","ord","normImpl","PoolOps","maxPool","y4D","maxPoolBackprop","avgPool","avgPoolBackprop","ReverseOps","reverse1d","reverse2d","reverse3d","reverse4d","reshapeAs","assertParamsValid","getStridedSlicedInfo","startForAxis","stopForAxis","beginMask","endMask","startIndex","endIndex","count","startIndices","MIN_SAFE_INTEGER","MAX_SAFE_INTEGER","axisSize","stopIndices","slice_util","SliceOps","slice1d","slice2d","slice3d","slice4d","begin_","size_","SoftmaxOps","softmax","lse","logResult","dyTimesY","softmaxCrossEntropy","predictedProbs","costVector","dyShape","StridedSliceOps","stridedSlice","TransposeOps","perm","undoPerm","SELU_SCALEALPHA","SELU_SCALE","selu_util","UnaryOps","sign","bck","expm1","log1p","rsqrt","reciprocal","clipByValue","clipValueMin","clipValueMax","clip","stepRes","elu","eluDer","selu","scaleAlpha","greaterThanZeroDer","lessEqualZeroDer","leakyRelu","prelu","zero","logSigmoid","softplus","sin","cos","tan","asin","acos","atan","sinh","cosh","asinh","acosh","atanh","erf","PI","linalg","image","__extends","extendStatics","setPrototypeOf","__proto__","hasOwnProperty","__","create","computeStrides","locs","locToIndex","get","indexToLoc","enumerable","configurable","isDisposed","Tensor_1","nextId","rankType","registerTensor","write","throwIfDisposed","rows","columns","depth2","read","readSync","disposeTensor","toBool","newShape2D","variable","trainable","Variable","_super","initialValue","_this","Variable_1","nextVarId","registerVariable","assign","newValue","Gradients","gradScope","nameOrScopeFn","scopeFn","gradients","grads","checkGrads","valueAndGrad","valueAndGrads","variableGrads","varList","varName","registeredVariables","originalVarCount","allowNoGradients","some","namedGrads","customGrad","numNullGradients","Profiler","backendTimer","logger","Logger","profileKernel","holdResultWrapperFn","timer","timing","logKernelProfile","kernelMs","timeMs","paddedName","getFilteredNodesXToY","backpropagateGradients","tape","tensorsFromX","nodesFromX","node","nodeInputs","inputs","inputName","anyInputFromX","tensorsLeadToY","nodesToY","outputs","filteredTape","prunedInputs","nodeInput","prunedNode","tensorAccumulatedGradientMap","gradient","inputGradients","dx","curGradient","Engine","safeMode","refCounter","WeakMap","nextTapeNodeId","numBytes","numTensors","numDataBuffers","gradientScopeCount","customGradientDepth","activeScope","track","scopeStack","profiler","forwardFunc","backwardsFunc","saveFunc","scopeName","shouldRecord","tapeNode","activeTape","refCount","has","register","delete","disposeData","disposeVariables","memory","addTapeNode","gradientsFunc","inputsMap","idx","resMap","gradientsMode","scopeInfo","tensorsToKeep","tensorsToTrackInParent","accumulatedGradientMap","query","timingInfo","performance","now","wallMs","device_util","Type","URL_PROPERTIES","BOOLEAN","NUMBER","STRING","hasExtension","gl","extensionName","ext","getExtension","getWebGLRenderingContext","webGLVersion","tempCanvas","document","createElement","loseContext","loseContextExtension","isWebGLVersionEnabled","getWebGLDisjointQueryTimerVersion","queryTimerVersion","isFloatTextureReadPixelsEnabled","frameBuffer","createFramebuffer","texture","createTexture","bindTexture","TEXTURE_2D","internalFormat","RGBA32F","RGBA","texImage2D","FLOAT","bindFramebuffer","FRAMEBUFFER","framebufferTexture2D","COLOR_ATTACHMENT0","frameBufferComplete","checkFramebufferStatus","FRAMEBUFFER_COMPLETE","readPixels","readPixelsNoError","getError","NO_ERROR","isWebGLGetBufferSubDataAsyncExtensionEnabled","isEnabled","Environment","features","registry","warn","setBackend","backendType","initBackend","getBackend","initDefaultBackend","currentBackend","feature","evaluateFeature","getBestBackendType","sortedBackends","entry","priority","setFeatures","reset","getFeaturesFromURL","globalEngine","findBackend","registerBackend","factory","err","message","removeBackend","TENSORFLOWJS_FLAGS_PREFIX","location","urlParams","search","urlFlags_1","keyValues","keyValue","urlProperty","getGlobalNamespace","ns","global","getOrMakeEnvironment","computeOptimalWindowSize","PARALLELIZE_THRESHOLD","inSize","nearestDivisor","castTensor","reshapeTensor","int","ArgMinMaxProgram","reduceInfo","firstPass","variableNames","windowSize","outSize","compOp","indexSnippet","userCode","AvgPool2DBackpropProgram","padTop","padLeft","avgMultiplier","BatchNormProgram","meanShape","varianceShape","offsetShape","scaleShape","supportsBroadcasting","offsetSnippet","scaleSnippet","CHECK_NAN_SNIPPET","ADD","SUB","MUL","DIV","INT_DIV","POW","SQUARED_DIFFERENCE","EQUAL","NOT_EQUAL","LESS","LESS_EQUAL","GREATER","GREATER_EQUAL","LOGICAL_AND","LOGICAL_OR","MAX","MIN","MOD","ATAN2","ELU_DER","BinaryOpProgram","ClipProgram","minFixed","maxFixed","ConcatProgram","Conv2DDerFilterProgram","Conv2DDerInputProgram","Conv2DProgram","inputDepthNearestVec4","inputDepthVec4Remainder","getUnpackedMatrixTextureShapeWidthHeight","getUnpackedArraySizeFromMatrixSize","getColorMatrixTextureShapeWidthHeight","getMatrixSizeFromUnpackedArraySize","encodeMatrixToUnpackedArray","encodeFloatArray","decodeToFloatArray","decodeMatrixFromUnpackedArray","decodeMatrixFromUnpackedColorRGBAArray","getPackedMatrixTextureShapeWidthHeight","getPackedRGBAArraySizeFromMatrixShape","encodeMatrixToPackedRGBA","decodeMatrixFromPackedRGBA","TextureType","matrixSize","channelsPerTexture","unpackedSize","unpackedArray","requiredSize","dst","src","FLOAT_MAX","FLOAT_MIN","FLOAT_RANGE","FLOAT_DELTAS","FLOAT_POWERS","BYTE_NAN_VALUE","floatArray","uintArray","normalizedValue","enc","buckets","_loop_2","dot","delta","channels","w","packedRGBA","textureWidth","textureHeight","oddWidth","oddHeight","widthInFullBlocks","heightInFullBlocks","dstStride","oneRow","blockY","matrixSrcRow","blockX","matrixSrcCol","srcStride","dstRow1","dstRow2","makeShader","getCoordsDataType","tex_util","inputsInfo","broadcast","sampleSnippet","getSampleSnippet","setOutputSnippet","getSetOutputSnippet","inputPrefixSnippet","inputSamplingSnippet","getInputSamplingSnippet","outTexShape","texShape","outputSamplingSnippet","getOutputSamplingSnippet","logicalShape","source","SHADER_PREFIX","FLOAT_TEXTURE_SAMPLE_SNIPPET","UNSIGNED_BYTE_TEXTURE_SAMPLE_SNIPPET","FLOAT_TEXTURE_SETOUTPUT_SNIPPET","UNSIGNED_BYTE_TEXTURE_SETOUTPUT_SNIPPET","getSamplerFromInInfo","inInfo","shapeInfo","getSamplerScalar","getSampler1D","getSampler2D","getSampler3D","getSampler4D","outShapeInfo","getSamplerFlat","getSamplerAtOutputCoords","getOutputScalarCoords","getOutput1DCoords","getOutput2DCoords","getOutput3DCoords","getOutput4DCoords","SAMPLE_1D_SNIPPET","SAMPLE_2D_SNIPPET","SAMPLE_3D_SNIPPET","SAMPLE_4D_SNIPPET","stride0","stride1","stride2","inputInfo","texName","funcName","charAt","toUpperCase","texNumR","texNumC","squeezedShape","newInputInfo","squeezeInputInfo","getSqueezedParams","tNumR","tNumC","getBroadcastOutputCoordsSampler","texFuncSnippet","outRank","broadcastDims","rankDiff","coordsSnippet","unpackedCoordsSnippet","inTexShape","doBroadcast","broadcastOverOuter","broadcastSnippet","JSON","parse","stringify","CumSumProgram","finalDim","outputCoords","getCoords","sourceCoords","finalCoord","getFinalCoord","finalAdjustableCoord","indexAdjuster","comparator","DepthwiseConv2DProgram","xNumRows","xNumCols","channelMul","FromPixelsProgram","GatherProgram","indicesLength","getSourceCoords","currentCoords","createWebGLRenderingContext","createWebGLRenderingContextFromCanvas","callAndCheck","enableDebugWebGLErrorChecking","checkWebGLError","getWebGLErrorMessage","getExtensionOrThrow","createVertexShader","createFragmentShader","createProgram","linkProgram","validateProgram","createStaticVertexBuffer","createStaticIndexBuffer","queryMaxTextureSize","getChannelsPerTexture","validateTextureSize","bindVertexBufferToProgramAttribute","bindTextureUnit","unbindTextureUnit","getProgramUniformLocationOrThrow","getProgramUniformLocation","bindTextureToProgramUniformSampler","bindCanvasToFramebuffer","bindColorTextureToFramebuffer","unbindColorTextureFromFramebuffer","validateFramebuffer","getFramebufferErrorMessage","getTextureShapeFromLogicalShape","MAX_TEXTURE_SIZE","attributes","webglVersion","func","returnValue","webGLDebugErrorCheckingEnabled","enabled","status","INVALID_ENUM","INVALID_VALUE","INVALID_OPERATION","INVALID_FRAMEBUFFER_OPERATION","OUT_OF_MEMORY","CONTEXT_LOST_WEBGL","throwIfNull","vertexShaderSource","vertexShader","createShader","VERTEX_SHADER","shaderSource","compileShader","getShaderParameter","COMPILE_STATUS","getShaderInfoLog","fragmentShaderSource","fragmentShader","FRAGMENT_SHADER","logShaderSourceAndInfoLog","lineNumberRegex","shaderInfoLog","lineNumberRegexResult","exec","lineNumber","shaderLines","linesWithLineNumbers","line","maxLineLength","beforeErrorLines","errorLine","afterErrorLines","program","getProgramParameter","LINK_STATUS","getProgramInfoLog","VALIDATE_STATUS","createBuffer","bindBuffer","ARRAY_BUFFER","bufferData","STATIC_DRAW","ELEMENT_ARRAY_BUFFER","getParameter","maxTextureSize","requested","attribute","arrayEntriesPerItem","itemStrideInBytes","itemOffsetInBytes","getAttribLocation","vertexAttribPointer","enableVertexAttribArray","textureUnit","validateTextureUnit","activeTexture","TEXTURE0","uniformName","getUniformLocation","uniformSamplerLocation","uniform1i","viewport","scissor","framebuffer","FRAMEBUFFER_INCOMPLETE_ATTACHMENT","FRAMEBUFFER_INCOMPLETE_MISSING_ATTACHMENT","FRAMEBUFFER_INCOMPLETE_DIMENSIONS","FRAMEBUFFER_UNSUPPORTED","returnTOrNull","failureMessage","tOrNull","maxTextureUnit","MAX_COMBINED_TEXTURE_IMAGE_UNITS","glTextureUnit","textureUnitRange","logShape","squeezeResult","maxTexSize","getWebGLContextAttributes","createWebGLContext","createVertexBuffer","createIndexBuffer","createMatrixTexture","createColorMatrixTexture","createPackedMatrixTexture","bindVertexProgramAttributeStreams","uploadPixelDataToTexture","uploadMatrixToTexture","uploadMatrixToPackedTexture","downloadMatrixFromOutputTextureAsync","downloadMatrixFromOutputTexture","downloadMatrixFromRGBAColorTexture","downloadMatrixFromPackedOutputTexture","webgl_util","antialias","premultipliedAlpha","preserveDrawingBuffer","stencil","failIfMajorPerformanceCaveat","disable","DEPTH_TEST","STENCIL_TEST","BLEND","DITHER","POLYGON_OFFSET_FILL","SAMPLE_COVERAGE","enable","SCISSOR_TEST","CULL_FACE","cullFace","BACK","vertexArray","triangleVertexIndices","Uint16Array","getTextureInternalFormat","R32F","getTextureFormat","RED","getTextureType","UNSIGNED_BYTE","createAndConfigureTexture","tex2d","format","texParameteri","TEXTURE_WRAP_S","CLAMP_TO_EDGE","TEXTURE_WRAP_T","TEXTURE_MIN_FILTER","NEAREST","TEXTURE_MAG_FILTER","vertexBuffer","posOffset","uvOffset","success","uploadDataToTexture","textureFormat","texSubImage2D","getDownloadTargetArrayBuffer","isFloatTexture","downloadTarget","decodeDownloadTargetArrayBuffer","channelsPerPixel","getBufferSubDataAsyncExtension","gl2","bufferSizeBytes","PIXEL_PACK_BUFFER","getBufferSubDataAsync","gpgpu_util","GPGPUContext","outputTexture","disposed","autoDebugValidate","vertexAttrsAreBound","textureFloatExtension","colorBufferFloatExtension","indexBuffer","finish","deleteFramebuffer","deleteBuffer","enableAutomaticDebugValidation","deleteMatrixTexture","deleteTexture","downloadMatrixFromTexture","downloadMatrixDriver","downloadMatrixFromTextureAsync","downloadMatrixDriverAsync","downloadMatrixFromPackedTexture","attachShader","setProgram","deleteProgram","useProgram","shouldThrow","getAttributeLocation","getUniformLocationNoThrow","setInputMatrixTexture","inputMatrixTexture","uniformLocation","throwIfNoProgram","setOutputMatrixTexture","outputMatrixTexture","setOutputMatrixTextureDriver","setOutputPackedMatrixTexture","outputPackedMatrixTexture","setOutputMatrixWriteRegion","startRow","startColumn","setOutputMatrixWriteRegionDriver","setOutputPackedMatrixWriteRegion","debugValidate","executeProgram","drawElements","TRIANGLES","UNSIGNED_SHORT","blockUntilAllProgramsCompleted","getQueryTimerExtension","disjointQueryTimerExtension","getQueryTimerExtensionWebGL2","getQueryTimerExtensionWebGL1","runQuery","queryFn","beginQuery","endQuery","pollQueryTime","ext_1","query_1","createQuery","TIME_ELAPSED_EXT","createQueryEXT","beginQueryEXT","ext_2","endQueryEXT","isQueryAvailable","available","getQueryParameter","QUERY_RESULT_AVAILABLE","disjoint","GPU_DISJOINT_EXT","getQueryObjectEXT","QUERY_RESULT_AVAILABLE_EXT","resolveWithWarning","getQueryTime","catch","timeElapsedNanos","QUERY_RESULT","QUERY_RESULT_EXT","downloadMatrixDriverSetup","downloadMatrixDriverTeardown","downloadAndDecode","outputMatrixTextureMaybePacked","compileProgram","runProgram","makeShaderKey","shader_compiler","NAN_UNIFORM_NAME","shouldUploadNaNUniform","gpgpu","inputInfos","texData","inShapeInfos","webGLProgram","uniformLocations","throwIfNaNUniformIsNotUsed","validateBinaryAndProgram","shapeInfos","texShapeA","texShapeB","binary","customSetup","outTex","tex","variableName","variableUniformLocation","uniform1f","keyInputs","keyUserCode","keyBroadcast","WhereProgram","cRank","cCoords","abCoords","cCoordVars","abCoordVars","LRNProgram","rad","maxD","powOperator","basis","MaxPool2DBackpropProgram","lastIndex","MatMulProgram","outerShapeA","outerShapeB","sharedDim","aSnippetFromOffset","vec4Offset","indexVar","bSnippetFromOffset","sharedDimNearestVec4","sharedDimVec4Remainder","MultinomialProgram","getCustomSetupFunc","seedLoc","OneHotProgram","numIndices","PadProgram","unpackedCoords","Pool2DProgram","poolType","computePositions","isAvgPool","initializationValue","compareOp_1","compareOp","filterWidthNearestVec4","filterWidthVec4Remainder","updateSnippet","ReduceProgram","reduceType","isReduceSum","windowSizeNearestVec4","windowSizeVec4Remainder","checkOutOfBounds","ResizeBilinearBackpropProgram","xHeight","xWidth","yHeight","yWidth","effectiveXSize","effectiveYSize","heightScale","widthScale","invHeightScale","invWidthScale","winHeight","winWidth","ResizeBilinearProgram","batch","oldHeight","oldWidth","effectiveInSize","effectiveOutSize","ResizeNearestNeighborProgram","roundBase","ReverseProgram","getInCoord","inCoords","SliceProgram","destSize","startLoc","uniform2i","uniform3i","uniform4i","StridedSliceProgram","newCoords","TextureManager","numUsedTextures","numFreeTextures","freeTextures","logEnabled","allocatedTextures","usedTextureCount","acquireTexture","shapeRC","texType","shapeKey","getKeyFromTextureShape","shift","newTexture","releaseTexture","total","getNumUsedTextures","getNumFreeTextures","shapeRowsCol","TileProgram","TransposeProgram","newDim","switched","getSwitchedCoords","originalOrder","switchedCoords","ERF_P","ERF_A1","ERF_A2","ERF_A3","ERF_A4","ERF_A5","STEP","erf_util","UnaryOpProgram","opSnippet","ABS","RELU","ELU","SELU","NEG","CEIL","FLOOR","SIGN","ROUND","EXP","EXPM1","LOG","LOG1P","SQRT","RSQRT","SIGMOID","SOFTPLUS","SIN","COS","TAN","ASIN","ACOS","ATAN","SINH","COSH","TANH","ASINH","ACOSH","ATANH","ERF","SQUARE","RECIPROCAL","LOGICAL_NOT","TO_INT","reduce_util","backend_util","binaryop_gpu","gpgpu_math","unary_op","MathBackendWebGL","delayedStorage","uploadWaitMs","downloadWaitMs","binaryCache","gpgpuCreatedLocally","textureManager","HTMLVideoElement","drawImage","tempPixelArray","getTexture","compileAndRun","throwIfNoData","uploadToGPU","cacheOnCPU","shouldTimeProgram","activeTimers","float32Values","oldActiveTimers","newActiveTimers","outerMostTime","flattenedActiveTimers","programTimersStack","all","results","unreliable","startTimer","startMs","endMs","endTimer","timerQuery","getTextureData","getGPGPUContext","getCanvas","beginIndex","makeOutputArray","cols","argReduce","bestIndicesA","outputDType","topKValues","topKIndices","outputDtype","getPositions","maxPoolPositionsProgram","maxPoolPositions","maxPoolBackPropProgram","avgPoolBackpropProgram","probs","inputsData","outputData","getAndSaveBinary","getBinary","getTextureManager","remove","typedArrayToFloat32","dontKeepCopyOnGPU","float32ToTypedArray","MathBackendCPU","HTMLCanvasElement","getImageData","HTMLImageElement","numPixels","channel","xLoc","newLoc","xBuffer","outLoc","inLoc","aVals","bVals","broadcastedBinaryOp","aValue","bValue","leftDim","rightDim","aValues","bValues","aOuterStep","aInnerStep","bOuterStep","bInnerStep","aOuterEnd","bOuterEnd","resultIndex","aOuter","bOuter","aInner","bInner","resultDtype","minIndex","maxIndex","prevIdx","aVal","bVal","newValues","topK","valuesAndIndices","topkValues","topkIndices","rem","resVals","inVals","resultValues","dyValues","threshold","tooLarge","tooSmall","expX","a1","a2","a3","a4","a5","d2","yR","xRCorner","yC","xCCorner","dotProd","wR","xR","wC","xC","d1","pixel","weight","dxValues","dxS0","dxS1","dxS2","dyS0","dyS1","dyS2","fltValues","fltS0","fltS1","fltS2","topPad","leftPad","xRMin","yRMax","xCMin","yCMax","dyOffset","fltOffset","dW","yRMin","yCMin","chMul","q","xBuf","originalLoc","i_1","originalIndex","coords","outCoords","i_2","newIndex","indicesValues","pool","xRMax","xCMax","minMaxValue","NEGATIVE_INFINITY","POSITIVE_INFINITY","avgValue","maxPositions","maxValue","maxPosition","dxR","dxC","dyRCorner","dyCCorner","dyR","dyC","maxPos","curPos","effectiveInputSize","effectiveOutputSize","sourceFracRow","sourceFracCol","sourceRowFloor","sourceRowCeil","sourceColFloor","sourceColCeil","topLeft","bottomLeft","topRight","bottomRight","rowFrac","colFrac","topDxRIndex","bottomDxRIndex","dxRLerp","inverseDxRLerp","leftDxCIndex","rightDxCIndex","dxCLerp","inverseDxCLerp","dyVal","sourceNearestRow","sourceNearestCol","xValues","meanValues","varianceValues","scaleValues","offsetValues","outValues","sumAcrossChannels","z","probabilities","numEvents","probVals","cdf","event_1","outOffset","sampleId","event_2","event_3","aBroadcastDims","bBroadcastDims","aBuf","bBuf","aLoc","aIndex","bLoc","bIndex","BrowserUtil","nextFrame","requestAnimationFrame","DTYPE_VALUE_SIZE_MAP","encodeWeights","decodeWeights","concatenateTypedArrays","stringByteLength","arrayBufferToBase64String","base64StringToArrayBuffer","concatenateArrayBuffers","basename","getModelArtifactsInfoForJSON","specs","dataPromises","name_1","tensorValues","specs_1","spec","name_2","quantization","totalByteLength","str","Blob","btoa","fromCharCode","atob","charCodeAt","buffers","byteLength","path","SEPARATOR","trim","endsWith","items","modelArtifacts","modelTopology","ArrayBuffer","dateSaved","Date","modelTopologyType","modelTopologyBytes","weightSpecsBytes","weightSpecs","weightDataBytes","weightData","IORouterRegistry","saveRouters","loadRouters","getInstance","instance","registerSaveRouter","saveRouter","registerLoadRouter","loadRouter","getSaveHandlers","url","getHandlers","getLoadHandlers","handlerType","validHandlers","routers","router","handler","listModels","removeModel","copyModel","moveModel","URL_SCHEME_SUFFIX","ModelStoreManagerRegistry","managers","registerManager","scheme","manager","getManager","getSchemes","parseURL","schemes","schemes_1","schemeOut","schemeAndPath","cloneModelInternal","sourceURL","destURL","deleteSource","loadHandlers","loadHandler","saveHandlers","saveHandler","sourceScheme","sourcePath","sameMedium","saveResult","load","modelArtifactsInfo","deleteDatabase","browserIndexedDB","DATABASE_NAME","DATABASE_VERSION","MODEL_STORE_NAME","INFO_STORE_NAME","idbFactory","getIndexedDBFactory","deleteRequest","onsuccess","onerror","theWindow","indexedDB","mozIndexedDB","webkitIndexedDB","msIndexedDB","shimIndexedDB","setUpDatabase","openRequest","db","createObjectStore","keyPath","BrowserIndexedDB","modelPath","databaseAction","open","onupgradeneeded","modelTx","transaction","modelStore","objectStore","getRequest_1","close","oncomplete","modelArtifactsInfo_1","infoTx_1","infoStore_1","putInfoRequest_1","put","modelTx_1","putModelRequest","deleteInfoRequest","URL_SCHEME","indexedDBRouter","startsWith","maybeStripScheme","BrowserIndexedDBManager","tx","store","getAllInfoRequest","getAll","item","infoTx","infoStore","getInfoRequest","deleteModelData_1","deleteModelRequest","purgeLocalStorageArtifacts","browserLocalStorage","PATH_SEPARATOR","PATH_PREFIX","INFO_SUFFIX","MODEL_TOPOLOGY_SUFFIX","WEIGHT_SPECS_SUFFIX","WEIGHT_DATA_SUFFIX","localStorage","LS","purgedModelPaths","prefix","removeItem","modelName","getModelPathFromKey","getModelKeys","topology","BrowserLocalStorage","setItem","weightDataBase64","getItem","localStorageRouter","BrowserLocalStorageManager","suffix","browserDownloads","browserFiles","DEFAULT_FILE_NAME_PREFIX","DEFAULT_JSON_EXTENSION_NAME","DEFAULT_WEIGHT_DATA_EXTENSION_NAME","BrowserDownloads","fileNamePrefix","modelTopologyFileName","weightDataFileName","weightsURL","weightsManifest","modelTopologyAndWeightManifest","modelTopologyAndWeightManifestURL","jsonAnchor","weightDataAnchor","URL","createObjectURL","paths","download","href","click","BrowserFiles","files","jsonFile","weightFiles","jsonReader","FileReader","onload","event","modelJSON","pathToFile","checkManifestAndWeightFiles","perFileBuffers","weightsGroup","weightFileReader","readAsArrayBuffer","readAsText","manifest","basenames","fileNames","file","manifest_1","group","pathBasename","browserDownloadsRouter","browserHTTPRequest","BrowserHTTPRequest","requestInit","DEFAULT_METHOD","init","response","method","FormData","append","fetch","responses","URL_SCHEMES","httpRequestRouter","loadWeights","filePathPrefix","weightNames","requestOptions","groupIndicesToFetchMap","groupWeightsToFetch","weightsFound","allManifestWeightNames","weightsNotFound","groupIndicesToFetch","requests","weightsTensorMap","bufferIndexOffset","manifestGroupConfig","groupIndex","groupOffset","weightsEntry","rawDtype","weightsBytes","enqueueWeightsForFetchingFn","manifestEntry","sizeBytes","weightName","weightIndex","found","accumulator","shouldFetch","filepath","fetchUrl","arrayBuffer","numBuffers","groupBytes","groupBuffer","groupByteBuffer","groupBufferOffset","weightsEntries","byteBuffer","typedArray","quantization_1","quantizedArray","Serializable","getClassName","className","fromConfig","cls","config","SerializationMap","classNameMap","getMap","expectArraysClose","expectPromiseToFail","expectArraysEqual","expectNumbersClose","expectValuesInRange","WEBGL_ENVS","CPU_ENVS","ALL_ENVS","TEST_EPSILON","actual","expected","aType","bType","actualValues","expectedValues","areClose","fail","low","high","actualVals","version","Optimizer","minimize","returnCost","computeGradients","applyGradients","varNames","AdadeltaOptimizer","learningRate","rho","accumulatedGrads","accumulatedUpdates","rhoScalar","oneMinusRho","variableGradients","this_1","trainable_1","trainable_2","accumulatedGrad","accumulatedUpdate","newAccumulatedGrad","updates","newAccumulatedUpdate","getConfig","AdagradOptimizer","initialAccumulatorValue","AdamOptimizer","beta1","beta2","accumulatedFirstMoment","accumulatedSecondMoment","epsScalar","beta1Scalar","beta2Scalar","accBeta1","accBeta2","oneMinusBeta1","oneMinusBeta2","oneMinusAccBeta1","oneMinusAccBeta2","firstMoment","secondMoment","newFirstMoment","newSecondMoment","biasCorrectedFirstMoment","biasCorrectedSecondMoment","AdamaxOptimizer","accumulatedWeightedInfNorm","decayScalar","iteration","lr","weightedInfNorm","ut0","ut1","newWeightedInfNorm","SGDOptimizer","setLearningRate","MomentumOptimizer","momentum","useNesterov","m","accumulations","accumulation","newAccumulation","setMomentum","RMSPropOptimizer","centered","accumulatedMeanSquares","accumulatedMeanGrads","accumulatedMoments","momentumScalar","trainable_3","accumulatedMeanSquare","accumulatedMeanGrad","newAccumulatedMeanSquare","newAccumulatedMeanGrad","newAccumulatedMoments","newAccumulatedMeanSquare_1","OptimizerConstructors","sgd","rmsprop","adam","adadelta","adamax","adagrad","train","environment","io","serialization","test_util","webgl","version_core","prop","module","exports","qs","eq","options","regexp","maxKeys","len","kstr","vstr","stringifyPrimitive","isFinite","undefined","objectKeys","ks","encodeURIComponent","decode","require","encode","$protobuf","$Reader","Reader","$util","$root","roots","tensorflow","Any","typeUrl","newBuffer","pos","uint32","string","skipType","DataType","valuesById","TensorShape","emptyArray","unknownRank","Dim","Long","fromBits","int64","floatVal","doubleVal","intVal","stringVal","scomplexVal","int64Val","boolVal","uint32Val","uint64Val","tensorShape","versionNumber","tensorContent","c2","float","double","uint64","AttrValue","placeholder","$oneOfFields","oneOfGetter","oneOfSetter","ListValue","NameAttrList","attr","emptyObject","skip","NodeDef","device","VersionDef","badConsumers","producer","minConsumer","GraphDef","versions","library","FunctionDefLibrary","CollectionDef","nodeList","bytesList","int64List","floatList","anyList","NodeList","BytesList","Int64List","FloatList","AnyList","SaverDef","filenameTensorName","saveTensorName","restoreOpName","maxToKeep","sharded","keepCheckpointEveryNHours","CheckpointFormatVersion","TensorInfo","cooSparse","CooSparse","valuesTensorName","indicesTensorName","denseShapeTensorName","SignatureDef","methodName","AssetFileDef","tensorInfo","filename","OpDef","inputArg","outputArg","deprecation","summary","description","isCommutative","isAggregate","isStateful","allowsUninitializedInput","ArgDef","AttrDef","OpDeprecation","typeAttr","numberAttr","typeListAttr","isRef","defaultValue","hasMinimum","allowedValues","explanation","OpList","MetaGraphDef","collectionDef","signatureDef","assetFileDef","metaInfoDef","graphDef","saverDef","MetaInfoDef","tags","metaGraphVersion","strippedOpList","anyInfo","tensorflowVersion","tensorflowGitVersion","SavedModel","metaGraphs","savedModelSchemaVersion","FunctionDef","GradientDef","nodeDef","signature","gradientFunc","default","getParamValue","getTensor","getNodeNameAndIndex","parseNodeName","paramName","tensorMap","context","inputIndex","inputNames","inputParamLength","tensorsMap","nodeName","contextId","currentContextIds","find","getNodeNameWithContextId","currentContextId","lastIndexOf","substring","CONTROL_FLOW_OPS","OperationMapper","mappersJson","arithmetic","basicMath","control","convolution","creation","logical","graph","matrices","normalization","sliceJoin","transformation","opMappers","mapper","tfOpName","_instance","isControlFlow","transformGraph","tfNodes","withControlFlow","placeholders","nodes","mapNode","children","newNode","dlOpName","category","tfInputIndex","tfInputParamLength","getStringParam","tfParamName","tfParamNameDeprecated","getNumberParam","getNumericArrayParam","getBoolParam","getTensorShapeParam","getDtypeParam","dlParamName","attrs","def","keepCase","toLowerCase","DT_FLOAT","DT_INT32","DT_BOOL","tfc","executeOp","CATEGORY","pred","data_1","frameId","enterFrame","exitFrame","nextIteration","kernelSize","stop_1","stop_2","snapshot","summarize","mapped","sameShape","ExecutionContext","weightMap","rootContext","frameName","iterationId","contexts","lastId","generateCurrentContextIds","newFrame","_currentContextIds","names","contextIdforContexts","getWeight","__assign","GraphExecutor","compiledOrder","_weightMap","compile","weightIds","visited","childNode","execute","checkInput","findOutputs","executeAsync","outputIds","inputIdArray","inputIds","executeWithControlFlow","tensorArray","added","currentContext","requestedOutputs","inputKeys","missing","extra","loadFrozenModel","Url","FrozenModel","modelUrl","weightManifestUrl","requestOption","pathPrefix","getPathPrefix","segments","pathname","loadRemoteProtoFile","error_1","bind","loadWeightManifest","error_2","json","weightManifest","graphPromise","manifestPromise","executor","Instance","convertTensorMapToTensorsMap","isControlFlowModel","newMap","weightsManifestUrl","model","IMAGENET_CLASSES","GOOGLE_CLOUD_STORAGE_DIR","MODEL_FILE_URL","WEIGHT_MANIFEST_FILE_URL","INPUT_NODE_NAME","OUTPUT_NODE_NAME","PREPROCESS_DIVISOR","MobileNet","preprocessedInput","reshapedInput","predictionList","snapshotCanvas","getElementById","captureButton","imageObj","Image","addEventListener","$","css","player","getElementsByTagName","toDataURL","resultElement","innerText","mobileNet","timeEnd","predict","getTopKClasses"],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;ACvtBA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;ACnCA;AACA;;;;ACDA;AACA;AACA;AACA;AACA;AACA;AACA;;ACNA;AACA;AACA;AACA;AACA;AACA;;ACLA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;ACjBA;AACA;;;ACDA;AACA;AACA;AACA;AACA;AACA;AACA;;ACNA;AACA;AACA;;ACFA;AACA;AACA;AACA;AACA;;ACJA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;ACpBA;AACA;AACA;AACA;;ACHA;AACA;AACA;AACA;AACA;AACA;;ACLA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;ACPA;AACA;AACA;AACA;AACA;;ACJA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;ACPA;AACA;AACA;AACA;;ACHA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;ACZA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AChBA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;ACRA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;ACRA;AACA;AACA;AACA;AACA;;;ACJA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AC9DA;AACA;;ACDA;AACA;;ACDA;AACA;AACA;AACA;AACA;AACA;;ACLA;AACA;AACA;AACA;AACA;AACA;AACA;;ACNA;AACA;AACA;AACA;AACA;AACA;AACA;;ACNA;AACA;AACA;AACA;AACA;AACA;AACA;;ACNA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;ACPA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;ACvBA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;ACZA;AACA;AACA;AACA;AACA;AACA;;ACLA;AACA;AACA;AACA;AACA;AACA;;ACLA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;ACjBA;AACA;AACA;AACA;AACA;;ACJA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;ACPA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;ACbA;AACA;AACA;;ACFA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;ACzCA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;ACXA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;ACPA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;ACbA;AACA;AACA;AACA;AACA;AACA;;ACLA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;ACbA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;ACrEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;ACjBA;AACA;;ACDA;AACA;AACA;AACA;;ACHA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;AClCA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;ACnBA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;ACvBA;AACA;AACA;AACA;AACA;AACA;;ACLA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;ACZA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;ACRA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;ACRA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;ACzBA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;ACTA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;AChBA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;ACpFA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;ACrEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AClBA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;ACPA;AACA;AACA;AACA;AACA;;ACJA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;ACZA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;ACPA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;ACdA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;ACtBA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;AC9RA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;ACpBA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;ACZA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;ACPA;;ACAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;;QCrCgBA,WAAAA;AAAT,SAASA,QAAT,GAAoB;AACvB,QAAIC,IAAIC,UAAUC,SAAV,IAAuBD,UAAUE,MAAjC,IAA2CC,OAAOC,KAA1D;AAC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AAtG;AAAA,QAA6GC,SAAS+B,GAAG/B,MAAzH;AAAA,QAAiIC,QAAQ8B,GAAG9B,KAA5I;AACA,QAAI+B,MAAM,UAAUC,EAAV,EAAc;AACpB,eAAO,EAAEpQ,GAAG,YAAY;AAAE,uBAAOoQ,GAAG9I,KAAH,CAAS2G,MAAT,EAAiBC,KAAjB,CAAP;AAAiC,aAApD,EAAsD9J,GAAG,YAAY;AAAE,uBAAOgM,GAAG9I,KAAH,CAAS6G,MAAT,EAAiBC,KAAjB,CAAP;AAAiC,aAAxG,EAAP;AACH,KAFD;AAGA,QAAId,MAAM+C,iBAAIC,MAAJ,CAAWC,SAAX,CAAqB,UAAUC,OAAV,EAAmB;AAAE,eAAOA,QAAQvD,MAAR,CAAe8C,GAAf,EAAoBE,GAApB,CAAP;AAAkC,KAA5E,EAA8E,EAAEjQ,GAAG+P,GAAL,EAAU3L,GAAG6L,GAAb,EAA9E,EAAkGE,GAAlG,CAAV;AACA,WAAO7C,IAAImD,OAAJ,CAAY3D,QAAZ,CAAP;AACH;AACD;;;AC5DA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;AClHA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;ACjFA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;ACtFA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;ACjGA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;AClJA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;ACvGA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;A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;;ACHA;AACA;AACA;AACA;AACA;AACA;;ACLA;;ACAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;ACvBA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;ACRA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;ACrCA;AACA;AACA;AACA;;ACHA;;ACAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;ACpBA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;ACRA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;AC1BA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;ACrhBA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AChBA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;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KAAR,GAAgBolC,QAAQ,UAAR,CAAjC;AACAhB,QAAQiB,MAAR,GAAiBjB,QAAQnkC,SAAR,GAAoBmlC,QAAQ,UAAR,CAArC;;ACHA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AC5tBA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;ACpDA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AC3IA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AC5EA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AC/UA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;ACjBA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;ACzGA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AChDA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;ACxMA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;ACvJA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;ACpFA;AACA;AACA;AACA;AACA;AACA;;;;ACLA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;AC7vDA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;ACrZA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;AC3cA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;ACjFA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;ACvZA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AC5CA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AC9IA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;ACpCA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AClBA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;ACpCA;AACA;AACA;AACA;AACA;;;;;;;;;ACHA;;IAAYE;;;;AAEZ,MAAMC,UAAUD,UAAUE,MAA1B;AAAA,MAAkCC,QAAQH,UAAU3pE,IAApD,EAHA;;;AAKA,MAAM+pE,QAAQJ,UAAUK,KAAV,CAAgB,SAAhB,MAA+BL,UAAUK,KAAV,CAAgB,SAAhB,IAA6B,EAA5D,CAAd;;AAEO,MAAMC,kCAAaF,MAAME,UAAN,GAAmB,CAAC,MAAM;;AAEhD,UAAMA,aAAa,EAAnB;;AAEAA,eAAWC,GAAX,GAAkB,YAAW;;AAEzB,iBAASA,GAAT,CAAa/3D,CAAb,EAAgB;AACZ,gBAAIA,CAAJ,EACI,KAAK,IAAIm3D,KAAK9jE,OAAO5G,IAAP,CAAYuT,CAAZ,CAAT,EAAyBhY,IAAI,CAAlC,EAAqCA,IAAImvE,GAAGjyE,MAA5C,EAAoD,EAAE8C,CAAtD,EACI,IAAIgY,EAAEm3D,GAAGnvE,CAAH,CAAF,KAAY,IAAhB,EACI,KAAK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;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;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","file":"ai4ar.11f09e4d.map","sourceRoot":"..","sourcesContent":["/**\n * Copyright (c) 2014-present, Facebook, Inc.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n */\n\n!(function(global) {\n  \"use strict\";\n\n  var Op = Object.prototype;\n  var hasOwn = Op.hasOwnProperty;\n  var undefined; // More compressible than void 0.\n  var $Symbol = typeof Symbol === \"function\" ? Symbol : {};\n  var iteratorSymbol = $Symbol.iterator || \"@@iterator\";\n  var asyncIteratorSymbol = $Symbol.asyncIterator || \"@@asyncIterator\";\n  var toStringTagSymbol = $Symbol.toStringTag || \"@@toStringTag\";\n\n  var inModule = typeof module === \"object\";\n  var runtime = global.regeneratorRuntime;\n  if (runtime) {\n    if (inModule) {\n      // If regeneratorRuntime is defined globally and we're in a module,\n      // make the exports object identical to regeneratorRuntime.\n      module.exports = runtime;\n    }\n    // Don't bother evaluating the rest of this file if the runtime was\n    // already defined globally.\n    return;\n  }\n\n  // Define the runtime globally (as expected by generated code) as either\n  // module.exports (if we're in a module) or a new, empty object.\n  runtime = global.regeneratorRuntime = inModule ? module.exports : {};\n\n  function wrap(innerFn, outerFn, self, tryLocsList) {\n    // If outerFn provided and outerFn.prototype is a Generator, then outerFn.prototype instanceof Generator.\n    var protoGenerator = outerFn && outerFn.prototype instanceof Generator ? outerFn : Generator;\n    var generator = Object.create(protoGenerator.prototype);\n    var context = new Context(tryLocsList || []);\n\n    // The ._invoke method unifies the implementations of the .next,\n    // .throw, and .return methods.\n    generator._invoke = makeInvokeMethod(innerFn, self, context);\n\n    return generator;\n  }\n  runtime.wrap = wrap;\n\n  // Try/catch helper to minimize deoptimizations. Returns a completion\n  // record like context.tryEntries[i].completion. This interface could\n  // have been (and was previously) designed to take a closure to be\n  // invoked without arguments, but in all the cases we care about we\n  // already have an existing method we want to call, so there's no need\n  // to create a new function object. We can even get away with assuming\n  // the method takes exactly one argument, since that happens to be true\n  // in every case, so we don't have to touch the arguments object. The\n  // only additional allocation required is the completion record, which\n  // has a stable shape and so hopefully should be cheap to allocate.\n  function tryCatch(fn, obj, arg) {\n    try {\n      return { type: \"normal\", arg: fn.call(obj, arg) };\n    } catch (err) {\n      return { type: \"throw\", arg: err };\n    }\n  }\n\n  var GenStateSuspendedStart = \"suspendedStart\";\n  var GenStateSuspendedYield = \"suspendedYield\";\n  var GenStateExecuting = \"executing\";\n  var GenStateCompleted = \"completed\";\n\n  // Returning this object from the innerFn has the same effect as\n  // breaking out of the dispatch switch statement.\n  var ContinueSentinel = {};\n\n  // Dummy constructor functions that we use as the .constructor and\n  // .constructor.prototype properties for functions that return Generator\n  // objects. For full spec compliance, you may wish to configure your\n  // minifier not to mangle the names of these two functions.\n  function Generator() {}\n  function GeneratorFunction() {}\n  function GeneratorFunctionPrototype() {}\n\n  // This is a polyfill for %IteratorPrototype% for environments that\n  // don't natively support it.\n  var IteratorPrototype = {};\n  IteratorPrototype[iteratorSymbol] = function () {\n    return this;\n  };\n\n  var getProto = Object.getPrototypeOf;\n  var NativeIteratorPrototype = getProto && getProto(getProto(values([])));\n  if (NativeIteratorPrototype &&\n      NativeIteratorPrototype !== Op &&\n      hasOwn.call(NativeIteratorPrototype, iteratorSymbol)) {\n    // This environment has a native %IteratorPrototype%; use it instead\n    // of the polyfill.\n    IteratorPrototype = NativeIteratorPrototype;\n  }\n\n  var Gp = GeneratorFunctionPrototype.prototype =\n    Generator.prototype = Object.create(IteratorPrototype);\n  GeneratorFunction.prototype = Gp.constructor = GeneratorFunctionPrototype;\n  GeneratorFunctionPrototype.constructor = GeneratorFunction;\n  GeneratorFunctionPrototype[toStringTagSymbol] =\n    GeneratorFunction.displayName = \"GeneratorFunction\";\n\n  // Helper for defining the .next, .throw, and .return methods of the\n  // Iterator interface in terms of a single ._invoke method.\n  function defineIteratorMethods(prototype) {\n    [\"next\", \"throw\", \"return\"].forEach(function(method) {\n      prototype[method] = function(arg) {\n        return this._invoke(method, arg);\n      };\n    });\n  }\n\n  runtime.isGeneratorFunction = function(genFun) {\n    var ctor = typeof genFun === \"function\" && genFun.constructor;\n    return ctor\n      ? ctor === GeneratorFunction ||\n        // For the native GeneratorFunction constructor, the best we can\n        // do is to check its .name property.\n        (ctor.displayName || ctor.name) === \"GeneratorFunction\"\n      : false;\n  };\n\n  runtime.mark = function(genFun) {\n    if (Object.setPrototypeOf) {\n      Object.setPrototypeOf(genFun, GeneratorFunctionPrototype);\n    } else {\n      genFun.__proto__ = GeneratorFunctionPrototype;\n      if (!(toStringTagSymbol in genFun)) {\n        genFun[toStringTagSymbol] = \"GeneratorFunction\";\n      }\n    }\n    genFun.prototype = Object.create(Gp);\n    return genFun;\n  };\n\n  // Within the body of any async function, `await x` is transformed to\n  // `yield regeneratorRuntime.awrap(x)`, so that the runtime can test\n  // `hasOwn.call(value, \"__await\")` to determine if the yielded value is\n  // meant to be awaited.\n  runtime.awrap = function(arg) {\n    return { __await: arg };\n  };\n\n  function AsyncIterator(generator) {\n    function invoke(method, arg, resolve, reject) {\n      var record = tryCatch(generator[method], generator, arg);\n      if (record.type === \"throw\") {\n        reject(record.arg);\n      } else {\n        var result = record.arg;\n        var value = result.value;\n        if (value &&\n            typeof value === \"object\" &&\n            hasOwn.call(value, \"__await\")) {\n          return Promise.resolve(value.__await).then(function(value) {\n            invoke(\"next\", value, resolve, reject);\n          }, function(err) {\n            invoke(\"throw\", err, resolve, reject);\n          });\n        }\n\n        return Promise.resolve(value).then(function(unwrapped) {\n          // When a yielded Promise is resolved, its final value becomes\n          // the .value of the Promise<{value,done}> result for the\n          // current iteration. If the Promise is rejected, however, the\n          // result for this iteration will be rejected with the same\n          // reason. Note that rejections of yielded Promises are not\n          // thrown back into the generator function, as is the case\n          // when an awaited Promise is rejected. This difference in\n          // behavior between yield and await is important, because it\n          // allows the consumer to decide what to do with the yielded\n          // rejection (swallow it and continue, manually .throw it back\n          // into the generator, abandon iteration, whatever). With\n          // await, by contrast, there is no opportunity to examine the\n          // rejection reason outside the generator function, so the\n          // only option is to throw it from the await expression, and\n          // let the generator function handle the exception.\n          result.value = unwrapped;\n          resolve(result);\n        }, reject);\n      }\n    }\n\n    var previousPromise;\n\n    function enqueue(method, arg) {\n      function callInvokeWithMethodAndArg() {\n        return new Promise(function(resolve, reject) {\n          invoke(method, arg, resolve, reject);\n        });\n      }\n\n      return previousPromise =\n        // If enqueue has been called before, then we want to wait until\n        // all previous Promises have been resolved before calling invoke,\n        // so that results are always delivered in the correct order. If\n        // enqueue has not been called before, then it is important to\n        // call invoke immediately, without waiting on a callback to fire,\n        // so that the async generator function has the opportunity to do\n        // any necessary setup in a predictable way. This predictability\n        // is why the Promise constructor synchronously invokes its\n        // executor callback, and why async functions synchronously\n        // execute code before the first await. Since we implement simple\n        // async functions in terms of async generators, it is especially\n        // important to get this right, even though it requires care.\n        previousPromise ? previousPromise.then(\n          callInvokeWithMethodAndArg,\n          // Avoid propagating failures to Promises returned by later\n          // invocations of the iterator.\n          callInvokeWithMethodAndArg\n        ) : callInvokeWithMethodAndArg();\n    }\n\n    // Define the unified helper method that is used to implement .next,\n    // .throw, and .return (see defineIteratorMethods).\n    this._invoke = enqueue;\n  }\n\n  defineIteratorMethods(AsyncIterator.prototype);\n  AsyncIterator.prototype[asyncIteratorSymbol] = function () {\n    return this;\n  };\n  runtime.AsyncIterator = AsyncIterator;\n\n  // Note that simple async functions are implemented on top of\n  // AsyncIterator objects; they just return a Promise for the value of\n  // the final result produced by the iterator.\n  runtime.async = function(innerFn, outerFn, self, tryLocsList) {\n    var iter = new AsyncIterator(\n      wrap(innerFn, outerFn, self, tryLocsList)\n    );\n\n    return runtime.isGeneratorFunction(outerFn)\n      ? iter // If outerFn is a generator, return the full iterator.\n      : iter.next().then(function(result) {\n          return result.done ? result.value : iter.next();\n        });\n  };\n\n  function makeInvokeMethod(innerFn, self, context) {\n    var state = GenStateSuspendedStart;\n\n    return function invoke(method, arg) {\n      if (state === GenStateExecuting) {\n        throw new Error(\"Generator is already running\");\n      }\n\n      if (state === GenStateCompleted) {\n        if (method === \"throw\") {\n          throw arg;\n        }\n\n        // Be forgiving, per 25.3.3.3.3 of the spec:\n        // https://people.mozilla.org/~jorendorff/es6-draft.html#sec-generatorresume\n        return doneResult();\n      }\n\n      context.method = method;\n      context.arg = arg;\n\n      while (true) {\n        var delegate = context.delegate;\n        if (delegate) {\n          var delegateResult = maybeInvokeDelegate(delegate, context);\n          if (delegateResult) {\n            if (delegateResult === ContinueSentinel) continue;\n            return delegateResult;\n          }\n        }\n\n        if (context.method === \"next\") {\n          // Setting context._sent for legacy support of Babel's\n          // function.sent implementation.\n          context.sent = context._sent = context.arg;\n\n        } else if (context.method === \"throw\") {\n          if (state === GenStateSuspendedStart) {\n            state = GenStateCompleted;\n            throw context.arg;\n          }\n\n          context.dispatchException(context.arg);\n\n        } else if (context.method === \"return\") {\n          context.abrupt(\"return\", context.arg);\n        }\n\n        state = GenStateExecuting;\n\n        var record = tryCatch(innerFn, self, context);\n        if (record.type === \"normal\") {\n          // If an exception is thrown from innerFn, we leave state ===\n          // GenStateExecuting and loop back for another invocation.\n          state = context.done\n            ? GenStateCompleted\n            : GenStateSuspendedYield;\n\n          if (record.arg === ContinueSentinel) {\n            continue;\n          }\n\n          return {\n            value: record.arg,\n            done: context.done\n          };\n\n        } else if (record.type === \"throw\") {\n          state = GenStateCompleted;\n          // Dispatch the exception by looping back around to the\n          // context.dispatchException(context.arg) call above.\n          context.method = \"throw\";\n          context.arg = record.arg;\n        }\n      }\n    };\n  }\n\n  // Call delegate.iterator[context.method](context.arg) and handle the\n  // result, either by returning a { value, done } result from the\n  // delegate iterator, or by modifying context.method and context.arg,\n  // setting context.delegate to null, and returning the ContinueSentinel.\n  function maybeInvokeDelegate(delegate, context) {\n    var method = delegate.iterator[context.method];\n    if (method === undefined) {\n      // A .throw or .return when the delegate iterator has no .throw\n      // method always terminates the yield* loop.\n      context.delegate = null;\n\n      if (context.method === \"throw\") {\n        if (delegate.iterator.return) {\n          // If the delegate iterator has a return method, give it a\n          // chance to clean up.\n          context.method = \"return\";\n          context.arg = undefined;\n          maybeInvokeDelegate(delegate, context);\n\n          if (context.method === \"throw\") {\n            // If maybeInvokeDelegate(context) changed context.method from\n            // \"return\" to \"throw\", let that override the TypeError below.\n            return ContinueSentinel;\n          }\n        }\n\n        context.method = \"throw\";\n        context.arg = new TypeError(\n          \"The iterator does not provide a 'throw' method\");\n      }\n\n      return ContinueSentinel;\n    }\n\n    var record = tryCatch(method, delegate.iterator, context.arg);\n\n    if (record.type === \"throw\") {\n      context.method = \"throw\";\n      context.arg = record.arg;\n      context.delegate = null;\n      return ContinueSentinel;\n    }\n\n    var info = record.arg;\n\n    if (! info) {\n      context.method = \"throw\";\n      context.arg = new TypeError(\"iterator result is not an object\");\n      context.delegate = null;\n      return ContinueSentinel;\n    }\n\n    if (info.done) {\n      // Assign the result of the finished delegate to the temporary\n      // variable specified by delegate.resultName (see delegateYield).\n      context[delegate.resultName] = info.value;\n\n      // Resume execution at the desired location (see delegateYield).\n      context.next = delegate.nextLoc;\n\n      // If context.method was \"throw\" but the delegate handled the\n      // exception, let the outer generator proceed normally. If\n      // context.method was \"next\", forget context.arg since it has been\n      // \"consumed\" by the delegate iterator. If context.method was\n      // \"return\", allow the original .return call to continue in the\n      // outer generator.\n      if (context.method !== \"return\") {\n        context.method = \"next\";\n        context.arg = undefined;\n      }\n\n    } else {\n      // Re-yield the result returned by the delegate method.\n      return info;\n    }\n\n    // The delegate iterator is finished, so forget it and continue with\n    // the outer generator.\n    context.delegate = null;\n    return ContinueSentinel;\n  }\n\n  // Define Generator.prototype.{next,throw,return} in terms of the\n  // unified ._invoke helper method.\n  defineIteratorMethods(Gp);\n\n  Gp[toStringTagSymbol] = \"Generator\";\n\n  // A Generator should always return itself as the iterator object when the\n  // @@iterator function is called on it. Some browsers' implementations of the\n  // iterator prototype chain incorrectly implement this, causing the Generator\n  // object to not be returned from this call. This ensures that doesn't happen.\n  // See https://github.com/facebook/regenerator/issues/274 for more details.\n  Gp[iteratorSymbol] = function() {\n    return this;\n  };\n\n  Gp.toString = function() {\n    return \"[object Generator]\";\n  };\n\n  function pushTryEntry(locs) {\n    var entry = { tryLoc: locs[0] };\n\n    if (1 in locs) {\n      entry.catchLoc = locs[1];\n    }\n\n    if (2 in locs) {\n      entry.finallyLoc = locs[2];\n      entry.afterLoc = locs[3];\n    }\n\n    this.tryEntries.push(entry);\n  }\n\n  function resetTryEntry(entry) {\n    var record = entry.completion || {};\n    record.type = \"normal\";\n    delete record.arg;\n    entry.completion = record;\n  }\n\n  function Context(tryLocsList) {\n    // The root entry object (effectively a try statement without a catch\n    // or a finally block) gives us a place to store values thrown from\n    // locations where there is no enclosing try statement.\n    this.tryEntries = [{ tryLoc: \"root\" }];\n    tryLocsList.forEach(pushTryEntry, this);\n    this.reset(true);\n  }\n\n  runtime.keys = function(object) {\n    var keys = [];\n    for (var key in object) {\n      keys.push(key);\n    }\n    keys.reverse();\n\n    // Rather than returning an object with a next method, we keep\n    // things simple and return the next function itself.\n    return function next() {\n      while (keys.length) {\n        var key = keys.pop();\n        if (key in object) {\n          next.value = key;\n          next.done = false;\n          return next;\n        }\n      }\n\n      // To avoid creating an additional object, we just hang the .value\n      // and .done properties off the next function object itself. This\n      // also ensures that the minifier will not anonymize the function.\n      next.done = true;\n      return next;\n    };\n  };\n\n  function values(iterable) {\n    if (iterable) {\n      var iteratorMethod = iterable[iteratorSymbol];\n      if (iteratorMethod) {\n        return iteratorMethod.call(iterable);\n      }\n\n      if (typeof iterable.next === \"function\") {\n        return iterable;\n      }\n\n      if (!isNaN(iterable.length)) {\n        var i = -1, next = function next() {\n          while (++i < iterable.length) {\n            if (hasOwn.call(iterable, i)) {\n              next.value = iterable[i];\n              next.done = false;\n              return next;\n            }\n          }\n\n          next.value = undefined;\n          next.done = true;\n\n          return next;\n        };\n\n        return next.next = next;\n      }\n    }\n\n    // Return an iterator with no values.\n    return { next: doneResult };\n  }\n  runtime.values = values;\n\n  function doneResult() {\n    return { value: undefined, done: true };\n  }\n\n  Context.prototype = {\n    constructor: Context,\n\n    reset: function(skipTempReset) {\n      this.prev = 0;\n      this.next = 0;\n      // Resetting context._sent for legacy support of Babel's\n      // function.sent implementation.\n      this.sent = this._sent = undefined;\n      this.done = false;\n      this.delegate = null;\n\n      this.method = \"next\";\n      this.arg = undefined;\n\n      this.tryEntries.forEach(resetTryEntry);\n\n      if (!skipTempReset) {\n        for (var name in this) {\n          // Not sure about the optimal order of these conditions:\n          if (name.charAt(0) === \"t\" &&\n              hasOwn.call(this, name) &&\n              !isNaN(+name.slice(1))) {\n            this[name] = undefined;\n          }\n        }\n      }\n    },\n\n    stop: function() {\n      this.done = true;\n\n      var rootEntry = this.tryEntries[0];\n      var rootRecord = rootEntry.completion;\n      if (rootRecord.type === \"throw\") {\n        throw rootRecord.arg;\n      }\n\n      return this.rval;\n    },\n\n    dispatchException: function(exception) {\n      if (this.done) {\n        throw exception;\n      }\n\n      var context = this;\n      function handle(loc, caught) {\n        record.type = \"throw\";\n        record.arg = exception;\n        context.next = loc;\n\n        if (caught) {\n          // If the dispatched exception was caught by a catch block,\n          // then let that catch block handle the exception normally.\n          context.method = \"next\";\n          context.arg = undefined;\n        }\n\n        return !! caught;\n      }\n\n      for (var i = this.tryEntries.length - 1; i >= 0; --i) {\n        var entry = this.tryEntries[i];\n        var record = entry.completion;\n\n        if (entry.tryLoc === \"root\") {\n          // Exception thrown outside of any try block that could handle\n          // it, so set the completion value of the entire function to\n          // throw the exception.\n          return handle(\"end\");\n        }\n\n        if (entry.tryLoc <= this.prev) {\n          var hasCatch = hasOwn.call(entry, \"catchLoc\");\n          var hasFinally = hasOwn.call(entry, \"finallyLoc\");\n\n          if (hasCatch && hasFinally) {\n            if (this.prev < entry.catchLoc) {\n              return handle(entry.catchLoc, true);\n            } else if (this.prev < entry.finallyLoc) {\n              return handle(entry.finallyLoc);\n            }\n\n          } else if (hasCatch) {\n            if (this.prev < entry.catchLoc) {\n              return handle(entry.catchLoc, true);\n            }\n\n          } else if (hasFinally) {\n            if (this.prev < entry.finallyLoc) {\n              return handle(entry.finallyLoc);\n            }\n\n          } else {\n            throw new Error(\"try statement without catch or finally\");\n          }\n        }\n      }\n    },\n\n    abrupt: function(type, arg) {\n      for (var i = this.tryEntries.length - 1; i >= 0; --i) {\n        var entry = this.tryEntries[i];\n        if (entry.tryLoc <= this.prev &&\n            hasOwn.call(entry, \"finallyLoc\") &&\n            this.prev < entry.finallyLoc) {\n          var finallyEntry = entry;\n          break;\n        }\n      }\n\n      if (finallyEntry &&\n          (type === \"break\" ||\n           type === \"continue\") &&\n          finallyEntry.tryLoc <= arg &&\n          arg <= finallyEntry.finallyLoc) {\n        // Ignore the finally entry if control is not jumping to a\n        // location outside the try/catch block.\n        finallyEntry = null;\n      }\n\n      var record = finallyEntry ? finallyEntry.completion : {};\n      record.type = type;\n      record.arg = arg;\n\n      if (finallyEntry) {\n        this.method = \"next\";\n        this.next = finallyEntry.finallyLoc;\n        return ContinueSentinel;\n      }\n\n      return this.complete(record);\n    },\n\n    complete: function(record, afterLoc) {\n      if (record.type === \"throw\") {\n        throw record.arg;\n      }\n\n      if (record.type === \"break\" ||\n          record.type === \"continue\") {\n        this.next = record.arg;\n      } else if (record.type === \"return\") {\n        this.rval = this.arg = record.arg;\n        this.method = \"return\";\n        this.next = \"end\";\n      } else if (record.type === \"normal\" && afterLoc) {\n        this.next = afterLoc;\n      }\n\n      return ContinueSentinel;\n    },\n\n    finish: function(finallyLoc) {\n      for (var i = this.tryEntries.length - 1; i >= 0; --i) {\n        var entry = this.tryEntries[i];\n        if (entry.finallyLoc === finallyLoc) {\n          this.complete(entry.completion, entry.afterLoc);\n          resetTryEntry(entry);\n          return ContinueSentinel;\n        }\n      }\n    },\n\n    \"catch\": function(tryLoc) {\n      for (var i = this.tryEntries.length - 1; i >= 0; --i) {\n        var entry = this.tryEntries[i];\n        if (entry.tryLoc === tryLoc) {\n          var record = entry.completion;\n          if (record.type === \"throw\") {\n            var thrown = record.arg;\n            resetTryEntry(entry);\n          }\n          return thrown;\n        }\n      }\n\n      // The context.catch method must only be called with a location\n      // argument that corresponds to a known catch block.\n      throw new Error(\"illegal catch attempt\");\n    },\n\n    delegateYield: function(iterable, resultName, nextLoc) {\n      this.delegate = {\n        iterator: values(iterable),\n        resultName: resultName,\n        nextLoc: nextLoc\n      };\n\n      if (this.method === \"next\") {\n        // Deliberately forget the last sent value so that we don't\n        // accidentally pass it on to the delegate.\n        this.arg = undefined;\n      }\n\n      return ContinueSentinel;\n    }\n  };\n})(\n  // In sloppy mode, unbound `this` refers to the global object, fallback to\n  // Function constructor if we're in global strict mode. That is sadly a form\n  // of indirect eval which violates Content Security Policy.\n  (function() { return this })() || Function(\"return this\")()\n);\n","/**\n * Copyright (c) 2014-present, Facebook, Inc.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n */\n\n// This method of obtaining a reference to the global object needs to be\n// kept identical to the way it is obtained in runtime.js\nvar g = (function() { return this })() || Function(\"return this\")();\n\n// Use `getOwnPropertyNames` because not all browsers support calling\n// `hasOwnProperty` on the global `self` object in a worker. See #183.\nvar hadRuntime = g.regeneratorRuntime &&\n  Object.getOwnPropertyNames(g).indexOf(\"regeneratorRuntime\") >= 0;\n\n// Save the old regeneratorRuntime in case it needs to be restored later.\nvar oldRuntime = hadRuntime && g.regeneratorRuntime;\n\n// Force reevalutation of runtime.js.\ng.regeneratorRuntime = undefined;\n\nmodule.exports = require(\"./runtime\");\n\nif (hadRuntime) {\n  // Restore the original runtime.\n  g.regeneratorRuntime = oldRuntime;\n} else {\n  // Remove the global property added by runtime.js.\n  try {\n    delete g.regeneratorRuntime;\n  } catch(e) {\n    g.regeneratorRuntime = undefined;\n  }\n}\n","module.exports = require(\"regenerator-runtime\");\n","// 7.1.4 ToInteger\nvar ceil = Math.ceil;\nvar floor = Math.floor;\nmodule.exports = function (it) {\n  return isNaN(it = +it) ? 0 : (it > 0 ? floor : ceil)(it);\n};\n","// 7.2.1 RequireObjectCoercible(argument)\nmodule.exports = function (it) {\n  if (it == undefined) throw TypeError(\"Can't call method on  \" + it);\n  return it;\n};\n","var toInteger = require('./_to-integer');\nvar defined = require('./_defined');\n// true  -> String#at\n// false -> String#codePointAt\nmodule.exports = function (TO_STRING) {\n  return function (that, pos) {\n    var s = String(defined(that));\n    var i = toInteger(pos);\n    var l = s.length;\n    var a, b;\n    if (i < 0 || i >= l) return TO_STRING ? '' : undefined;\n    a = s.charCodeAt(i);\n    return a < 0xd800 || a > 0xdbff || i + 1 === l || (b = s.charCodeAt(i + 1)) < 0xdc00 || b > 0xdfff\n      ? TO_STRING ? s.charAt(i) : a\n      : TO_STRING ? s.slice(i, i + 2) : (a - 0xd800 << 10) + (b - 0xdc00) + 0x10000;\n  };\n};\n","module.exports = true;\n","// https://github.com/zloirock/core-js/issues/86#issuecomment-115759028\nvar global = module.exports = typeof window != 'undefined' && window.Math == Math\n  ? window : typeof self != 'undefined' && self.Math == Math ? self\n  // eslint-disable-next-line no-new-func\n  : Function('return this')();\nif (typeof __g == 'number') __g = global; // eslint-disable-line no-undef\n","var core = module.exports = { version: '2.5.6' };\nif (typeof __e == 'number') __e = core; // eslint-disable-line no-undef\n","module.exports = function (it) {\n  if (typeof it != 'function') throw TypeError(it + ' is not a function!');\n  return it;\n};\n","// optional / simple context binding\nvar aFunction = require('./_a-function');\nmodule.exports = function (fn, that, length) {\n  aFunction(fn);\n  if (that === undefined) return fn;\n  switch (length) {\n    case 1: return function (a) {\n      return fn.call(that, a);\n    };\n    case 2: return function (a, b) {\n      return fn.call(that, a, b);\n    };\n    case 3: return function (a, b, c) {\n      return fn.call(that, a, b, c);\n    };\n  }\n  return function (/* ...args */) {\n    return fn.apply(that, arguments);\n  };\n};\n","module.exports = function (it) {\n  return typeof it === 'object' ? it !== null : typeof it === 'function';\n};\n","var isObject = require('./_is-object');\nmodule.exports = function (it) {\n  if (!isObject(it)) throw TypeError(it + ' is not an object!');\n  return it;\n};\n","module.exports = function (exec) {\n  try {\n    return !!exec();\n  } catch (e) {\n    return true;\n  }\n};\n","// Thank's IE8 for his funny defineProperty\nmodule.exports = !require('./_fails')(function () {\n  return Object.defineProperty({}, 'a', { get: function () { return 7; } }).a != 7;\n});\n","var isObject = require('./_is-object');\nvar document = require('./_global').document;\n// typeof document.createElement is 'object' in old IE\nvar is = isObject(document) && isObject(document.createElement);\nmodule.exports = function (it) {\n  return is ? document.createElement(it) : {};\n};\n","module.exports = !require('./_descriptors') && !require('./_fails')(function () {\n  return Object.defineProperty(require('./_dom-create')('div'), 'a', { get: function () { return 7; } }).a != 7;\n});\n","// 7.1.1 ToPrimitive(input [, PreferredType])\nvar isObject = require('./_is-object');\n// instead of the ES6 spec version, we didn't implement @@toPrimitive case\n// and the second argument - flag - preferred type is a string\nmodule.exports = function (it, S) {\n  if (!isObject(it)) return it;\n  var fn, val;\n  if (S && typeof (fn = it.toString) == 'function' && !isObject(val = fn.call(it))) return val;\n  if (typeof (fn = it.valueOf) == 'function' && !isObject(val = fn.call(it))) return val;\n  if (!S && typeof (fn = it.toString) == 'function' && !isObject(val = fn.call(it))) return val;\n  throw TypeError(\"Can't convert object to primitive value\");\n};\n","var anObject = require('./_an-object');\nvar IE8_DOM_DEFINE = require('./_ie8-dom-define');\nvar toPrimitive = require('./_to-primitive');\nvar dP = Object.defineProperty;\n\nexports.f = require('./_descriptors') ? Object.defineProperty : function defineProperty(O, P, Attributes) {\n  anObject(O);\n  P = toPrimitive(P, true);\n  anObject(Attributes);\n  if (IE8_DOM_DEFINE) try {\n    return dP(O, P, Attributes);\n  } catch (e) { /* empty */ }\n  if ('get' in Attributes || 'set' in Attributes) throw TypeError('Accessors not supported!');\n  if ('value' in Attributes) O[P] = Attributes.value;\n  return O;\n};\n","module.exports = function (bitmap, value) {\n  return {\n    enumerable: !(bitmap & 1),\n    configurable: !(bitmap & 2),\n    writable: !(bitmap & 4),\n    value: value\n  };\n};\n","var dP = require('./_object-dp');\nvar createDesc = require('./_property-desc');\nmodule.exports = require('./_descriptors') ? function (object, key, value) {\n  return dP.f(object, key, createDesc(1, value));\n} : function (object, key, value) {\n  object[key] = value;\n  return object;\n};\n","var hasOwnProperty = {}.hasOwnProperty;\nmodule.exports = function (it, key) {\n  return hasOwnProperty.call(it, key);\n};\n","var global = require('./_global');\nvar core = require('./_core');\nvar ctx = require('./_ctx');\nvar hide = require('./_hide');\nvar has = require('./_has');\nvar PROTOTYPE = 'prototype';\n\nvar $export = function (type, name, source) {\n  var IS_FORCED = type & $export.F;\n  var IS_GLOBAL = type & $export.G;\n  var IS_STATIC = type & $export.S;\n  var IS_PROTO = type & $export.P;\n  var IS_BIND = type & $export.B;\n  var IS_WRAP = type & $export.W;\n  var exports = IS_GLOBAL ? core : core[name] || (core[name] = {});\n  var expProto = exports[PROTOTYPE];\n  var target = IS_GLOBAL ? global : IS_STATIC ? global[name] : (global[name] || {})[PROTOTYPE];\n  var key, own, out;\n  if (IS_GLOBAL) source = name;\n  for (key in source) {\n    // contains in native\n    own = !IS_FORCED && target && target[key] !== undefined;\n    if (own && has(exports, key)) continue;\n    // export native or passed\n    out = own ? target[key] : source[key];\n    // prevent global pollution for namespaces\n    exports[key] = IS_GLOBAL && typeof target[key] != 'function' ? source[key]\n    // bind timers to global for call from export context\n    : IS_BIND && own ? ctx(out, global)\n    // wrap global constructors for prevent change them in library\n    : IS_WRAP && target[key] == out ? (function (C) {\n      var F = function (a, b, c) {\n        if (this instanceof C) {\n          switch (arguments.length) {\n            case 0: return new C();\n            case 1: return new C(a);\n            case 2: return new C(a, b);\n          } return new C(a, b, c);\n        } return C.apply(this, arguments);\n      };\n      F[PROTOTYPE] = C[PROTOTYPE];\n      return F;\n    // make static versions for prototype methods\n    })(out) : IS_PROTO && typeof out == 'function' ? ctx(Function.call, out) : out;\n    // export proto methods to core.%CONSTRUCTOR%.methods.%NAME%\n    if (IS_PROTO) {\n      (exports.virtual || (exports.virtual = {}))[key] = out;\n      // export proto methods to core.%CONSTRUCTOR%.prototype.%NAME%\n      if (type & $export.R && expProto && !expProto[key]) hide(expProto, key, out);\n    }\n  }\n};\n// type bitmap\n$export.F = 1;   // forced\n$export.G = 2;   // global\n$export.S = 4;   // static\n$export.P = 8;   // proto\n$export.B = 16;  // bind\n$export.W = 32;  // wrap\n$export.U = 64;  // safe\n$export.R = 128; // real proto method for `library`\nmodule.exports = $export;\n","module.exports = require('./_hide');\n","module.exports = {};\n","var toString = {}.toString;\n\nmodule.exports = function (it) {\n  return toString.call(it).slice(8, -1);\n};\n","// fallback for non-array-like ES3 and non-enumerable old V8 strings\nvar cof = require('./_cof');\n// eslint-disable-next-line no-prototype-builtins\nmodule.exports = Object('z').propertyIsEnumerable(0) ? Object : function (it) {\n  return cof(it) == 'String' ? it.split('') : Object(it);\n};\n","// to indexed object, toObject with fallback for non-array-like ES3 strings\nvar IObject = require('./_iobject');\nvar defined = require('./_defined');\nmodule.exports = function (it) {\n  return IObject(defined(it));\n};\n","// 7.1.15 ToLength\nvar toInteger = require('./_to-integer');\nvar min = Math.min;\nmodule.exports = function (it) {\n  return it > 0 ? min(toInteger(it), 0x1fffffffffffff) : 0; // pow(2, 53) - 1 == 9007199254740991\n};\n","var toInteger = require('./_to-integer');\nvar max = Math.max;\nvar min = Math.min;\nmodule.exports = function (index, length) {\n  index = toInteger(index);\n  return index < 0 ? max(index + length, 0) : min(index, length);\n};\n","// false -> Array#indexOf\n// true  -> Array#includes\nvar toIObject = require('./_to-iobject');\nvar toLength = require('./_to-length');\nvar toAbsoluteIndex = require('./_to-absolute-index');\nmodule.exports = function (IS_INCLUDES) {\n  return function ($this, el, fromIndex) {\n    var O = toIObject($this);\n    var length = toLength(O.length);\n    var index = toAbsoluteIndex(fromIndex, length);\n    var value;\n    // Array#includes uses SameValueZero equality algorithm\n    // eslint-disable-next-line no-self-compare\n    if (IS_INCLUDES && el != el) while (length > index) {\n      value = O[index++];\n      // eslint-disable-next-line no-self-compare\n      if (value != value) return true;\n    // Array#indexOf ignores holes, Array#includes - not\n    } else for (;length > index; index++) if (IS_INCLUDES || index in O) {\n      if (O[index] === el) return IS_INCLUDES || index || 0;\n    } return !IS_INCLUDES && -1;\n  };\n};\n","var core = require('./_core');\nvar global = require('./_global');\nvar SHARED = '__core-js_shared__';\nvar store = global[SHARED] || (global[SHARED] = {});\n\n(module.exports = function (key, value) {\n  return store[key] || (store[key] = value !== undefined ? value : {});\n})('versions', []).push({\n  version: core.version,\n  mode: require('./_library') ? 'pure' : 'global',\n  copyright: ' 2018 Denis Pushkarev (zloirock.ru)'\n});\n","var id = 0;\nvar px = Math.random();\nmodule.exports = function (key) {\n  return 'Symbol('.concat(key === undefined ? '' : key, ')_', (++id + px).toString(36));\n};\n","var shared = require('./_shared')('keys');\nvar uid = require('./_uid');\nmodule.exports = function (key) {\n  return shared[key] || (shared[key] = uid(key));\n};\n","var has = require('./_has');\nvar toIObject = require('./_to-iobject');\nvar arrayIndexOf = require('./_array-includes')(false);\nvar IE_PROTO = require('./_shared-key')('IE_PROTO');\n\nmodule.exports = function (object, names) {\n  var O = toIObject(object);\n  var i = 0;\n  var result = [];\n  var key;\n  for (key in O) if (key != IE_PROTO) has(O, key) && result.push(key);\n  // Don't enum bug & hidden keys\n  while (names.length > i) if (has(O, key = names[i++])) {\n    ~arrayIndexOf(result, key) || result.push(key);\n  }\n  return result;\n};\n","// IE 8- don't enum bug keys\nmodule.exports = (\n  'constructor,hasOwnProperty,isPrototypeOf,propertyIsEnumerable,toLocaleString,toString,valueOf'\n).split(',');\n","// 19.1.2.14 / 15.2.3.14 Object.keys(O)\nvar $keys = require('./_object-keys-internal');\nvar enumBugKeys = require('./_enum-bug-keys');\n\nmodule.exports = Object.keys || function keys(O) {\n  return $keys(O, enumBugKeys);\n};\n","var dP = require('./_object-dp');\nvar anObject = require('./_an-object');\nvar getKeys = require('./_object-keys');\n\nmodule.exports = require('./_descriptors') ? Object.defineProperties : function defineProperties(O, Properties) {\n  anObject(O);\n  var keys = getKeys(Properties);\n  var length = keys.length;\n  var i = 0;\n  var P;\n  while (length > i) dP.f(O, P = keys[i++], Properties[P]);\n  return O;\n};\n","var document = require('./_global').document;\nmodule.exports = document && document.documentElement;\n","// 19.1.2.2 / 15.2.3.5 Object.create(O [, Properties])\nvar anObject = require('./_an-object');\nvar dPs = require('./_object-dps');\nvar enumBugKeys = require('./_enum-bug-keys');\nvar IE_PROTO = require('./_shared-key')('IE_PROTO');\nvar Empty = function () { /* empty */ };\nvar PROTOTYPE = 'prototype';\n\n// Create object with fake `null` prototype: use iframe Object with cleared prototype\nvar createDict = function () {\n  // Thrash, waste and sodomy: IE GC bug\n  var iframe = require('./_dom-create')('iframe');\n  var i = enumBugKeys.length;\n  var lt = '<';\n  var gt = '>';\n  var iframeDocument;\n  iframe.style.display = 'none';\n  require('./_html').appendChild(iframe);\n  iframe.src = 'javascript:'; // eslint-disable-line no-script-url\n  // createDict = iframe.contentWindow.Object;\n  // html.removeChild(iframe);\n  iframeDocument = iframe.contentWindow.document;\n  iframeDocument.open();\n  iframeDocument.write(lt + 'script' + gt + 'document.F=Object' + lt + '/script' + gt);\n  iframeDocument.close();\n  createDict = iframeDocument.F;\n  while (i--) delete createDict[PROTOTYPE][enumBugKeys[i]];\n  return createDict();\n};\n\nmodule.exports = Object.create || function create(O, Properties) {\n  var result;\n  if (O !== null) {\n    Empty[PROTOTYPE] = anObject(O);\n    result = new Empty();\n    Empty[PROTOTYPE] = null;\n    // add \"__proto__\" for Object.getPrototypeOf polyfill\n    result[IE_PROTO] = O;\n  } else result = createDict();\n  return Properties === undefined ? result : dPs(result, Properties);\n};\n","var store = require('./_shared')('wks');\nvar uid = require('./_uid');\nvar Symbol = require('./_global').Symbol;\nvar USE_SYMBOL = typeof Symbol == 'function';\n\nvar $exports = module.exports = function (name) {\n  return store[name] || (store[name] =\n    USE_SYMBOL && Symbol[name] || (USE_SYMBOL ? Symbol : uid)('Symbol.' + name));\n};\n\n$exports.store = store;\n","var def = require('./_object-dp').f;\nvar has = require('./_has');\nvar TAG = require('./_wks')('toStringTag');\n\nmodule.exports = function (it, tag, stat) {\n  if (it && !has(it = stat ? it : it.prototype, TAG)) def(it, TAG, { configurable: true, value: tag });\n};\n","'use strict';\nvar create = require('./_object-create');\nvar descriptor = require('./_property-desc');\nvar setToStringTag = require('./_set-to-string-tag');\nvar IteratorPrototype = {};\n\n// 25.1.2.1.1 %IteratorPrototype%[@@iterator]()\nrequire('./_hide')(IteratorPrototype, require('./_wks')('iterator'), function () { return this; });\n\nmodule.exports = function (Constructor, NAME, next) {\n  Constructor.prototype = create(IteratorPrototype, { next: descriptor(1, next) });\n  setToStringTag(Constructor, NAME + ' Iterator');\n};\n","// 7.1.13 ToObject(argument)\nvar defined = require('./_defined');\nmodule.exports = function (it) {\n  return Object(defined(it));\n};\n","// 19.1.2.9 / 15.2.3.2 Object.getPrototypeOf(O)\nvar has = require('./_has');\nvar toObject = require('./_to-object');\nvar IE_PROTO = require('./_shared-key')('IE_PROTO');\nvar ObjectProto = Object.prototype;\n\nmodule.exports = Object.getPrototypeOf || function (O) {\n  O = toObject(O);\n  if (has(O, IE_PROTO)) return O[IE_PROTO];\n  if (typeof O.constructor == 'function' && O instanceof O.constructor) {\n    return O.constructor.prototype;\n  } return O instanceof Object ? ObjectProto : null;\n};\n","'use strict';\nvar LIBRARY = require('./_library');\nvar $export = require('./_export');\nvar redefine = require('./_redefine');\nvar hide = require('./_hide');\nvar Iterators = require('./_iterators');\nvar $iterCreate = require('./_iter-create');\nvar setToStringTag = require('./_set-to-string-tag');\nvar getPrototypeOf = require('./_object-gpo');\nvar ITERATOR = require('./_wks')('iterator');\nvar BUGGY = !([].keys && 'next' in [].keys()); // Safari has buggy iterators w/o `next`\nvar FF_ITERATOR = '@@iterator';\nvar KEYS = 'keys';\nvar VALUES = 'values';\n\nvar returnThis = function () { return this; };\n\nmodule.exports = function (Base, NAME, Constructor, next, DEFAULT, IS_SET, FORCED) {\n  $iterCreate(Constructor, NAME, next);\n  var getMethod = function (kind) {\n    if (!BUGGY && kind in proto) return proto[kind];\n    switch (kind) {\n      case KEYS: return function keys() { return new Constructor(this, kind); };\n      case VALUES: return function values() { return new Constructor(this, kind); };\n    } return function entries() { return new Constructor(this, kind); };\n  };\n  var TAG = NAME + ' Iterator';\n  var DEF_VALUES = DEFAULT == VALUES;\n  var VALUES_BUG = false;\n  var proto = Base.prototype;\n  var $native = proto[ITERATOR] || proto[FF_ITERATOR] || DEFAULT && proto[DEFAULT];\n  var $default = $native || getMethod(DEFAULT);\n  var $entries = DEFAULT ? !DEF_VALUES ? $default : getMethod('entries') : undefined;\n  var $anyNative = NAME == 'Array' ? proto.entries || $native : $native;\n  var methods, key, IteratorPrototype;\n  // Fix native\n  if ($anyNative) {\n    IteratorPrototype = getPrototypeOf($anyNative.call(new Base()));\n    if (IteratorPrototype !== Object.prototype && IteratorPrototype.next) {\n      // Set @@toStringTag to native iterators\n      setToStringTag(IteratorPrototype, TAG, true);\n      // fix for some old engines\n      if (!LIBRARY && typeof IteratorPrototype[ITERATOR] != 'function') hide(IteratorPrototype, ITERATOR, returnThis);\n    }\n  }\n  // fix Array#{values, @@iterator}.name in V8 / FF\n  if (DEF_VALUES && $native && $native.name !== VALUES) {\n    VALUES_BUG = true;\n    $default = function values() { return $native.call(this); };\n  }\n  // Define iterator\n  if ((!LIBRARY || FORCED) && (BUGGY || VALUES_BUG || !proto[ITERATOR])) {\n    hide(proto, ITERATOR, $default);\n  }\n  // Plug for library\n  Iterators[NAME] = $default;\n  Iterators[TAG] = returnThis;\n  if (DEFAULT) {\n    methods = {\n      values: DEF_VALUES ? $default : getMethod(VALUES),\n      keys: IS_SET ? $default : getMethod(KEYS),\n      entries: $entries\n    };\n    if (FORCED) for (key in methods) {\n      if (!(key in proto)) redefine(proto, key, methods[key]);\n    } else $export($export.P + $export.F * (BUGGY || VALUES_BUG), NAME, methods);\n  }\n  return methods;\n};\n","'use strict';\nvar $at = require('./_string-at')(true);\n\n// 21.1.3.27 String.prototype[@@iterator]()\nrequire('./_iter-define')(String, 'String', function (iterated) {\n  this._t = String(iterated); // target\n  this._i = 0;                // next index\n// 21.1.5.2.1 %StringIteratorPrototype%.next()\n}, function () {\n  var O = this._t;\n  var index = this._i;\n  var point;\n  if (index >= O.length) return { value: undefined, done: true };\n  point = $at(O, index);\n  this._i += point.length;\n  return { value: point, done: false };\n});\n","module.exports = function () { /* empty */ };\n","module.exports = function (done, value) {\n  return { value: value, done: !!done };\n};\n","'use strict';\nvar addToUnscopables = require('./_add-to-unscopables');\nvar step = require('./_iter-step');\nvar Iterators = require('./_iterators');\nvar toIObject = require('./_to-iobject');\n\n// 22.1.3.4 Array.prototype.entries()\n// 22.1.3.13 Array.prototype.keys()\n// 22.1.3.29 Array.prototype.values()\n// 22.1.3.30 Array.prototype[@@iterator]()\nmodule.exports = require('./_iter-define')(Array, 'Array', function (iterated, kind) {\n  this._t = toIObject(iterated); // target\n  this._i = 0;                   // next index\n  this._k = kind;                // kind\n// 22.1.5.2.1 %ArrayIteratorPrototype%.next()\n}, function () {\n  var O = this._t;\n  var kind = this._k;\n  var index = this._i++;\n  if (!O || index >= O.length) {\n    this._t = undefined;\n    return step(1);\n  }\n  if (kind == 'keys') return step(0, index);\n  if (kind == 'values') return step(0, O[index]);\n  return step(0, [index, O[index]]);\n}, 'values');\n\n// argumentsList[@@iterator] is %ArrayProto_values% (9.4.4.6, 9.4.4.7)\nIterators.Arguments = Iterators.Array;\n\naddToUnscopables('keys');\naddToUnscopables('values');\naddToUnscopables('entries');\n","require('./es6.array.iterator');\nvar global = require('./_global');\nvar hide = require('./_hide');\nvar Iterators = require('./_iterators');\nvar TO_STRING_TAG = require('./_wks')('toStringTag');\n\nvar DOMIterables = ('CSSRuleList,CSSStyleDeclaration,CSSValueList,ClientRectList,DOMRectList,DOMStringList,' +\n  'DOMTokenList,DataTransferItemList,FileList,HTMLAllCollection,HTMLCollection,HTMLFormElement,HTMLSelectElement,' +\n  'MediaList,MimeTypeArray,NamedNodeMap,NodeList,PaintRequestList,Plugin,PluginArray,SVGLengthList,SVGNumberList,' +\n  'SVGPathSegList,SVGPointList,SVGStringList,SVGTransformList,SourceBufferList,StyleSheetList,TextTrackCueList,' +\n  'TextTrackList,TouchList').split(',');\n\nfor (var i = 0; i < DOMIterables.length; i++) {\n  var NAME = DOMIterables[i];\n  var Collection = global[NAME];\n  var proto = Collection && Collection.prototype;\n  if (proto && !proto[TO_STRING_TAG]) hide(proto, TO_STRING_TAG, NAME);\n  Iterators[NAME] = Iterators.Array;\n}\n","// getting tag from 19.1.3.6 Object.prototype.toString()\nvar cof = require('./_cof');\nvar TAG = require('./_wks')('toStringTag');\n// ES3 wrong here\nvar ARG = cof(function () { return arguments; }()) == 'Arguments';\n\n// fallback for IE11 Script Access Denied error\nvar tryGet = function (it, key) {\n  try {\n    return it[key];\n  } catch (e) { /* empty */ }\n};\n\nmodule.exports = function (it) {\n  var O, T, B;\n  return it === undefined ? 'Undefined' : it === null ? 'Null'\n    // @@toStringTag case\n    : typeof (T = tryGet(O = Object(it), TAG)) == 'string' ? T\n    // builtinTag case\n    : ARG ? cof(O)\n    // ES3 arguments fallback\n    : (B = cof(O)) == 'Object' && typeof O.callee == 'function' ? 'Arguments' : B;\n};\n","module.exports = function (it, Constructor, name, forbiddenField) {\n  if (!(it instanceof Constructor) || (forbiddenField !== undefined && forbiddenField in it)) {\n    throw TypeError(name + ': incorrect invocation!');\n  } return it;\n};\n","// call something on iterator step with safe closing on error\nvar anObject = require('./_an-object');\nmodule.exports = function (iterator, fn, value, entries) {\n  try {\n    return entries ? fn(anObject(value)[0], value[1]) : fn(value);\n  // 7.4.6 IteratorClose(iterator, completion)\n  } catch (e) {\n    var ret = iterator['return'];\n    if (ret !== undefined) anObject(ret.call(iterator));\n    throw e;\n  }\n};\n","// check on default Array iterator\nvar Iterators = require('./_iterators');\nvar ITERATOR = require('./_wks')('iterator');\nvar ArrayProto = Array.prototype;\n\nmodule.exports = function (it) {\n  return it !== undefined && (Iterators.Array === it || ArrayProto[ITERATOR] === it);\n};\n","var classof = require('./_classof');\nvar ITERATOR = require('./_wks')('iterator');\nvar Iterators = require('./_iterators');\nmodule.exports = require('./_core').getIteratorMethod = function (it) {\n  if (it != undefined) return it[ITERATOR]\n    || it['@@iterator']\n    || Iterators[classof(it)];\n};\n","var ctx = require('./_ctx');\nvar call = require('./_iter-call');\nvar isArrayIter = require('./_is-array-iter');\nvar anObject = require('./_an-object');\nvar toLength = require('./_to-length');\nvar getIterFn = require('./core.get-iterator-method');\nvar BREAK = {};\nvar RETURN = {};\nvar exports = module.exports = function (iterable, entries, fn, that, ITERATOR) {\n  var iterFn = ITERATOR ? function () { return iterable; } : getIterFn(iterable);\n  var f = ctx(fn, that, entries ? 2 : 1);\n  var index = 0;\n  var length, step, iterator, result;\n  if (typeof iterFn != 'function') throw TypeError(iterable + ' is not iterable!');\n  // fast case for arrays with default iterator\n  if (isArrayIter(iterFn)) for (length = toLength(iterable.length); length > index; index++) {\n    result = entries ? f(anObject(step = iterable[index])[0], step[1]) : f(iterable[index]);\n    if (result === BREAK || result === RETURN) return result;\n  } else for (iterator = iterFn.call(iterable); !(step = iterator.next()).done;) {\n    result = call(iterator, f, step.value, entries);\n    if (result === BREAK || result === RETURN) return result;\n  }\n};\nexports.BREAK = BREAK;\nexports.RETURN = RETURN;\n","// 7.3.20 SpeciesConstructor(O, defaultConstructor)\nvar anObject = require('./_an-object');\nvar aFunction = require('./_a-function');\nvar SPECIES = require('./_wks')('species');\nmodule.exports = function (O, D) {\n  var C = anObject(O).constructor;\n  var S;\n  return C === undefined || (S = anObject(C)[SPECIES]) == undefined ? D : aFunction(S);\n};\n","// fast apply, http://jsperf.lnkit.com/fast-apply/5\nmodule.exports = function (fn, args, that) {\n  var un = that === undefined;\n  switch (args.length) {\n    case 0: return un ? fn()\n                      : fn.call(that);\n    case 1: return un ? fn(args[0])\n                      : fn.call(that, args[0]);\n    case 2: return un ? fn(args[0], args[1])\n                      : fn.call(that, args[0], args[1]);\n    case 3: return un ? fn(args[0], args[1], args[2])\n                      : fn.call(that, args[0], args[1], args[2]);\n    case 4: return un ? fn(args[0], args[1], args[2], args[3])\n                      : fn.call(that, args[0], args[1], args[2], args[3]);\n  } return fn.apply(that, args);\n};\n","var ctx = require('./_ctx');\nvar invoke = require('./_invoke');\nvar html = require('./_html');\nvar cel = require('./_dom-create');\nvar global = require('./_global');\nvar process = global.process;\nvar setTask = global.setImmediate;\nvar clearTask = global.clearImmediate;\nvar MessageChannel = global.MessageChannel;\nvar Dispatch = global.Dispatch;\nvar counter = 0;\nvar queue = {};\nvar ONREADYSTATECHANGE = 'onreadystatechange';\nvar defer, channel, port;\nvar run = function () {\n  var id = +this;\n  // eslint-disable-next-line no-prototype-builtins\n  if (queue.hasOwnProperty(id)) {\n    var fn = queue[id];\n    delete queue[id];\n    fn();\n  }\n};\nvar listener = function (event) {\n  run.call(event.data);\n};\n// Node.js 0.9+ & IE10+ has setImmediate, otherwise:\nif (!setTask || !clearTask) {\n  setTask = function setImmediate(fn) {\n    var args = [];\n    var i = 1;\n    while (arguments.length > i) args.push(arguments[i++]);\n    queue[++counter] = function () {\n      // eslint-disable-next-line no-new-func\n      invoke(typeof fn == 'function' ? fn : Function(fn), args);\n    };\n    defer(counter);\n    return counter;\n  };\n  clearTask = function clearImmediate(id) {\n    delete queue[id];\n  };\n  // Node.js 0.8-\n  if (require('./_cof')(process) == 'process') {\n    defer = function (id) {\n      process.nextTick(ctx(run, id, 1));\n    };\n  // Sphere (JS game engine) Dispatch API\n  } else if (Dispatch && Dispatch.now) {\n    defer = function (id) {\n      Dispatch.now(ctx(run, id, 1));\n    };\n  // Browsers with MessageChannel, includes WebWorkers\n  } else if (MessageChannel) {\n    channel = new MessageChannel();\n    port = channel.port2;\n    channel.port1.onmessage = listener;\n    defer = ctx(port.postMessage, port, 1);\n  // Browsers with postMessage, skip WebWorkers\n  // IE8 has postMessage, but it's sync & typeof its postMessage is 'object'\n  } else if (global.addEventListener && typeof postMessage == 'function' && !global.importScripts) {\n    defer = function (id) {\n      global.postMessage(id + '', '*');\n    };\n    global.addEventListener('message', listener, false);\n  // IE8-\n  } else if (ONREADYSTATECHANGE in cel('script')) {\n    defer = function (id) {\n      html.appendChild(cel('script'))[ONREADYSTATECHANGE] = function () {\n        html.removeChild(this);\n        run.call(id);\n      };\n    };\n  // Rest old browsers\n  } else {\n    defer = function (id) {\n      setTimeout(ctx(run, id, 1), 0);\n    };\n  }\n}\nmodule.exports = {\n  set: setTask,\n  clear: clearTask\n};\n","var global = require('./_global');\nvar macrotask = require('./_task').set;\nvar Observer = global.MutationObserver || global.WebKitMutationObserver;\nvar process = global.process;\nvar Promise = global.Promise;\nvar isNode = require('./_cof')(process) == 'process';\n\nmodule.exports = function () {\n  var head, last, notify;\n\n  var flush = function () {\n    var parent, fn;\n    if (isNode && (parent = process.domain)) parent.exit();\n    while (head) {\n      fn = head.fn;\n      head = head.next;\n      try {\n        fn();\n      } catch (e) {\n        if (head) notify();\n        else last = undefined;\n        throw e;\n      }\n    } last = undefined;\n    if (parent) parent.enter();\n  };\n\n  // Node.js\n  if (isNode) {\n    notify = function () {\n      process.nextTick(flush);\n    };\n  // browsers with MutationObserver, except iOS Safari - https://github.com/zloirock/core-js/issues/339\n  } else if (Observer && !(global.navigator && global.navigator.standalone)) {\n    var toggle = true;\n    var node = document.createTextNode('');\n    new Observer(flush).observe(node, { characterData: true }); // eslint-disable-line no-new\n    notify = function () {\n      node.data = toggle = !toggle;\n    };\n  // environments with maybe non-completely correct, but existent Promise\n  } else if (Promise && Promise.resolve) {\n    // Promise.resolve without an argument throws an error in LG WebOS 2\n    var promise = Promise.resolve(undefined);\n    notify = function () {\n      promise.then(flush);\n    };\n  // for other environments - macrotask based on:\n  // - setImmediate\n  // - MessageChannel\n  // - window.postMessag\n  // - onreadystatechange\n  // - setTimeout\n  } else {\n    notify = function () {\n      // strange IE + webpack dev server bug - use .call(global)\n      macrotask.call(global, flush);\n    };\n  }\n\n  return function (fn) {\n    var task = { fn: fn, next: undefined };\n    if (last) last.next = task;\n    if (!head) {\n      head = task;\n      notify();\n    } last = task;\n  };\n};\n","'use strict';\n// 25.4.1.5 NewPromiseCapability(C)\nvar aFunction = require('./_a-function');\n\nfunction PromiseCapability(C) {\n  var resolve, reject;\n  this.promise = new C(function ($$resolve, $$reject) {\n    if (resolve !== undefined || reject !== undefined) throw TypeError('Bad Promise constructor');\n    resolve = $$resolve;\n    reject = $$reject;\n  });\n  this.resolve = aFunction(resolve);\n  this.reject = aFunction(reject);\n}\n\nmodule.exports.f = function (C) {\n  return new PromiseCapability(C);\n};\n","module.exports = function (exec) {\n  try {\n    return { e: false, v: exec() };\n  } catch (e) {\n    return { e: true, v: e };\n  }\n};\n","var global = require('./_global');\nvar navigator = global.navigator;\n\nmodule.exports = navigator && navigator.userAgent || '';\n","var anObject = require('./_an-object');\nvar isObject = require('./_is-object');\nvar newPromiseCapability = require('./_new-promise-capability');\n\nmodule.exports = function (C, x) {\n  anObject(C);\n  if (isObject(x) && x.constructor === C) return x;\n  var promiseCapability = newPromiseCapability.f(C);\n  var resolve = promiseCapability.resolve;\n  resolve(x);\n  return promiseCapability.promise;\n};\n","var hide = require('./_hide');\nmodule.exports = function (target, src, safe) {\n  for (var key in src) {\n    if (safe && target[key]) target[key] = src[key];\n    else hide(target, key, src[key]);\n  } return target;\n};\n","'use strict';\nvar global = require('./_global');\nvar core = require('./_core');\nvar dP = require('./_object-dp');\nvar DESCRIPTORS = require('./_descriptors');\nvar SPECIES = require('./_wks')('species');\n\nmodule.exports = function (KEY) {\n  var C = typeof core[KEY] == 'function' ? core[KEY] : global[KEY];\n  if (DESCRIPTORS && C && !C[SPECIES]) dP.f(C, SPECIES, {\n    configurable: true,\n    get: function () { return this; }\n  });\n};\n","var ITERATOR = require('./_wks')('iterator');\nvar SAFE_CLOSING = false;\n\ntry {\n  var riter = [7][ITERATOR]();\n  riter['return'] = function () { SAFE_CLOSING = true; };\n  // eslint-disable-next-line no-throw-literal\n  Array.from(riter, function () { throw 2; });\n} catch (e) { /* empty */ }\n\nmodule.exports = function (exec, skipClosing) {\n  if (!skipClosing && !SAFE_CLOSING) return false;\n  var safe = false;\n  try {\n    var arr = [7];\n    var iter = arr[ITERATOR]();\n    iter.next = function () { return { done: safe = true }; };\n    arr[ITERATOR] = function () { return iter; };\n    exec(arr);\n  } catch (e) { /* empty */ }\n  return safe;\n};\n","'use strict';\nvar LIBRARY = require('./_library');\nvar global = require('./_global');\nvar ctx = require('./_ctx');\nvar classof = require('./_classof');\nvar $export = require('./_export');\nvar isObject = require('./_is-object');\nvar aFunction = require('./_a-function');\nvar anInstance = require('./_an-instance');\nvar forOf = require('./_for-of');\nvar speciesConstructor = require('./_species-constructor');\nvar task = require('./_task').set;\nvar microtask = require('./_microtask')();\nvar newPromiseCapabilityModule = require('./_new-promise-capability');\nvar perform = require('./_perform');\nvar userAgent = require('./_user-agent');\nvar promiseResolve = require('./_promise-resolve');\nvar PROMISE = 'Promise';\nvar TypeError = global.TypeError;\nvar process = global.process;\nvar versions = process && process.versions;\nvar v8 = versions && versions.v8 || '';\nvar $Promise = global[PROMISE];\nvar isNode = classof(process) == 'process';\nvar empty = function () { /* empty */ };\nvar Internal, newGenericPromiseCapability, OwnPromiseCapability, Wrapper;\nvar newPromiseCapability = newGenericPromiseCapability = newPromiseCapabilityModule.f;\n\nvar USE_NATIVE = !!function () {\n  try {\n    // correct subclassing with @@species support\n    var promise = $Promise.resolve(1);\n    var FakePromise = (promise.constructor = {})[require('./_wks')('species')] = function (exec) {\n      exec(empty, empty);\n    };\n    // unhandled rejections tracking support, NodeJS Promise without it fails @@species test\n    return (isNode || typeof PromiseRejectionEvent == 'function')\n      && promise.then(empty) instanceof FakePromise\n      // v8 6.6 (Node 10 and Chrome 66) have a bug with resolving custom thenables\n      // https://bugs.chromium.org/p/chromium/issues/detail?id=830565\n      // we can't detect it synchronously, so just check versions\n      && v8.indexOf('6.6') !== 0\n      && userAgent.indexOf('Chrome/66') === -1;\n  } catch (e) { /* empty */ }\n}();\n\n// helpers\nvar isThenable = function (it) {\n  var then;\n  return isObject(it) && typeof (then = it.then) == 'function' ? then : false;\n};\nvar notify = function (promise, isReject) {\n  if (promise._n) return;\n  promise._n = true;\n  var chain = promise._c;\n  microtask(function () {\n    var value = promise._v;\n    var ok = promise._s == 1;\n    var i = 0;\n    var run = function (reaction) {\n      var handler = ok ? reaction.ok : reaction.fail;\n      var resolve = reaction.resolve;\n      var reject = reaction.reject;\n      var domain = reaction.domain;\n      var result, then, exited;\n      try {\n        if (handler) {\n          if (!ok) {\n            if (promise._h == 2) onHandleUnhandled(promise);\n            promise._h = 1;\n          }\n          if (handler === true) result = value;\n          else {\n            if (domain) domain.enter();\n            result = handler(value); // may throw\n            if (domain) {\n              domain.exit();\n              exited = true;\n            }\n          }\n          if (result === reaction.promise) {\n            reject(TypeError('Promise-chain cycle'));\n          } else if (then = isThenable(result)) {\n            then.call(result, resolve, reject);\n          } else resolve(result);\n        } else reject(value);\n      } catch (e) {\n        if (domain && !exited) domain.exit();\n        reject(e);\n      }\n    };\n    while (chain.length > i) run(chain[i++]); // variable length - can't use forEach\n    promise._c = [];\n    promise._n = false;\n    if (isReject && !promise._h) onUnhandled(promise);\n  });\n};\nvar onUnhandled = function (promise) {\n  task.call(global, function () {\n    var value = promise._v;\n    var unhandled = isUnhandled(promise);\n    var result, handler, console;\n    if (unhandled) {\n      result = perform(function () {\n        if (isNode) {\n          process.emit('unhandledRejection', value, promise);\n        } else if (handler = global.onunhandledrejection) {\n          handler({ promise: promise, reason: value });\n        } else if ((console = global.console) && console.error) {\n          console.error('Unhandled promise rejection', value);\n        }\n      });\n      // Browsers should not trigger `rejectionHandled` event if it was handled here, NodeJS - should\n      promise._h = isNode || isUnhandled(promise) ? 2 : 1;\n    } promise._a = undefined;\n    if (unhandled && result.e) throw result.v;\n  });\n};\nvar isUnhandled = function (promise) {\n  return promise._h !== 1 && (promise._a || promise._c).length === 0;\n};\nvar onHandleUnhandled = function (promise) {\n  task.call(global, function () {\n    var handler;\n    if (isNode) {\n      process.emit('rejectionHandled', promise);\n    } else if (handler = global.onrejectionhandled) {\n      handler({ promise: promise, reason: promise._v });\n    }\n  });\n};\nvar $reject = function (value) {\n  var promise = this;\n  if (promise._d) return;\n  promise._d = true;\n  promise = promise._w || promise; // unwrap\n  promise._v = value;\n  promise._s = 2;\n  if (!promise._a) promise._a = promise._c.slice();\n  notify(promise, true);\n};\nvar $resolve = function (value) {\n  var promise = this;\n  var then;\n  if (promise._d) return;\n  promise._d = true;\n  promise = promise._w || promise; // unwrap\n  try {\n    if (promise === value) throw TypeError(\"Promise can't be resolved itself\");\n    if (then = isThenable(value)) {\n      microtask(function () {\n        var wrapper = { _w: promise, _d: false }; // wrap\n        try {\n          then.call(value, ctx($resolve, wrapper, 1), ctx($reject, wrapper, 1));\n        } catch (e) {\n          $reject.call(wrapper, e);\n        }\n      });\n    } else {\n      promise._v = value;\n      promise._s = 1;\n      notify(promise, false);\n    }\n  } catch (e) {\n    $reject.call({ _w: promise, _d: false }, e); // wrap\n  }\n};\n\n// constructor polyfill\nif (!USE_NATIVE) {\n  // 25.4.3.1 Promise(executor)\n  $Promise = function Promise(executor) {\n    anInstance(this, $Promise, PROMISE, '_h');\n    aFunction(executor);\n    Internal.call(this);\n    try {\n      executor(ctx($resolve, this, 1), ctx($reject, this, 1));\n    } catch (err) {\n      $reject.call(this, err);\n    }\n  };\n  // eslint-disable-next-line no-unused-vars\n  Internal = function Promise(executor) {\n    this._c = [];             // <- awaiting reactions\n    this._a = undefined;      // <- checked in isUnhandled reactions\n    this._s = 0;              // <- state\n    this._d = false;          // <- done\n    this._v = undefined;      // <- value\n    this._h = 0;              // <- rejection state, 0 - default, 1 - handled, 2 - unhandled\n    this._n = false;          // <- notify\n  };\n  Internal.prototype = require('./_redefine-all')($Promise.prototype, {\n    // 25.4.5.3 Promise.prototype.then(onFulfilled, onRejected)\n    then: function then(onFulfilled, onRejected) {\n      var reaction = newPromiseCapability(speciesConstructor(this, $Promise));\n      reaction.ok = typeof onFulfilled == 'function' ? onFulfilled : true;\n      reaction.fail = typeof onRejected == 'function' && onRejected;\n      reaction.domain = isNode ? process.domain : undefined;\n      this._c.push(reaction);\n      if (this._a) this._a.push(reaction);\n      if (this._s) notify(this, false);\n      return reaction.promise;\n    },\n    // 25.4.5.1 Promise.prototype.catch(onRejected)\n    'catch': function (onRejected) {\n      return this.then(undefined, onRejected);\n    }\n  });\n  OwnPromiseCapability = function () {\n    var promise = new Internal();\n    this.promise = promise;\n    this.resolve = ctx($resolve, promise, 1);\n    this.reject = ctx($reject, promise, 1);\n  };\n  newPromiseCapabilityModule.f = newPromiseCapability = function (C) {\n    return C === $Promise || C === Wrapper\n      ? new OwnPromiseCapability(C)\n      : newGenericPromiseCapability(C);\n  };\n}\n\n$export($export.G + $export.W + $export.F * !USE_NATIVE, { Promise: $Promise });\nrequire('./_set-to-string-tag')($Promise, PROMISE);\nrequire('./_set-species')(PROMISE);\nWrapper = require('./_core')[PROMISE];\n\n// statics\n$export($export.S + $export.F * !USE_NATIVE, PROMISE, {\n  // 25.4.4.5 Promise.reject(r)\n  reject: function reject(r) {\n    var capability = newPromiseCapability(this);\n    var $$reject = capability.reject;\n    $$reject(r);\n    return capability.promise;\n  }\n});\n$export($export.S + $export.F * (LIBRARY || !USE_NATIVE), PROMISE, {\n  // 25.4.4.6 Promise.resolve(x)\n  resolve: function resolve(x) {\n    return promiseResolve(LIBRARY && this === Wrapper ? $Promise : this, x);\n  }\n});\n$export($export.S + $export.F * !(USE_NATIVE && require('./_iter-detect')(function (iter) {\n  $Promise.all(iter)['catch'](empty);\n})), PROMISE, {\n  // 25.4.4.1 Promise.all(iterable)\n  all: function all(iterable) {\n    var C = this;\n    var capability = newPromiseCapability(C);\n    var resolve = capability.resolve;\n    var reject = capability.reject;\n    var result = perform(function () {\n      var values = [];\n      var index = 0;\n      var remaining = 1;\n      forOf(iterable, false, function (promise) {\n        var $index = index++;\n        var alreadyCalled = false;\n        values.push(undefined);\n        remaining++;\n        C.resolve(promise).then(function (value) {\n          if (alreadyCalled) return;\n          alreadyCalled = true;\n          values[$index] = value;\n          --remaining || resolve(values);\n        }, reject);\n      });\n      --remaining || resolve(values);\n    });\n    if (result.e) reject(result.v);\n    return capability.promise;\n  },\n  // 25.4.4.4 Promise.race(iterable)\n  race: function race(iterable) {\n    var C = this;\n    var capability = newPromiseCapability(C);\n    var reject = capability.reject;\n    var result = perform(function () {\n      forOf(iterable, false, function (promise) {\n        C.resolve(promise).then(capability.resolve, reject);\n      });\n    });\n    if (result.e) reject(result.v);\n    return capability.promise;\n  }\n});\n","// https://github.com/tc39/proposal-promise-finally\n'use strict';\nvar $export = require('./_export');\nvar core = require('./_core');\nvar global = require('./_global');\nvar speciesConstructor = require('./_species-constructor');\nvar promiseResolve = require('./_promise-resolve');\n\n$export($export.P + $export.R, 'Promise', { 'finally': function (onFinally) {\n  var C = speciesConstructor(this, core.Promise || global.Promise);\n  var isFunction = typeof onFinally == 'function';\n  return this.then(\n    isFunction ? function (x) {\n      return promiseResolve(C, onFinally()).then(function () { return x; });\n    } : onFinally,\n    isFunction ? function (e) {\n      return promiseResolve(C, onFinally()).then(function () { throw e; });\n    } : onFinally\n  );\n} });\n","'use strict';\n// https://github.com/tc39/proposal-promise-try\nvar $export = require('./_export');\nvar newPromiseCapability = require('./_new-promise-capability');\nvar perform = require('./_perform');\n\n$export($export.S, 'Promise', { 'try': function (callbackfn) {\n  var promiseCapability = newPromiseCapability.f(this);\n  var result = perform(callbackfn);\n  (result.e ? promiseCapability.reject : promiseCapability.resolve)(result.v);\n  return promiseCapability.promise;\n} });\n","require('../modules/es6.object.to-string');\nrequire('../modules/es6.string.iterator');\nrequire('../modules/web.dom.iterable');\nrequire('../modules/es6.promise');\nrequire('../modules/es7.promise.finally');\nrequire('../modules/es7.promise.try');\nmodule.exports = require('../modules/_core').Promise;\n","module.exports = { \"default\": require(\"core-js/library/fn/promise\"), __esModule: true };","\"use strict\";\n\nexports.__esModule = true;\n\nvar _promise = require(\"../core-js/promise\");\n\nvar _promise2 = _interopRequireDefault(_promise);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nexports.default = function (fn) {\n  return function () {\n    var gen = fn.apply(this, arguments);\n    return new _promise2.default(function (resolve, reject) {\n      function step(key, arg) {\n        try {\n          var info = gen[key](arg);\n          var value = info.value;\n        } catch (error) {\n          reject(error);\n          return;\n        }\n\n        if (info.done) {\n          resolve(value);\n        } else {\n          return _promise2.default.resolve(value).then(function (value) {\n            step(\"next\", value);\n          }, function (err) {\n            step(\"throw\", err);\n          });\n        }\n      }\n\n      return step(\"next\");\n    });\n  };\n};","export function isMobile() {\n    var a = navigator.userAgent || navigator.vendor || window.opera;\n    return /(android|bb\\d+|meego).+mobile|avantgo|bada\\/|blackberry|blazer|compal|elaine|fennec|hiptop|iemobile|ip(hone|od)|iris|kindle|lge |maemo|midp|mmp|mobile.+firefox|netfront|opera m(ob|in)i|palm( os)?|phone|p(ixi|re)\\/|plucker|pocket|psp|series(4|6)0|symbian|treo|up\\.(browser|link)|vodafone|wap|windows ce|xda|xiino/i\n        .test(a) ||\n        /1207|6310|6590|3gso|4thp|50[1-6]i|770s|802s|a wa|abac|ac(er|oo|s\\-)|ai(ko|rn)|al(av|ca|co)|amoi|an(ex|ny|yw)|aptu|ar(ch|go)|as(te|us)|attw|au(di|\\-m|r |s )|avan|be(ck|ll|nq)|bi(lb|rd)|bl(ac|az)|br(e|v)w|bumb|bw\\-(n|u)|c55\\/|capi|ccwa|cdm\\-|cell|chtm|cldc|cmd\\-|co(mp|nd)|craw|da(it|ll|ng)|dbte|dc\\-s|devi|dica|dmob|do(c|p)o|ds(12|\\-d)|el(49|ai)|em(l2|ul)|er(ic|k0)|esl8|ez([4-7]0|os|wa|ze)|fetc|fly(\\-|_)|g1 u|g560|gene|gf\\-5|g\\-mo|go(\\.w|od)|gr(ad|un)|haie|hcit|hd\\-(m|p|t)|hei\\-|hi(pt|ta)|hp( i|ip)|hs\\-c|ht(c(\\-| |_|a|g|p|s|t)|tp)|hu(aw|tc)|i\\-(20|go|ma)|i230|iac( |\\-|\\/)|ibro|idea|ig01|ikom|im1k|inno|ipaq|iris|ja(t|v)a|jbro|jemu|jigs|kddi|keji|kgt( |\\/)|klon|kpt |kwc\\-|kyo(c|k)|le(no|xi)|lg( g|\\/(k|l|u)|50|54|\\-[a-w])|libw|lynx|m1\\-w|m3ga|m50\\/|ma(te|ui|xo)|mc(01|21|ca)|m\\-cr|me(rc|ri)|mi(o8|oa|ts)|mmef|mo(01|02|bi|de|do|t(\\-| |o|v)|zz)|mt(50|p1|v )|mwbp|mywa|n10[0-2]|n20[2-3]|n30(0|2)|n50(0|2|5)|n7(0(0|1)|10)|ne((c|m)\\-|on|tf|wf|wg|wt)|nok(6|i)|nzph|o2im|op(ti|wv)|oran|owg1|p800|pan(a|d|t)|pdxg|pg(13|\\-([1-8]|c))|phil|pire|pl(ay|uc)|pn\\-2|po(ck|rt|se)|prox|psio|pt\\-g|qa\\-a|qc(07|12|21|32|60|\\-[2-7]|i\\-)|qtek|r380|r600|raks|rim9|ro(ve|zo)|s55\\/|sa(ge|ma|mm|ms|ny|va)|sc(01|h\\-|oo|p\\-)|sdk\\/|se(c(\\-|0|1)|47|mc|nd|ri)|sgh\\-|shar|sie(\\-|m)|sk\\-0|sl(45|id)|sm(al|ar|b3|it|t5)|so(ft|ny)|sp(01|h\\-|v\\-|v )|sy(01|mb)|t2(18|50)|t6(00|10|18)|ta(gt|lk)|tcl\\-|tdg\\-|tel(i|m)|tim\\-|t\\-mo|to(pl|sh)|ts(70|m\\-|m3|m5)|tx\\-9|up(\\.b|g1|si)|utst|v400|v750|veri|vi(rg|te)|vk(40|5[0-3]|\\-v)|vm40|voda|vulc|vx(52|53|60|61|70|80|81|83|85|98)|w3c(\\-| )|webc|whit|wi(g |nc|nw)|wmlb|wonu|x700|yas\\-|your|zeto|zte\\-/i\n            .test(a.substr(0, 4));\n}\n//# sourceMappingURL=device_util.js.map","export function doc(info) {\n    return function () {\n        var args = [];\n        for (var _i = 0; _i < arguments.length; _i++) {\n            args[_i] = arguments[_i];\n        }\n    };\n}\n//# sourceMappingURL=doc.js.map","import { Tensor } from './tensor';\nfunction assertArgumentIsTensor(x, argName, functionName) {\n    assert(x instanceof Tensor, \"Argument '\" + argName + \"' passed to '\" + functionName + \"' must be a Tensor, \" +\n        (\"but got \" + typeof x + \".\"));\n}\nexport function assertArgumentsAreTensors(args, functionName) {\n    var _loop_1 = function (argName) {\n        var arg = args[argName];\n        if (Array.isArray(arg)) {\n            arg.forEach(function (t, i) {\n                assertArgumentIsTensor(t, argName + \"[\" + i + \"]\", functionName);\n            });\n        }\n        else {\n            assertArgumentIsTensor(arg, argName, functionName);\n        }\n    };\n    for (var argName in args) {\n        _loop_1(argName);\n    }\n}\nexport function shuffle(array) {\n    var counter = array.length;\n    var temp = 0;\n    var index = 0;\n    while (counter > 0) {\n        index = (Math.random() * counter) | 0;\n        counter--;\n        temp = array[counter];\n        array[counter] = array[index];\n        array[index] = temp;\n    }\n}\nexport function clamp(min, x, max) {\n    return Math.max(min, Math.min(x, max));\n}\nexport function randUniform(a, b) {\n    return Math.random() * (b - a) + a;\n}\nexport function distSquared(a, b) {\n    var result = 0;\n    for (var i = 0; i < a.length; i++) {\n        var diff = Number(a[i]) - Number(b[i]);\n        result += diff * diff;\n    }\n    return result;\n}\nexport function assert(expr, msg) {\n    if (!expr) {\n        throw new Error(msg);\n    }\n}\nexport function assertShapesMatch(shapeA, shapeB, errorMessagePrefix) {\n    if (errorMessagePrefix === void 0) { errorMessagePrefix = ''; }\n    assert(arraysEqual(shapeA, shapeB), errorMessagePrefix + (\" Shapes \" + shapeA + \" and \" + shapeB + \" must match\"));\n}\nexport function assertTypesMatch(a, b) {\n    assert(a.dtype === b.dtype, \" The dtypes of the first(\" + a.dtype + \") and\" +\n        (\" second(\" + b.dtype + \") input must match\"));\n}\nexport function flatten(arr, ret) {\n    if (ret === void 0) { ret = []; }\n    if (Array.isArray(arr)) {\n        for (var i = 0; i < arr.length; ++i) {\n            flatten(arr[i], ret);\n        }\n    }\n    else {\n        ret.push(arr);\n    }\n    return ret;\n}\nexport function inferShape(val) {\n    if (isTypedArray(val)) {\n        return [val.length];\n    }\n    if (!Array.isArray(val)) {\n        return [];\n    }\n    var shape = [];\n    while (val instanceof Array) {\n        shape.push(val.length);\n        val = val[0];\n    }\n    return shape;\n}\nexport function sizeFromShape(shape) {\n    if (shape.length === 0) {\n        return 1;\n    }\n    var size = shape[0];\n    for (var i = 1; i < shape.length; i++) {\n        size *= shape[i];\n    }\n    return size;\n}\nexport function isScalarShape(shape) {\n    return shape.length === 0;\n}\nexport function arraysEqual(n1, n2) {\n    if (n1.length !== n2.length) {\n        return false;\n    }\n    for (var i = 0; i < n1.length; i++) {\n        if (n1[i] !== n2[i]) {\n            return false;\n        }\n    }\n    return true;\n}\nexport function isInt(a) {\n    return a % 1 === 0;\n}\nexport function tanh(x) {\n    if (Math.tanh != null) {\n        return Math.tanh(x);\n    }\n    if (x === Infinity) {\n        return 1;\n    }\n    else if (x === -Infinity) {\n        return -1;\n    }\n    else {\n        var e2x = Math.exp(2 * x);\n        return (e2x - 1) / (e2x + 1);\n    }\n}\nexport function sizeToSquarishShape(size) {\n    for (var a = Math.floor(Math.sqrt(size)); a > 1; --a) {\n        if (size % a === 0) {\n            return [a, size / a];\n        }\n    }\n    return [1, size];\n}\nexport function createShuffledIndices(n) {\n    var shuffledIndices = new Uint32Array(n);\n    for (var i = 0; i < n; ++i) {\n        shuffledIndices[i] = i;\n    }\n    shuffle(shuffledIndices);\n    return shuffledIndices;\n}\nexport function rightPad(a, size) {\n    if (size <= a.length) {\n        return a;\n    }\n    return a + ' '.repeat(size - a.length);\n}\nexport function repeatedTry(checkFn, delayFn, maxCounter) {\n    if (delayFn === void 0) { delayFn = function (counter) { return 0; }; }\n    return new Promise(function (resolve, reject) {\n        var tryCount = 0;\n        var tryFn = function () {\n            if (checkFn()) {\n                resolve();\n                return;\n            }\n            tryCount++;\n            var nextBackoff = delayFn(tryCount);\n            if (maxCounter != null && tryCount >= maxCounter) {\n                reject();\n                return;\n            }\n            setTimeout(tryFn, nextBackoff);\n        };\n        setTimeout(tryFn, 0);\n    });\n}\nexport function getQueryParams(queryString) {\n    var params = {};\n    queryString.replace(/[?&]([^=?&]+)(?:=([^&]*))?/g, function (s) {\n        var t = [];\n        for (var _i = 1; _i < arguments.length; _i++) {\n            t[_i - 1] = arguments[_i];\n        }\n        decodeParam(params, t[0], t[1]);\n        return t.join('=');\n    });\n    return params;\n}\nfunction decodeParam(params, name, value) {\n    params[decodeURIComponent(name)] = decodeURIComponent(value || '');\n}\nexport function inferFromImplicitShape(shape, size) {\n    var shapeProd = 1;\n    var implicitIdx = -1;\n    for (var i = 0; i < shape.length; ++i) {\n        if (shape[i] > 0) {\n            shapeProd *= shape[i];\n        }\n        else if (shape[i] === -1) {\n            if (implicitIdx !== -1) {\n                throw Error(\"Shapes can only have 1 implicit size. \" +\n                    (\"Found - 1 at dim \" + implicitIdx + \" and dim \" + i));\n            }\n            implicitIdx = i;\n        }\n        else if (shape[i] <= 0) {\n            throw Error(\"Shapes can not be <= 0. Found \" + shape[i] + \" at dim \" + i);\n        }\n    }\n    if (implicitIdx === -1) {\n        if (size > 0 && size !== shapeProd) {\n            throw Error(\"Size(\" + size + \") must match the product of shape \" + shape);\n        }\n        return shape;\n    }\n    if (size % shapeProd !== 0) {\n        throw Error(\"The implicit shape can't be a fractional number. \" +\n            (\"Got \" + size + \" / \" + shapeProd));\n    }\n    var newShape = shape.slice();\n    newShape[implicitIdx] = size / shapeProd;\n    return newShape;\n}\nexport function squeezeShape(shape, axis) {\n    var newShape = [];\n    var keptDims = [];\n    var j = 0;\n    for (var i = 0; i < shape.length; ++i) {\n        if (axis != null) {\n            if (axis[j] === i && shape[i] > 1) {\n                throw new Error(\"Can't squeeze axis \" + i + \" since its dim '\" + shape[i] + \"' is not 1\");\n            }\n            if ((axis[j] == null || axis[j] > i) && shape[i] === 1) {\n                newShape.push(shape[i]);\n                keptDims.push(i);\n            }\n            if (axis[j] <= i) {\n                j++;\n            }\n        }\n        if (shape[i] > 1) {\n            newShape.push(shape[i]);\n            keptDims.push(i);\n        }\n    }\n    return { newShape: newShape, keptDims: keptDims };\n}\nexport function getTypedArrayFromDType(dtype, size) {\n    var values = null;\n    if (dtype == null || dtype === 'float32') {\n        values = new Float32Array(size);\n    }\n    else if (dtype === 'int32') {\n        values = new Int32Array(size);\n    }\n    else if (dtype === 'bool') {\n        values = new Uint8Array(size);\n    }\n    else {\n        throw new Error(\"Unknown data type \" + dtype);\n    }\n    return values;\n}\nexport function isTensorInList(tensor, tensorList) {\n    for (var i = 0; i < tensorList.length; i++) {\n        if (tensorList[i].id === tensor.id) {\n            return true;\n        }\n    }\n    return false;\n}\nexport function checkForNaN(vals, dtype, name) {\n    if (dtype !== 'float32') {\n        return;\n    }\n    for (var i = 0; i < vals.length; i++) {\n        if (isNaN(vals[i])) {\n            throw Error(\"The result of the '\" + name + \"' has NaNs.\");\n        }\n    }\n}\nexport function flattenNameArrayMap(nameArrayMap, keys) {\n    var xs = [];\n    if (nameArrayMap instanceof Tensor) {\n        xs.push(nameArrayMap);\n    }\n    else {\n        var xMap = nameArrayMap;\n        for (var i = 0; i < keys.length; i++) {\n            xs.push(xMap[keys[i]]);\n        }\n    }\n    return xs;\n}\nexport function unflattenToNameArrayMap(keys, flatArrays) {\n    if (keys.length !== flatArrays.length) {\n        throw new Error(\"Cannot unflatten Tensor[], keys and arrays are not of same length.\");\n    }\n    var result = {};\n    for (var i = 0; i < keys.length; i++) {\n        result[keys[i]] = flatArrays[i];\n    }\n    return result;\n}\nexport function hasEncodingLoss(oldType, newType) {\n    if (newType === 'float32') {\n        return false;\n    }\n    if (newType === 'int32' && oldType !== 'float32') {\n        return false;\n    }\n    if (newType === 'bool' && oldType === 'bool') {\n        return false;\n    }\n    return true;\n}\nexport function copyTypedArray(array, dtype) {\n    if (dtype == null || dtype === 'float32') {\n        return new Float32Array(array);\n    }\n    else if (dtype === 'int32') {\n        return new Int32Array(array);\n    }\n    else if (dtype === 'bool') {\n        var bool = new Uint8Array(array.length);\n        for (var i = 0; i < bool.length; ++i) {\n            if (Math.round(array[i]) !== 0) {\n                bool[i] = 1;\n            }\n        }\n        return bool;\n    }\n    else {\n        throw new Error(\"Unknown data type \" + dtype);\n    }\n}\nexport function isTypedArray(a) {\n    return a instanceof Float32Array || a instanceof Int32Array ||\n        a instanceof Uint8Array;\n}\nexport function bytesPerElement(dtype) {\n    if (dtype === 'float32' || dtype === 'int32') {\n        return 4;\n    }\n    else if (dtype === 'bool') {\n        return 1;\n    }\n    else {\n        throw new Error(\"Unknown dtype \" + dtype);\n    }\n}\nexport function isFunction(f) {\n    return !!(f && f.constructor && f.call && f.apply);\n}\nexport function extractTensorsFromContainer(result) {\n    return extractTensorsFromAny(result);\n}\nexport function extractTensorsFromAny(result) {\n    if (result == null) {\n        return [];\n    }\n    if (result instanceof Tensor) {\n        return [result];\n    }\n    var list = [];\n    var resultObj = result;\n    if (!isIterable(resultObj)) {\n        return [];\n    }\n    for (var k in resultObj) {\n        var sublist = flatten(resultObj[k]).filter(function (x) { return x instanceof Tensor; });\n        list.push.apply(list, sublist);\n    }\n    return list;\n}\nfunction isIterable(obj) {\n    return Array.isArray(obj) || typeof obj === 'object';\n}\n//# sourceMappingURL=util.js.map","import * as util from './util';\nvar FORMAT_LIMIT_NUM_VALS = 20;\nvar FORMAT_NUM_FIRST_LAST_VALS = 3;\nvar FORMAT_NUM_SIG_DIGITS = 7;\nexport function tensorToString(t, verbose) {\n    var vals = t.dataSync();\n    var padPerCol = computeMaxSizePerColumn(t);\n    var valsLines = subTensorToString(vals, t.shape, t.strides, padPerCol);\n    var lines = ['Tensor'];\n    if (verbose) {\n        lines.push(\"  dtype: \" + t.dtype);\n        lines.push(\"  rank: \" + t.rank);\n        lines.push(\"  shape: [\" + t.shape + \"]\");\n        lines.push(\"  values:\");\n    }\n    lines.push(valsLines.map(function (l) { return '    ' + l; }).join('\\n'));\n    return lines.join('\\n');\n}\nfunction computeMaxSizePerColumn(t) {\n    var vals = t.dataSync();\n    var n = t.size;\n    var numCols = t.strides[t.strides.length - 1];\n    var padPerCol = new Array(numCols).fill(0);\n    if (t.rank > 1) {\n        for (var row = 0; row < n / numCols; row++) {\n            var offset = row * numCols;\n            for (var j = 0; j < numCols; j++) {\n                padPerCol[j] =\n                    Math.max(padPerCol[j], valToString(vals[offset + j], 0).length);\n            }\n        }\n    }\n    return padPerCol;\n}\nfunction valToString(val, pad) {\n    return util.rightPad(parseFloat(val.toFixed(FORMAT_NUM_SIG_DIGITS)).toString(), pad);\n}\nfunction subTensorToString(vals, shape, strides, padPerCol, isLast) {\n    if (isLast === void 0) { isLast = true; }\n    var size = shape[0];\n    var rank = shape.length;\n    if (rank === 0) {\n        return [vals[0].toString()];\n    }\n    if (rank === 1) {\n        if (size > FORMAT_LIMIT_NUM_VALS) {\n            var firstVals = Array.from(vals.subarray(0, FORMAT_NUM_FIRST_LAST_VALS));\n            var lastVals = Array.from(vals.subarray(size - FORMAT_NUM_FIRST_LAST_VALS, size));\n            return [\n                '[' + firstVals.map(function (x, i) { return valToString(x, padPerCol[i]); }).join(', ') +\n                    ', ..., ' +\n                    lastVals\n                        .map(function (x, i) { return valToString(x, padPerCol[size - FORMAT_NUM_FIRST_LAST_VALS + i]); })\n                        .join(', ') +\n                    ']'\n            ];\n        }\n        return [\n            '[' +\n                Array.from(vals).map(function (x, i) { return valToString(x, padPerCol[i]); }).join(', ') +\n                ']'\n        ];\n    }\n    var subshape = shape.slice(1);\n    var substrides = strides.slice(1);\n    var stride = strides[0];\n    var lines = [];\n    if (size > FORMAT_LIMIT_NUM_VALS) {\n        for (var i = 0; i < FORMAT_NUM_FIRST_LAST_VALS; i++) {\n            var start = i * stride;\n            var end = start + stride;\n            lines.push.apply(lines, subTensorToString(vals.subarray(start, end), subshape, substrides, padPerCol, false));\n        }\n        lines.push('...');\n        for (var i = size - FORMAT_NUM_FIRST_LAST_VALS; i < size; i++) {\n            var start = i * stride;\n            var end = start + stride;\n            lines.push.apply(lines, subTensorToString(vals.subarray(start, end), subshape, substrides, padPerCol, i === size - 1));\n        }\n    }\n    else {\n        for (var i = 0; i < size; i++) {\n            var start = i * stride;\n            var end = start + stride;\n            lines.push.apply(lines, subTensorToString(vals.subarray(start, end), subshape, substrides, padPerCol, i === size - 1));\n        }\n    }\n    var sep = rank === 2 ? ',' : '';\n    lines[0] = '[' + lines[0] + sep;\n    for (var i = 1; i < lines.length - 1; i++) {\n        lines[i] = ' ' + lines[i] + sep;\n    }\n    var newLineSep = ',\\n';\n    for (var i = 2; i < rank; i++) {\n        newLineSep += '\\n';\n    }\n    lines[lines.length - 1] =\n        ' ' + lines[lines.length - 1] + ']' + (isLast ? '' : newLineSep);\n    return lines;\n}\n//# sourceMappingURL=tensor_util.js.map","import * as util from '../util';\nexport function axesAreInnerMostDims(axes, rank) {\n    for (var i = 0; i < axes.length; ++i) {\n        if (axes[axes.length - i - 1] !== rank - 1 - i) {\n            return false;\n        }\n    }\n    return true;\n}\nexport function combineLocations(outputLoc, reduceLoc, axes) {\n    var rank = outputLoc.length + reduceLoc.length;\n    var loc = [];\n    var outIdx = 0;\n    var reduceIdx = 0;\n    for (var dim = 0; dim < rank; dim++) {\n        if (axes.indexOf(dim) === -1) {\n            loc.push(outputLoc[outIdx++]);\n        }\n        else {\n            loc.push(reduceLoc[reduceIdx++]);\n        }\n    }\n    return loc;\n}\nexport function computeOutAndReduceShapes(aShape, axes) {\n    var outShape = [];\n    var rank = aShape.length;\n    for (var dim = 0; dim < rank; dim++) {\n        if (axes.indexOf(dim) === -1) {\n            outShape.push(aShape[dim]);\n        }\n    }\n    var reduceShape = axes.map(function (dim) { return aShape[dim]; });\n    return [outShape, reduceShape];\n}\nexport function expandShapeToKeepDim(shape, axes) {\n    var reduceSubShape = axes.map(function (x) { return 1; });\n    return combineLocations(shape, reduceSubShape, axes);\n}\nexport function parseAxisParam(axis, shape) {\n    var rank = shape.length;\n    axis = axis == null ? shape.map(function (s, i) { return i; }) : [].concat(axis);\n    util.assert(axis.every(function (ax) { return ax >= -rank && ax < rank; }), \"All values in axis param must be in range [-\" + rank + \", \" + rank + \") but \" +\n        (\"got axis \" + axis));\n    util.assert(axis.every(function (ax) { return util.isInt(ax); }), \"All values in axis param must be integers but \" +\n        (\"got axis \" + axis));\n    return axis.map(function (a) { return a < 0 ? rank + a : a; });\n}\nexport function assertAxesAreInnerMostDims(msg, axes, rank) {\n    util.assert(axesAreInnerMostDims(axes, rank), msg + \" supports only inner-most axes for now. \" +\n        (\"Got axes \" + axes + \" and rank-\" + rank + \" input.\"));\n}\nexport function getAxesPermutation(axes, rank) {\n    if (axesAreInnerMostDims(axes, rank)) {\n        return null;\n    }\n    var result = [];\n    for (var i = 0; i < rank; ++i) {\n        if (axes.indexOf(i) === -1) {\n            result.push(i);\n        }\n    }\n    axes.forEach(function (axis) { return result.push(axis); });\n    return result;\n}\nexport function getUndoAxesPermutation(axes) {\n    return axes.map(function (axis, i) { return [i, axis]; })\n        .sort(function (a, b) { return a[1] - b[1]; })\n        .map(function (x) { return x[0]; });\n}\nexport function getInnerMostAxes(numAxes, rank) {\n    var res = [];\n    for (var i = rank - numAxes; i < rank; ++i) {\n        res.push(i);\n    }\n    return res;\n}\n//# sourceMappingURL=axis_util.js.map","import * as util from '../util';\nexport function assertParams(aShape, bShape, axis) {\n    var aRank = aShape.length;\n    var bRank = bShape.length;\n    util.assert(aShape.length === bShape.length, \"Error in concat\" + aRank + \"D: rank of x1 (\" + aRank + \") and x2 (\" + bRank + \") \" +\n        \"must be the same.\");\n    util.assert(axis >= 0 && axis < aRank, \"Error in concat\" + aRank + \"D: axis must be \" +\n        (\"between 0 and \" + (aRank - 1) + \".\"));\n    for (var i = 0; i < aRank; i++) {\n        util.assert((i === axis) || (aShape[i] === bShape[i]), \"Error in concat\" + aRank + \"D: Shape (\" + aShape + \") does not match \" +\n            (\"(\" + bShape + \") along the non-concatenated axis \" + i + \".\"));\n    }\n}\nexport function computeOutShape1D(x1Shape, x2Shape) {\n    util.assert(x1Shape.length === 1 && x2Shape.length === 1, 'x1 and x2 should be 1d array.');\n    var outputShape = x1Shape.slice();\n    outputShape[0] += x2Shape[0];\n    return outputShape;\n}\nexport function computeOutShape(x1Shape, x2Shape, axis) {\n    util.assert(x1Shape.length === x2Shape.length, 'x1 and x2 should have the same rank.');\n    var outputShape = x1Shape.slice();\n    outputShape[axis] += x2Shape[axis];\n    return outputShape;\n}\nexport function computeGradientSliceShapes(aShape, bShape) {\n    return {\n        aBegin: [0, 0],\n        aSize: aShape,\n        bBegin: [0, aShape[1]],\n        bSize: bShape\n    };\n}\n//# sourceMappingURL=concat_util.js.map","import { tidy } from '../globals';\nexport function operation(target, name, descriptor) {\n    var fn = descriptor.value;\n    descriptor.value = function () {\n        var args = [];\n        for (var _i = 0; _i < arguments.length; _i++) {\n            args[_i] = arguments[_i];\n        }\n        return tidy(name, function () { return fn.apply(void 0, args); });\n    };\n    return descriptor;\n}\n//# sourceMappingURL=operation.js.map","var __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\n};\nimport { doc } from '../doc';\nimport { ENV } from '../environment';\nimport * as util from '../util';\nimport { parseAxisParam } from './axis_util';\nimport * as concat_util from './concat_util';\nimport { operation } from './operation';\nvar ConcatOps = (function () {\n    function ConcatOps() {\n    }\n    ConcatOps.concat1d = function (tensors) {\n        return ConcatOps.concat(tensors, 0);\n    };\n    ConcatOps.concat2d = function (tensors, axis) {\n        return ConcatOps.concat(tensors, axis);\n    };\n    ConcatOps.concat3d = function (tensors, axis) {\n        return ConcatOps.concat(tensors, axis);\n    };\n    ConcatOps.concat4d = function (tensors, axis) {\n        return ConcatOps.concat(tensors, axis);\n    };\n    ConcatOps.concat = function (tensors, axis) {\n        if (axis === void 0) { axis = 0; }\n        util.assert(tensors.length >= 1, 'Pass at least one tensor to concat');\n        util.assertArgumentsAreTensors({ tensors: tensors }, 'concat');\n        var result = tensors[0];\n        if (tensors.length === 1) {\n            return result;\n        }\n        var axes = parseAxisParam(axis, result.shape);\n        for (var i = 1; i < tensors.length; ++i) {\n            result = concat2Tensors(result, tensors[i], axes[0]);\n        }\n        return result;\n    };\n    __decorate([\n        doc({ heading: 'Tensors', subheading: 'Slicing and Joining' }),\n        operation\n    ], ConcatOps, \"concat\", null);\n    return ConcatOps;\n}());\nexport { ConcatOps };\nfunction concat2Tensors(a, b, axis) {\n    concat_util.assertParams(a.shape, b.shape, axis);\n    var outShape = concat_util.computeOutShape(a.shape, b.shape, axis);\n    var a2D = a.as2D(-1, util.sizeFromShape(a.shape.slice(axis)));\n    var b2D = b.as2D(-1, util.sizeFromShape(b.shape.slice(axis)));\n    var _a = concat_util.computeGradientSliceShapes(a2D.shape, b2D.shape), aBegin = _a.aBegin, aSize = _a.aSize, bBegin = _a.bBegin, bSize = _a.bSize;\n    var der = function (dy) {\n        return { a: function () { return dy.slice(aBegin, aSize); }, b: function () { return dy.slice(bBegin, bSize); } };\n    };\n    var res = ENV.engine.runKernel(function (backend) { return backend.concat(a2D, b2D); }, { a: a2D, b: b2D }, der);\n    return res.reshape(outShape);\n}\n//# sourceMappingURL=concat.js.map","// A port of an algorithm by Johannes Baage <baagoe@baagoe.com>, 2010\n// http://baagoe.com/en/RandomMusings/javascript/\n// https://github.com/nquinlan/better-random-numbers-for-javascript-mirror\n// Original work is under MIT license -\n\n// Copyright (C) 2010 by Johannes Baage <baagoe@baagoe.org>\n//\n// Permission is hereby granted, free of charge, to any person obtaining a copy\n// of this software and associated documentation files (the \"Software\"), to deal\n// in the Software without restriction, including without limitation the rights\n// to use, copy, modify, merge, publish, distribute, sublicense, and/or sell\n// copies of the Software, and to permit persons to whom the Software is\n// furnished to do so, subject to the following conditions:\n// \n// The above copyright notice and this permission notice shall be included in\n// all copies or substantial portions of the Software.\n// \n// THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR\n// IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,\n// FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE\n// AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER\n// LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,\n// OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN\n// THE SOFTWARE.\n\n\n\n(function(global, module, define) {\n\nfunction Alea(seed) {\n  var me = this, mash = Mash();\n\n  me.next = function() {\n    var t = 2091639 * me.s0 + me.c * 2.3283064365386963e-10; // 2^-32\n    me.s0 = me.s1;\n    me.s1 = me.s2;\n    return me.s2 = t - (me.c = t | 0);\n  };\n\n  // Apply the seeding algorithm from Baagoe.\n  me.c = 1;\n  me.s0 = mash(' ');\n  me.s1 = mash(' ');\n  me.s2 = mash(' ');\n  me.s0 -= mash(seed);\n  if (me.s0 < 0) { me.s0 += 1; }\n  me.s1 -= mash(seed);\n  if (me.s1 < 0) { me.s1 += 1; }\n  me.s2 -= mash(seed);\n  if (me.s2 < 0) { me.s2 += 1; }\n  mash = null;\n}\n\nfunction copy(f, t) {\n  t.c = f.c;\n  t.s0 = f.s0;\n  t.s1 = f.s1;\n  t.s2 = f.s2;\n  return t;\n}\n\nfunction impl(seed, opts) {\n  var xg = new Alea(seed),\n      state = opts && opts.state,\n      prng = xg.next;\n  prng.int32 = function() { return (xg.next() * 0x100000000) | 0; }\n  prng.double = function() {\n    return prng() + (prng() * 0x200000 | 0) * 1.1102230246251565e-16; // 2^-53\n  };\n  prng.quick = prng;\n  if (state) {\n    if (typeof(state) == 'object') copy(state, xg);\n    prng.state = function() { return copy(xg, {}); }\n  }\n  return prng;\n}\n\nfunction Mash() {\n  var n = 0xefc8249d;\n\n  var mash = function(data) {\n    data = data.toString();\n    for (var i = 0; i < data.length; i++) {\n      n += data.charCodeAt(i);\n      var h = 0.02519603282416938 * n;\n      n = h >>> 0;\n      h -= n;\n      h *= n;\n      n = h >>> 0;\n      h -= n;\n      n += h * 0x100000000; // 2^32\n    }\n    return (n >>> 0) * 2.3283064365386963e-10; // 2^-32\n  };\n\n  return mash;\n}\n\n\nif (module && module.exports) {\n  module.exports = impl;\n} else if (define && define.amd) {\n  define(function() { return impl; });\n} else {\n  this.alea = impl;\n}\n\n})(\n  this,\n  (typeof module) == 'object' && module,    // present in node.js\n  (typeof define) == 'function' && define   // present with an AMD loader\n);\n\n\n","// A Javascript implementaion of the \"xor128\" prng algorithm by\n// George Marsaglia.  See http://www.jstatsoft.org/v08/i14/paper\n\n(function(global, module, define) {\n\nfunction XorGen(seed) {\n  var me = this, strseed = '';\n\n  me.x = 0;\n  me.y = 0;\n  me.z = 0;\n  me.w = 0;\n\n  // Set up generator function.\n  me.next = function() {\n    var t = me.x ^ (me.x << 11);\n    me.x = me.y;\n    me.y = me.z;\n    me.z = me.w;\n    return me.w ^= (me.w >>> 19) ^ t ^ (t >>> 8);\n  };\n\n  if (seed === (seed | 0)) {\n    // Integer seed.\n    me.x = seed;\n  } else {\n    // String seed.\n    strseed += seed;\n  }\n\n  // Mix in string seed, then discard an initial batch of 64 values.\n  for (var k = 0; k < strseed.length + 64; k++) {\n    me.x ^= strseed.charCodeAt(k) | 0;\n    me.next();\n  }\n}\n\nfunction copy(f, t) {\n  t.x = f.x;\n  t.y = f.y;\n  t.z = f.z;\n  t.w = f.w;\n  return t;\n}\n\nfunction impl(seed, opts) {\n  var xg = new XorGen(seed),\n      state = opts && opts.state,\n      prng = function() { return (xg.next() >>> 0) / 0x100000000; };\n  prng.double = function() {\n    do {\n      var top = xg.next() >>> 11,\n          bot = (xg.next() >>> 0) / 0x100000000,\n          result = (top + bot) / (1 << 21);\n    } while (result === 0);\n    return result;\n  };\n  prng.int32 = xg.next;\n  prng.quick = prng;\n  if (state) {\n    if (typeof(state) == 'object') copy(state, xg);\n    prng.state = function() { return copy(xg, {}); }\n  }\n  return prng;\n}\n\nif (module && module.exports) {\n  module.exports = impl;\n} else if (define && define.amd) {\n  define(function() { return impl; });\n} else {\n  this.xor128 = impl;\n}\n\n})(\n  this,\n  (typeof module) == 'object' && module,    // present in node.js\n  (typeof define) == 'function' && define   // present with an AMD loader\n);\n\n\n","// A Javascript implementaion of the \"xorwow\" prng algorithm by\n// George Marsaglia.  See http://www.jstatsoft.org/v08/i14/paper\n\n(function(global, module, define) {\n\nfunction XorGen(seed) {\n  var me = this, strseed = '';\n\n  // Set up generator function.\n  me.next = function() {\n    var t = (me.x ^ (me.x >>> 2));\n    me.x = me.y; me.y = me.z; me.z = me.w; me.w = me.v;\n    return (me.d = (me.d + 362437 | 0)) +\n       (me.v = (me.v ^ (me.v << 4)) ^ (t ^ (t << 1))) | 0;\n  };\n\n  me.x = 0;\n  me.y = 0;\n  me.z = 0;\n  me.w = 0;\n  me.v = 0;\n\n  if (seed === (seed | 0)) {\n    // Integer seed.\n    me.x = seed;\n  } else {\n    // String seed.\n    strseed += seed;\n  }\n\n  // Mix in string seed, then discard an initial batch of 64 values.\n  for (var k = 0; k < strseed.length + 64; k++) {\n    me.x ^= strseed.charCodeAt(k) | 0;\n    if (k == strseed.length) {\n      me.d = me.x << 10 ^ me.x >>> 4;\n    }\n    me.next();\n  }\n}\n\nfunction copy(f, t) {\n  t.x = f.x;\n  t.y = f.y;\n  t.z = f.z;\n  t.w = f.w;\n  t.v = f.v;\n  t.d = f.d;\n  return t;\n}\n\nfunction impl(seed, opts) {\n  var xg = new XorGen(seed),\n      state = opts && opts.state,\n      prng = function() { return (xg.next() >>> 0) / 0x100000000; };\n  prng.double = function() {\n    do {\n      var top = xg.next() >>> 11,\n          bot = (xg.next() >>> 0) / 0x100000000,\n          result = (top + bot) / (1 << 21);\n    } while (result === 0);\n    return result;\n  };\n  prng.int32 = xg.next;\n  prng.quick = prng;\n  if (state) {\n    if (typeof(state) == 'object') copy(state, xg);\n    prng.state = function() { return copy(xg, {}); }\n  }\n  return prng;\n}\n\nif (module && module.exports) {\n  module.exports = impl;\n} else if (define && define.amd) {\n  define(function() { return impl; });\n} else {\n  this.xorwow = impl;\n}\n\n})(\n  this,\n  (typeof module) == 'object' && module,    // present in node.js\n  (typeof define) == 'function' && define   // present with an AMD loader\n);\n\n\n","// A Javascript implementaion of the \"xorshift7\" algorithm by\n// Franois Panneton and Pierre L'ecuyer:\n// \"On the Xorgshift Random Number Generators\"\n// http://saluc.engr.uconn.edu/refs/crypto/rng/panneton05onthexorshift.pdf\n\n(function(global, module, define) {\n\nfunction XorGen(seed) {\n  var me = this;\n\n  // Set up generator function.\n  me.next = function() {\n    // Update xor generator.\n    var X = me.x, i = me.i, t, v, w;\n    t = X[i]; t ^= (t >>> 7); v = t ^ (t << 24);\n    t = X[(i + 1) & 7]; v ^= t ^ (t >>> 10);\n    t = X[(i + 3) & 7]; v ^= t ^ (t >>> 3);\n    t = X[(i + 4) & 7]; v ^= t ^ (t << 7);\n    t = X[(i + 7) & 7]; t = t ^ (t << 13); v ^= t ^ (t << 9);\n    X[i] = v;\n    me.i = (i + 1) & 7;\n    return v;\n  };\n\n  function init(me, seed) {\n    var j, w, X = [];\n\n    if (seed === (seed | 0)) {\n      // Seed state array using a 32-bit integer.\n      w = X[0] = seed;\n    } else {\n      // Seed state using a string.\n      seed = '' + seed;\n      for (j = 0; j < seed.length; ++j) {\n        X[j & 7] = (X[j & 7] << 15) ^\n            (seed.charCodeAt(j) + X[(j + 1) & 7] << 13);\n      }\n    }\n    // Enforce an array length of 8, not all zeroes.\n    while (X.length < 8) X.push(0);\n    for (j = 0; j < 8 && X[j] === 0; ++j);\n    if (j == 8) w = X[7] = -1; else w = X[j];\n\n    me.x = X;\n    me.i = 0;\n\n    // Discard an initial 256 values.\n    for (j = 256; j > 0; --j) {\n      me.next();\n    }\n  }\n\n  init(me, seed);\n}\n\nfunction copy(f, t) {\n  t.x = f.x.slice();\n  t.i = f.i;\n  return t;\n}\n\nfunction impl(seed, opts) {\n  if (seed == null) seed = +(new Date);\n  var xg = new XorGen(seed),\n      state = opts && opts.state,\n      prng = function() { return (xg.next() >>> 0) / 0x100000000; };\n  prng.double = function() {\n    do {\n      var top = xg.next() >>> 11,\n          bot = (xg.next() >>> 0) / 0x100000000,\n          result = (top + bot) / (1 << 21);\n    } while (result === 0);\n    return result;\n  };\n  prng.int32 = xg.next;\n  prng.quick = prng;\n  if (state) {\n    if (state.x) copy(state, xg);\n    prng.state = function() { return copy(xg, {}); }\n  }\n  return prng;\n}\n\nif (module && module.exports) {\n  module.exports = impl;\n} else if (define && define.amd) {\n  define(function() { return impl; });\n} else {\n  this.xorshift7 = impl;\n}\n\n})(\n  this,\n  (typeof module) == 'object' && module,    // present in node.js\n  (typeof define) == 'function' && define   // present with an AMD loader\n);\n\n","// A Javascript implementaion of Richard Brent's Xorgens xor4096 algorithm.\n//\n// This fast non-cryptographic random number generator is designed for\n// use in Monte-Carlo algorithms. It combines a long-period xorshift\n// generator with a Weyl generator, and it passes all common batteries\n// of stasticial tests for randomness while consuming only a few nanoseconds\n// for each prng generated.  For background on the generator, see Brent's\n// paper: \"Some long-period random number generators using shifts and xors.\"\n// http://arxiv.org/pdf/1004.3115v1.pdf\n//\n// Usage:\n//\n// var xor4096 = require('xor4096');\n// random = xor4096(1);                        // Seed with int32 or string.\n// assert.equal(random(), 0.1520436450538547); // (0, 1) range, 53 bits.\n// assert.equal(random.int32(), 1806534897);   // signed int32, 32 bits.\n//\n// For nonzero numeric keys, this impelementation provides a sequence\n// identical to that by Brent's xorgens 3 implementaion in C.  This\n// implementation also provides for initalizing the generator with\n// string seeds, or for saving and restoring the state of the generator.\n//\n// On Chrome, this prng benchmarks about 2.1 times slower than\n// Javascript's built-in Math.random().\n\n(function(global, module, define) {\n\nfunction XorGen(seed) {\n  var me = this;\n\n  // Set up generator function.\n  me.next = function() {\n    var w = me.w,\n        X = me.X, i = me.i, t, v;\n    // Update Weyl generator.\n    me.w = w = (w + 0x61c88647) | 0;\n    // Update xor generator.\n    v = X[(i + 34) & 127];\n    t = X[i = ((i + 1) & 127)];\n    v ^= v << 13;\n    t ^= t << 17;\n    v ^= v >>> 15;\n    t ^= t >>> 12;\n    // Update Xor generator array state.\n    v = X[i] = v ^ t;\n    me.i = i;\n    // Result is the combination.\n    return (v + (w ^ (w >>> 16))) | 0;\n  };\n\n  function init(me, seed) {\n    var t, v, i, j, w, X = [], limit = 128;\n    if (seed === (seed | 0)) {\n      // Numeric seeds initialize v, which is used to generates X.\n      v = seed;\n      seed = null;\n    } else {\n      // String seeds are mixed into v and X one character at a time.\n      seed = seed + '\\0';\n      v = 0;\n      limit = Math.max(limit, seed.length);\n    }\n    // Initialize circular array and weyl value.\n    for (i = 0, j = -32; j < limit; ++j) {\n      // Put the unicode characters into the array, and shuffle them.\n      if (seed) v ^= seed.charCodeAt((j + 32) % seed.length);\n      // After 32 shuffles, take v as the starting w value.\n      if (j === 0) w = v;\n      v ^= v << 10;\n      v ^= v >>> 15;\n      v ^= v << 4;\n      v ^= v >>> 13;\n      if (j >= 0) {\n        w = (w + 0x61c88647) | 0;     // Weyl.\n        t = (X[j & 127] ^= (v + w));  // Combine xor and weyl to init array.\n        i = (0 == t) ? i + 1 : 0;     // Count zeroes.\n      }\n    }\n    // We have detected all zeroes; make the key nonzero.\n    if (i >= 128) {\n      X[(seed && seed.length || 0) & 127] = -1;\n    }\n    // Run the generator 512 times to further mix the state before using it.\n    // Factoring this as a function slows the main generator, so it is just\n    // unrolled here.  The weyl generator is not advanced while warming up.\n    i = 127;\n    for (j = 4 * 128; j > 0; --j) {\n      v = X[(i + 34) & 127];\n      t = X[i = ((i + 1) & 127)];\n      v ^= v << 13;\n      t ^= t << 17;\n      v ^= v >>> 15;\n      t ^= t >>> 12;\n      X[i] = v ^ t;\n    }\n    // Storing state as object members is faster than using closure variables.\n    me.w = w;\n    me.X = X;\n    me.i = i;\n  }\n\n  init(me, seed);\n}\n\nfunction copy(f, t) {\n  t.i = f.i;\n  t.w = f.w;\n  t.X = f.X.slice();\n  return t;\n};\n\nfunction impl(seed, opts) {\n  if (seed == null) seed = +(new Date);\n  var xg = new XorGen(seed),\n      state = opts && opts.state,\n      prng = function() { return (xg.next() >>> 0) / 0x100000000; };\n  prng.double = function() {\n    do {\n      var top = xg.next() >>> 11,\n          bot = (xg.next() >>> 0) / 0x100000000,\n          result = (top + bot) / (1 << 21);\n    } while (result === 0);\n    return result;\n  };\n  prng.int32 = xg.next;\n  prng.quick = prng;\n  if (state) {\n    if (state.X) copy(state, xg);\n    prng.state = function() { return copy(xg, {}); }\n  }\n  return prng;\n}\n\nif (module && module.exports) {\n  module.exports = impl;\n} else if (define && define.amd) {\n  define(function() { return impl; });\n} else {\n  this.xor4096 = impl;\n}\n\n})(\n  this,                                     // window object or global\n  (typeof module) == 'object' && module,    // present in node.js\n  (typeof define) == 'function' && define   // present with an AMD loader\n);\n","// A Javascript implementaion of the \"Tyche-i\" prng algorithm by\n// Samuel Neves and Filipe Araujo.\n// See https://eden.dei.uc.pt/~sneves/pubs/2011-snfa2.pdf\n\n(function(global, module, define) {\n\nfunction XorGen(seed) {\n  var me = this, strseed = '';\n\n  // Set up generator function.\n  me.next = function() {\n    var b = me.b, c = me.c, d = me.d, a = me.a;\n    b = (b << 25) ^ (b >>> 7) ^ c;\n    c = (c - d) | 0;\n    d = (d << 24) ^ (d >>> 8) ^ a;\n    a = (a - b) | 0;\n    me.b = b = (b << 20) ^ (b >>> 12) ^ c;\n    me.c = c = (c - d) | 0;\n    me.d = (d << 16) ^ (c >>> 16) ^ a;\n    return me.a = (a - b) | 0;\n  };\n\n  /* The following is non-inverted tyche, which has better internal\n   * bit diffusion, but which is about 25% slower than tyche-i in JS.\n  me.next = function() {\n    var a = me.a, b = me.b, c = me.c, d = me.d;\n    a = (me.a + me.b | 0) >>> 0;\n    d = me.d ^ a; d = d << 16 ^ d >>> 16;\n    c = me.c + d | 0;\n    b = me.b ^ c; b = b << 12 ^ d >>> 20;\n    me.a = a = a + b | 0;\n    d = d ^ a; me.d = d = d << 8 ^ d >>> 24;\n    me.c = c = c + d | 0;\n    b = b ^ c;\n    return me.b = (b << 7 ^ b >>> 25);\n  }\n  */\n\n  me.a = 0;\n  me.b = 0;\n  me.c = 2654435769 | 0;\n  me.d = 1367130551;\n\n  if (seed === Math.floor(seed)) {\n    // Integer seed.\n    me.a = (seed / 0x100000000) | 0;\n    me.b = seed | 0;\n  } else {\n    // String seed.\n    strseed += seed;\n  }\n\n  // Mix in string seed, then discard an initial batch of 64 values.\n  for (var k = 0; k < strseed.length + 20; k++) {\n    me.b ^= strseed.charCodeAt(k) | 0;\n    me.next();\n  }\n}\n\nfunction copy(f, t) {\n  t.a = f.a;\n  t.b = f.b;\n  t.c = f.c;\n  t.d = f.d;\n  return t;\n};\n\nfunction impl(seed, opts) {\n  var xg = new XorGen(seed),\n      state = opts && opts.state,\n      prng = function() { return (xg.next() >>> 0) / 0x100000000; };\n  prng.double = function() {\n    do {\n      var top = xg.next() >>> 11,\n          bot = (xg.next() >>> 0) / 0x100000000,\n          result = (top + bot) / (1 << 21);\n    } while (result === 0);\n    return result;\n  };\n  prng.int32 = xg.next;\n  prng.quick = prng;\n  if (state) {\n    if (typeof(state) == 'object') copy(state, xg);\n    prng.state = function() { return copy(xg, {}); }\n  }\n  return prng;\n}\n\nif (module && module.exports) {\n  module.exports = impl;\n} else if (define && define.amd) {\n  define(function() { return impl; });\n} else {\n  this.tychei = impl;\n}\n\n})(\n  this,\n  (typeof module) == 'object' && module,    // present in node.js\n  (typeof define) == 'function' && define   // present with an AMD loader\n);\n\n\n","/*\nCopyright 2014 David Bau.\n\nPermission is hereby granted, free of charge, to any person obtaining\na copy of this software and associated documentation files (the\n\"Software\"), to deal in the Software without restriction, including\nwithout limitation the rights to use, copy, modify, merge, publish,\ndistribute, sublicense, and/or sell copies of the Software, and to\npermit persons to whom the Software is furnished to do so, subject to\nthe following conditions:\n\nThe above copyright notice and this permission notice shall be\nincluded in all copies or substantial portions of the Software.\n\nTHE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND,\nEXPRESS OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF\nMERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT.\nIN NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY\nCLAIM, DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION OF CONTRACT,\nTORT OR OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION WITH THE\nSOFTWARE OR THE USE OR OTHER DEALINGS IN THE SOFTWARE.\n\n*/\n\n(function (pool, math) {\n//\n// The following constants are related to IEEE 754 limits.\n//\nvar global = this,\n    width = 256,        // each RC4 output is 0 <= x < 256\n    chunks = 6,         // at least six RC4 outputs for each double\n    digits = 52,        // there are 52 significant digits in a double\n    rngname = 'random', // rngname: name for Math.random and Math.seedrandom\n    startdenom = math.pow(width, chunks),\n    significance = math.pow(2, digits),\n    overflow = significance * 2,\n    mask = width - 1,\n    nodecrypto;         // node.js crypto module, initialized at the bottom.\n\n//\n// seedrandom()\n// This is the seedrandom function described above.\n//\nfunction seedrandom(seed, options, callback) {\n  var key = [];\n  options = (options == true) ? { entropy: true } : (options || {});\n\n  // Flatten the seed string or build one from local entropy if needed.\n  var shortseed = mixkey(flatten(\n    options.entropy ? [seed, tostring(pool)] :\n    (seed == null) ? autoseed() : seed, 3), key);\n\n  // Use the seed to initialize an ARC4 generator.\n  var arc4 = new ARC4(key);\n\n  // This function returns a random double in [0, 1) that contains\n  // randomness in every bit of the mantissa of the IEEE 754 value.\n  var prng = function() {\n    var n = arc4.g(chunks),             // Start with a numerator n < 2 ^ 48\n        d = startdenom,                 //   and denominator d = 2 ^ 48.\n        x = 0;                          //   and no 'extra last byte'.\n    while (n < significance) {          // Fill up all significant digits by\n      n = (n + x) * width;              //   shifting numerator and\n      d *= width;                       //   denominator and generating a\n      x = arc4.g(1);                    //   new least-significant-byte.\n    }\n    while (n >= overflow) {             // To avoid rounding up, before adding\n      n /= 2;                           //   last byte, shift everything\n      d /= 2;                           //   right using integer math until\n      x >>>= 1;                         //   we have exactly the desired bits.\n    }\n    return (n + x) / d;                 // Form the number within [0, 1).\n  };\n\n  prng.int32 = function() { return arc4.g(4) | 0; }\n  prng.quick = function() { return arc4.g(4) / 0x100000000; }\n  prng.double = prng;\n\n  // Mix the randomness into accumulated entropy.\n  mixkey(tostring(arc4.S), pool);\n\n  // Calling convention: what to return as a function of prng, seed, is_math.\n  return (options.pass || callback ||\n      function(prng, seed, is_math_call, state) {\n        if (state) {\n          // Load the arc4 state from the given state if it has an S array.\n          if (state.S) { copy(state, arc4); }\n          // Only provide the .state method if requested via options.state.\n          prng.state = function() { return copy(arc4, {}); }\n        }\n\n        // If called as a method of Math (Math.seedrandom()), mutate\n        // Math.random because that is how seedrandom.js has worked since v1.0.\n        if (is_math_call) { math[rngname] = prng; return seed; }\n\n        // Otherwise, it is a newer calling convention, so return the\n        // prng directly.\n        else return prng;\n      })(\n  prng,\n  shortseed,\n  'global' in options ? options.global : (this == math),\n  options.state);\n}\nmath['seed' + rngname] = seedrandom;\n\n//\n// ARC4\n//\n// An ARC4 implementation.  The constructor takes a key in the form of\n// an array of at most (width) integers that should be 0 <= x < (width).\n//\n// The g(count) method returns a pseudorandom integer that concatenates\n// the next (count) outputs from ARC4.  Its return value is a number x\n// that is in the range 0 <= x < (width ^ count).\n//\nfunction ARC4(key) {\n  var t, keylen = key.length,\n      me = this, i = 0, j = me.i = me.j = 0, s = me.S = [];\n\n  // The empty key [] is treated as [0].\n  if (!keylen) { key = [keylen++]; }\n\n  // Set up S using the standard key scheduling algorithm.\n  while (i < width) {\n    s[i] = i++;\n  }\n  for (i = 0; i < width; i++) {\n    s[i] = s[j = mask & (j + key[i % keylen] + (t = s[i]))];\n    s[j] = t;\n  }\n\n  // The \"g\" method returns the next (count) outputs as one number.\n  (me.g = function(count) {\n    // Using instance members instead of closure state nearly doubles speed.\n    var t, r = 0,\n        i = me.i, j = me.j, s = me.S;\n    while (count--) {\n      t = s[i = mask & (i + 1)];\n      r = r * width + s[mask & ((s[i] = s[j = mask & (j + t)]) + (s[j] = t))];\n    }\n    me.i = i; me.j = j;\n    return r;\n    // For robust unpredictability, the function call below automatically\n    // discards an initial batch of values.  This is called RC4-drop[256].\n    // See http://google.com/search?q=rsa+fluhrer+response&btnI\n  })(width);\n}\n\n//\n// copy()\n// Copies internal state of ARC4 to or from a plain object.\n//\nfunction copy(f, t) {\n  t.i = f.i;\n  t.j = f.j;\n  t.S = f.S.slice();\n  return t;\n};\n\n//\n// flatten()\n// Converts an object tree to nested arrays of strings.\n//\nfunction flatten(obj, depth) {\n  var result = [], typ = (typeof obj), prop;\n  if (depth && typ == 'object') {\n    for (prop in obj) {\n      try { result.push(flatten(obj[prop], depth - 1)); } catch (e) {}\n    }\n  }\n  return (result.length ? result : typ == 'string' ? obj : obj + '\\0');\n}\n\n//\n// mixkey()\n// Mixes a string seed into a key that is an array of integers, and\n// returns a shortened string seed that is equivalent to the result key.\n//\nfunction mixkey(seed, key) {\n  var stringseed = seed + '', smear, j = 0;\n  while (j < stringseed.length) {\n    key[mask & j] =\n      mask & ((smear ^= key[mask & j] * 19) + stringseed.charCodeAt(j++));\n  }\n  return tostring(key);\n}\n\n//\n// autoseed()\n// Returns an object for autoseeding, using window.crypto and Node crypto\n// module if available.\n//\nfunction autoseed() {\n  try {\n    var out;\n    if (nodecrypto && (out = nodecrypto.randomBytes)) {\n      // The use of 'out' to remember randomBytes makes tight minified code.\n      out = out(width);\n    } else {\n      out = new Uint8Array(width);\n      (global.crypto || global.msCrypto).getRandomValues(out);\n    }\n    return tostring(out);\n  } catch (e) {\n    var browser = global.navigator,\n        plugins = browser && browser.plugins;\n    return [+new Date, global, plugins, global.screen, tostring(pool)];\n  }\n}\n\n//\n// tostring()\n// Converts an array of charcodes to a string\n//\nfunction tostring(a) {\n  return String.fromCharCode.apply(0, a);\n}\n\n//\n// When seedrandom.js is loaded, we immediately mix a few bits\n// from the built-in RNG into the entropy pool.  Because we do\n// not want to interfere with deterministic PRNG state later,\n// seedrandom will not call math.random on its own again after\n// initialization.\n//\nmixkey(math.random(), pool);\n\n//\n// Nodejs and AMD support: export the implementation as a module using\n// either convention.\n//\nif ((typeof module) == 'object' && module.exports) {\n  module.exports = seedrandom;\n  // When in node.js, try using crypto package for autoseeding.\n  try {\n    nodecrypto = require('crypto');\n  } catch (ex) {}\n} else if ((typeof define) == 'function' && define.amd) {\n  define(function() { return seedrandom; });\n}\n\n// End anonymous scope, and pass initial values.\n})(\n  [],     // pool: entropy pool starts empty\n  Math    // math: package containing random, pow, and seedrandom\n);\n","// A library of seedable RNGs implemented in Javascript.\n//\n// Usage:\n//\n// var seedrandom = require('seedrandom');\n// var random = seedrandom(1); // or any seed.\n// var x = random();       // 0 <= x < 1.  Every bit is random.\n// var x = random.quick(); // 0 <= x < 1.  32 bits of randomness.\n\n// alea, a 53-bit multiply-with-carry generator by Johannes Baage.\n// Period: ~2^116\n// Reported to pass all BigCrush tests.\nvar alea = require('./lib/alea');\n\n// xor128, a pure xor-shift generator by George Marsaglia.\n// Period: 2^128-1.\n// Reported to fail: MatrixRank and LinearComp.\nvar xor128 = require('./lib/xor128');\n\n// xorwow, George Marsaglia's 160-bit xor-shift combined plus weyl.\n// Period: 2^192-2^32\n// Reported to fail: CollisionOver, SimpPoker, and LinearComp.\nvar xorwow = require('./lib/xorwow');\n\n// xorshift7, by Franois Panneton and Pierre L'ecuyer, takes\n// a different approach: it adds robustness by allowing more shifts\n// than Marsaglia's original three.  It is a 7-shift generator\n// with 256 bits, that passes BigCrush with no systmatic failures.\n// Period 2^256-1.\n// No systematic BigCrush failures reported.\nvar xorshift7 = require('./lib/xorshift7');\n\n// xor4096, by Richard Brent, is a 4096-bit xor-shift with a\n// very long period that also adds a Weyl generator. It also passes\n// BigCrush with no systematic failures.  Its long period may\n// be useful if you have many generators and need to avoid\n// collisions.\n// Period: 2^4128-2^32.\n// No systematic BigCrush failures reported.\nvar xor4096 = require('./lib/xor4096');\n\n// Tyche-i, by Samuel Neves and Filipe Araujo, is a bit-shifting random\n// number generator derived from ChaCha, a modern stream cipher.\n// https://eden.dei.uc.pt/~sneves/pubs/2011-snfa2.pdf\n// Period: ~2^127\n// No systematic BigCrush failures reported.\nvar tychei = require('./lib/tychei');\n\n// The original ARC4-based prng included in this library.\n// Period: ~2^1600\nvar sr = require('./seedrandom');\n\nsr.alea = alea;\nsr.xor128 = xor128;\nsr.xorwow = xorwow;\nsr.xorshift7 = xorshift7;\nsr.xor4096 = xor4096;\nsr.tychei = tychei;\n\nmodule.exports = sr;\n","import * as seedrandom from 'seedrandom';\nvar MPRandGauss = (function () {\n    function MPRandGauss(mean, stdDeviation, dtype, truncated, seed) {\n        this.mean = mean;\n        this.stdDev = stdDeviation;\n        this.dtype = dtype;\n        this.nextVal = NaN;\n        this.truncated = truncated;\n        if (this.truncated) {\n            this.upper = this.mean + this.stdDev * 2;\n            this.lower = this.mean - this.stdDev * 2;\n        }\n        var seedValue = seed ? seed : Math.random();\n        this.random = seedrandom.alea(seedValue.toString());\n    }\n    MPRandGauss.prototype.nextValue = function () {\n        if (!isNaN(this.nextVal)) {\n            var value = this.nextVal;\n            this.nextVal = NaN;\n            return value;\n        }\n        var resultX, resultY;\n        var isValid = false;\n        while (!isValid) {\n            var v1 = void 0, v2 = void 0, s = void 0;\n            do {\n                v1 = 2 * this.random() - 1;\n                v2 = 2 * this.random() - 1;\n                s = v1 * v1 + v2 * v2;\n            } while (s >= 1 || s === 0);\n            var mul = Math.sqrt(-2.0 * Math.log(s) / s);\n            resultX = this.mean + this.stdDev * v1 * mul;\n            resultY = this.mean + this.stdDev * v2 * mul;\n            if (!this.truncated || this.isValidTruncated(resultX)) {\n                isValid = true;\n            }\n        }\n        if (!this.truncated || this.isValidTruncated(resultY)) {\n            this.nextVal = this.convertValue(resultY);\n        }\n        return this.convertValue(resultX);\n    };\n    MPRandGauss.prototype.convertValue = function (value) {\n        if (this.dtype == null || this.dtype === 'float32') {\n            return value;\n        }\n        return Math.round(value);\n    };\n    MPRandGauss.prototype.isValidTruncated = function (value) {\n        return value <= this.upper && value >= this.lower;\n    };\n    return MPRandGauss;\n}());\nexport { MPRandGauss };\n//# sourceMappingURL=rand.js.map","var __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\n};\nimport { doc } from '../doc';\nimport { ENV } from '../environment';\nimport { customGrad } from '../globals';\nimport * as util from '../util';\nimport * as axis_util from './axis_util';\nimport { operation } from './operation';\nimport * as ops from './ops';\nvar ReductionOps = (function () {\n    function ReductionOps() {\n    }\n    ReductionOps.logSumExp = function (x, axis, keepDims) {\n        if (axis === void 0) { axis = null; }\n        if (keepDims === void 0) { keepDims = false; }\n        util.assertArgumentsAreTensors({ x: x }, 'logSumExp');\n        var axes = axis_util.parseAxisParam(axis, x.shape);\n        var xMax = x.max(axes, true);\n        var a = x.sub(xMax);\n        var b = a.exp();\n        var c = b.sum(axes);\n        var d = c.log();\n        var res = xMax.reshape(d.shape).add(d);\n        if (keepDims) {\n            var newShape = axis_util.expandShapeToKeepDim(res.shape, axes);\n            return res.reshape(newShape);\n        }\n        return res;\n    };\n    ReductionOps.sum = function (x, axis, keepDims) {\n        if (axis === void 0) { axis = null; }\n        if (keepDims === void 0) { keepDims = false; }\n        util.assertArgumentsAreTensors({ x: x }, 'sum');\n        if (x.dtype === 'bool') {\n            x = x.toInt();\n        }\n        var axes = axis_util.parseAxisParam(axis, x.shape);\n        var customOp = customGrad(function (x) {\n            var permutation = axis_util.getAxesPermutation(axes, x.rank);\n            var reductionAxes = axes;\n            var permutedX = x;\n            if (permutation != null) {\n                permutedX = x.transpose(permutation);\n                reductionAxes =\n                    axis_util.getInnerMostAxes(reductionAxes.length, x.rank);\n            }\n            var value = ENV.engine.runKernel(function (backend) { return backend.sum(permutedX, reductionAxes); }, { permutedX: permutedX });\n            if (keepDims) {\n                var newShape = axis_util.expandShapeToKeepDim(value.shape, axes);\n                value = value.reshape(newShape);\n            }\n            var gradFunc = function (dy) {\n                var expandedDyShape = x.shape.slice();\n                axes.forEach(function (axis) {\n                    expandedDyShape[axis] = 1;\n                });\n                var expandedDy = dy.reshape(expandedDyShape);\n                var derX = expandedDy.mul(ops.ones(x.shape, 'float32'));\n                return derX;\n            };\n            return { value: value, gradFunc: gradFunc };\n        });\n        return customOp(x);\n    };\n    ReductionOps.mean = function (x, axis, keepDims) {\n        if (axis === void 0) { axis = null; }\n        if (keepDims === void 0) { keepDims = false; }\n        util.assertArgumentsAreTensors({ x: x }, 'mean');\n        var axes = axis_util.parseAxisParam(axis, x.shape);\n        var shapes = axis_util.computeOutAndReduceShapes(x.shape, axes);\n        var reduceShape = shapes[1];\n        var reduceSize = util.sizeFromShape(reduceShape);\n        var customOp = customGrad(function (x) {\n            var reduceSizeScalar = ops.scalar(reduceSize);\n            var xReduce = reduceSizeScalar.dtype === x.dtype ?\n                x :\n                x.cast(reduceSizeScalar.dtype);\n            var res = xReduce.div(reduceSizeScalar);\n            var value = res.sum(axis, keepDims);\n            var gradFunc = function (dy) {\n                var expandedDyShape = x.shape.slice();\n                axes.forEach(function (axis) {\n                    expandedDyShape[axis] = 1;\n                });\n                var expandedDy = dy.reshape(expandedDyShape);\n                var derX = expandedDy.mul(ops.ones(x.shape, 'float32')).div(reduceSizeScalar);\n                return derX;\n            };\n            return { value: value, gradFunc: gradFunc };\n        });\n        return customOp(x);\n    };\n    ReductionOps.min = function (x, axis, keepDims) {\n        if (axis === void 0) { axis = null; }\n        if (keepDims === void 0) { keepDims = false; }\n        util.assertArgumentsAreTensors({ x: x }, 'min');\n        var origAxes = axis_util.parseAxisParam(axis, x.shape);\n        var axes = origAxes;\n        var permutedAxes = axis_util.getAxesPermutation(axes, x.rank);\n        if (permutedAxes != null) {\n            x = x.transpose(permutedAxes);\n            axes = axis_util.getInnerMostAxes(axes.length, x.rank);\n        }\n        var res = ENV.engine.runKernel(function (backend) { return backend.min(x, axes); }, { x: x });\n        if (keepDims) {\n            var newShape = axis_util.expandShapeToKeepDim(res.shape, origAxes);\n            return res.reshape(newShape);\n        }\n        return res;\n    };\n    ReductionOps.max = function (x, axis, keepDims) {\n        if (axis === void 0) { axis = null; }\n        if (keepDims === void 0) { keepDims = false; }\n        util.assertArgumentsAreTensors({ x: x }, 'max');\n        var origAxes = axis_util.parseAxisParam(axis, x.shape);\n        var axes = origAxes;\n        var permutedAxes = axis_util.getAxesPermutation(axes, x.rank);\n        if (permutedAxes != null) {\n            x = x.transpose(permutedAxes);\n            axes = axis_util.getInnerMostAxes(axes.length, x.rank);\n        }\n        var res = ENV.engine.runKernel(function (backend) { return backend.max(x, axes); }, { x: x });\n        if (keepDims) {\n            var newShape = axis_util.expandShapeToKeepDim(res.shape, origAxes);\n            return res.reshape(newShape);\n        }\n        return res;\n    };\n    ReductionOps.argMin = function (x, axis) {\n        if (axis === void 0) { axis = 0; }\n        util.assertArgumentsAreTensors({ x: x }, 'argMin');\n        if (axis == null) {\n            axis = 0;\n        }\n        var axes = axis_util.parseAxisParam(axis, x.shape);\n        var permutedAxes = axis_util.getAxesPermutation(axes, x.rank);\n        if (permutedAxes != null) {\n            x = x.transpose(permutedAxes);\n            axes = axis_util.getInnerMostAxes(axes.length, x.rank);\n        }\n        return ENV.engine.runKernel(function (backend) { return backend.argMin(x, axes[0]); }, { x: x });\n    };\n    ReductionOps.argMax = function (x, axis) {\n        if (axis === void 0) { axis = 0; }\n        util.assertArgumentsAreTensors({ x: x }, 'argMax');\n        if (axis == null) {\n            axis = 0;\n        }\n        var axes = axis_util.parseAxisParam(axis, x.shape);\n        var permutedAxes = axis_util.getAxesPermutation(axes, x.rank);\n        if (permutedAxes != null) {\n            x = x.transpose(permutedAxes);\n            axes = axis_util.getInnerMostAxes(axes.length, x.rank);\n        }\n        return ENV.engine.runKernel(function (backend) { return backend.argMax(x, axes[0]); }, { x: x });\n    };\n    ReductionOps.moments = function (x, axis, keepDims) {\n        if (axis === void 0) { axis = null; }\n        if (keepDims === void 0) { keepDims = false; }\n        util.assertArgumentsAreTensors({ x: x }, 'moments');\n        var axes = axis_util.parseAxisParam(axis, x.shape);\n        var mean = x.mean(axes, keepDims);\n        var keepDimsShape = mean.shape;\n        if (!keepDims) {\n            keepDimsShape = axis_util.expandShapeToKeepDim(mean.shape, axes);\n        }\n        var devSquared = x.toFloat().sub(mean.reshape(keepDimsShape)).square();\n        var variance = devSquared.mean(axes, keepDims);\n        return { mean: mean, variance: variance };\n    };\n    ReductionOps.unsortedSegmentSum = function (x, segmentIds, numSegments, axis) {\n        if (axis === void 0) { axis = 0; }\n        util.assertArgumentsAreTensors({ x: x, segmentIds: segmentIds }, 'unsortedSegmentSum');\n        util.assert(segmentIds.dtype === 'int32', 'Segment Ids must be of dtype `int32`');\n        axis = axis_util.parseAxisParam(axis, x.shape)[0];\n        var res = [];\n        var dim = segmentIds.shape[0];\n        var newShape = [];\n        for (var i = 0; i < x.shape.length; i++) {\n            if (i === axis) {\n                newShape.push(dim);\n            }\n            else {\n                newShape.push(1);\n            }\n        }\n        var reshapedSegmentIds = ops.reshape(segmentIds, newShape);\n        for (var i = 0; i < numSegments; i++) {\n            var segmentId = ops.scalar(i, 'int32');\n            var mask = ops.equal(segmentId, reshapedSegmentIds).asType('float32');\n            var sum = mask.mul(x).sum(axis);\n            res.push(sum);\n        }\n        return ops.stack(res, axis);\n    };\n    __decorate([\n        doc({ heading: 'Operations', subheading: 'Reduction' }),\n        operation\n    ], ReductionOps, \"logSumExp\", null);\n    __decorate([\n        doc({ heading: 'Operations', subheading: 'Reduction' }),\n        operation\n    ], ReductionOps, \"sum\", null);\n    __decorate([\n        doc({ heading: 'Operations', subheading: 'Reduction' }),\n        operation\n    ], ReductionOps, \"mean\", null);\n    __decorate([\n        doc({ heading: 'Operations', subheading: 'Reduction' }),\n        operation\n    ], ReductionOps, \"min\", null);\n    __decorate([\n        doc({ heading: 'Operations', subheading: 'Reduction' }),\n        operation\n    ], ReductionOps, \"max\", null);\n    __decorate([\n        doc({ heading: 'Operations', subheading: 'Reduction' }),\n        operation\n    ], ReductionOps, \"argMin\", null);\n    __decorate([\n        doc({ heading: 'Operations', subheading: 'Reduction' }),\n        operation\n    ], ReductionOps, \"argMax\", null);\n    __decorate([\n        doc({ heading: 'Operations', subheading: 'Normalization' }),\n        operation\n    ], ReductionOps, \"moments\", null);\n    __decorate([\n        doc({ heading: 'Operations', subheading: 'Reduction' }),\n        operation\n    ], ReductionOps, \"unsortedSegmentSum\", null);\n    return ReductionOps;\n}());\nexport { ReductionOps };\n//# sourceMappingURL=reduction_ops.js.map","var __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\n};\nvar __awaiter = (this && this.__awaiter) || function (thisArg, _arguments, P, generator) {\n    return new (P || (P = Promise))(function (resolve, reject) {\n        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\n        function rejected(value) { try { step(generator[\"throw\"](value)); } catch (e) { reject(e); } }\n        function step(result) { result.done ? resolve(result.value) : new P(function (resolve) { resolve(result.value); }).then(fulfilled, rejected); }\n        step((generator = generator.apply(thisArg, _arguments || [])).next());\n    });\n};\nvar __generator = (this && this.__generator) || function (thisArg, body) {\n    var _ = { label: 0, sent: function() { if (t[0] & 1) throw t[1]; return t[1]; }, trys: [], ops: [] }, f, y, t, g;\n    return g = { next: verb(0), \"throw\": verb(1), \"return\": verb(2) }, typeof Symbol === \"function\" && (g[Symbol.iterator] = function() { return this; }), g;\n    function verb(n) { return function (v) { return step([n, v]); }; }\n    function step(op) {\n        if (f) throw new TypeError(\"Generator is already executing.\");\n        while (_) try {\n            if (f = 1, y && (t = y[op[0] & 2 ? \"return\" : op[0] ? \"throw\" : \"next\"]) && !(t = t.call(y, op[1])).done) return t;\n            if (y = 0, t) op = [0, t.value];\n            switch (op[0]) {\n                case 0: case 1: t = op; break;\n                case 4: _.label++; return { value: op[1], done: false };\n                case 5: _.label++; y = op[1]; op = [0]; continue;\n                case 7: op = _.ops.pop(); _.trys.pop(); continue;\n                default:\n                    if (!(t = _.trys, t = t.length > 0 && t[t.length - 1]) && (op[0] === 6 || op[0] === 2)) { _ = 0; continue; }\n                    if (op[0] === 3 && (!t || (op[1] > t[0] && op[1] < t[3]))) { _.label = op[1]; break; }\n                    if (op[0] === 6 && _.label < t[1]) { _.label = t[1]; t = op; break; }\n                    if (t && _.label < t[2]) { _.label = t[2]; _.ops.push(op); break; }\n                    if (t[2]) _.ops.pop();\n                    _.trys.pop(); continue;\n            }\n            op = body.call(thisArg, _);\n        } catch (e) { op = [6, e]; y = 0; } finally { f = t = 0; }\n        if (op[0] & 5) throw op[1]; return { value: op[0] ? op[1] : void 0, done: true };\n    }\n};\nimport { doc } from '../doc';\nimport { ENV } from '../environment';\nimport { Tensor, TensorBuffer } from '../tensor';\nimport * as tensor_util from '../tensor_util';\nimport * as util from '../util';\nimport { getAxesPermutation, parseAxisParam } from './axis_util';\nimport { ConcatOps } from './concat';\nimport { operation } from './operation';\nimport { MPRandGauss } from './rand';\nimport { ReductionOps } from './reduction_ops';\nvar ArrayOps = (function () {\n    function ArrayOps() {\n    }\n    ArrayOps.tensor = function (values, shape, dtype) {\n        if (dtype === void 0) { dtype = 'float32'; }\n        var inferredShape = util.inferShape(values);\n        if (shape != null && inferredShape.length !== 1) {\n            util.assertShapesMatch(shape, inferredShape, \"Error creating a new Tensor. \" +\n                (\"Inferred shape (\" + inferredShape + \") does not match the \") +\n                (\"provided shape (\" + shape + \"). \"));\n        }\n        if (!util.isTypedArray(values) && !Array.isArray(values)) {\n            values = [values];\n        }\n        shape = shape || inferredShape;\n        return Tensor.make(shape, { values: toTypedArray(values, dtype) }, dtype);\n    };\n    ArrayOps.scalar = function (value, dtype) {\n        if (dtype === void 0) { dtype = 'float32'; }\n        if (util.isTypedArray(value) || Array.isArray(value)) {\n            throw new Error('Error creating a new Scalar: value must be a primitive ' +\n                '(number|boolean)');\n        }\n        return ArrayOps.tensor(value, [], dtype);\n    };\n    ArrayOps.tensor1d = function (values, dtype) {\n        if (dtype === void 0) { dtype = 'float32'; }\n        var inferredShape = util.inferShape(values);\n        if (inferredShape.length !== 1) {\n            throw new Error('tensor1d() requires values to be a flat/TypedArray');\n        }\n        return ArrayOps.tensor(values, inferredShape, dtype);\n    };\n    ArrayOps.tensor2d = function (values, shape, dtype) {\n        if (dtype === void 0) { dtype = 'float32'; }\n        if (shape != null && shape.length !== 2) {\n            throw new Error('tensor2d() requires shape to have two numbers');\n        }\n        var inferredShape = util.inferShape(values);\n        if (inferredShape.length !== 2 && inferredShape.length !== 1) {\n            throw new Error('tensor2d() requires values to be number[][] or flat/TypedArray');\n        }\n        if (inferredShape.length === 1 && shape == null) {\n            throw new Error('tensor2d() requires shape to be provided when `values` ' +\n                'are a flat/TypedArray');\n        }\n        shape = shape || inferredShape;\n        return ArrayOps.tensor(values, shape, dtype);\n    };\n    ArrayOps.tensor3d = function (values, shape, dtype) {\n        if (dtype === void 0) { dtype = 'float32'; }\n        if (shape != null && shape.length !== 3) {\n            throw new Error('tensor3d() requires shape to have three numbers');\n        }\n        var inferredShape = util.inferShape(values);\n        if (inferredShape.length !== 3 && inferredShape.length !== 1) {\n            throw new Error('tensor3d() requires values to be number[][][] or flat/TypedArray');\n        }\n        if (inferredShape.length === 1 && shape == null) {\n            throw new Error('tensor3d() requires shape to be provided when `values` ' +\n                'are a flat array');\n        }\n        shape = shape || inferredShape;\n        return ArrayOps.tensor(values, shape, dtype);\n    };\n    ArrayOps.tensor4d = function (values, shape, dtype) {\n        if (dtype === void 0) { dtype = 'float32'; }\n        if (shape != null && shape.length !== 4) {\n            throw new Error('tensor4d() requires shape to have four numbers');\n        }\n        var inferredShape = util.inferShape(values);\n        if (inferredShape.length !== 4 && inferredShape.length !== 1) {\n            throw new Error('tensor4d() requires values to be number[][][][] or flat/TypedArray');\n        }\n        if (inferredShape.length === 1 && shape == null) {\n            throw new Error('tensor4d() requires shape to be provided when `values` ' +\n                'are a flat array');\n        }\n        shape = shape || inferredShape;\n        return ArrayOps.tensor(values, shape, dtype);\n    };\n    ArrayOps.ones = function (shape, dtype) {\n        if (dtype === void 0) { dtype = 'float32'; }\n        var values = makeOnesTypedArray(util.sizeFromShape(shape), dtype);\n        return Tensor.make(shape, { values: values }, dtype);\n    };\n    ArrayOps.zeros = function (shape, dtype) {\n        if (dtype === void 0) { dtype = 'float32'; }\n        var values = makeZerosTypedArray(util.sizeFromShape(shape), dtype);\n        return Tensor.make(shape, { values: values }, dtype);\n    };\n    ArrayOps.fill = function (shape, value, dtype) {\n        if (dtype === void 0) { dtype = 'float32'; }\n        var values = util.getTypedArrayFromDType(dtype, util.sizeFromShape(shape));\n        values.fill(value);\n        return Tensor.make(shape, { values: values }, dtype);\n    };\n    ArrayOps.onesLike = function (x) {\n        util.assertArgumentsAreTensors({ x: x }, 'onesLike');\n        return ArrayOps.ones(x.shape, x.dtype);\n    };\n    ArrayOps.zerosLike = function (x) {\n        util.assertArgumentsAreTensors({ x: x }, 'zerosLike');\n        return ArrayOps.zeros(x.shape, x.dtype);\n    };\n    ArrayOps.clone = function (x) {\n        util.assertArgumentsAreTensors({ x: x }, 'clone');\n        var der = function (dy) {\n            return { x: function () { return dy.toFloat(); } };\n        };\n        return ENV.engine.runKernel(function (backend) {\n            return Tensor.make(x.shape, { dataId: x.dataId }, x.dtype);\n        }, { x: x }, der);\n    };\n    ArrayOps.eye = function (numRows, numColumns, batchShape, dtype) {\n        if (dtype === void 0) { dtype = 'float32'; }\n        if (numColumns == null) {\n            numColumns = numRows;\n        }\n        var buffer = ArrayOps.buffer([numRows, numColumns], dtype);\n        var n = numRows <= numColumns ? numRows : numColumns;\n        for (var i = 0; i < n; ++i) {\n            buffer.set(1, i, i);\n        }\n        var out = buffer.toTensor().as2D(numRows, numColumns);\n        if (batchShape == null) {\n            return out;\n        }\n        else {\n            if (batchShape.length === 1) {\n                return ArrayOps.tile(ArrayOps.expandDims(out, 0), [batchShape[0], 1, 1]);\n            }\n            else if (batchShape.length === 2) {\n                return ArrayOps.tile(ArrayOps.expandDims(ArrayOps.expandDims(out, 0), 0), [batchShape[0], batchShape[1], 1, 1]);\n            }\n            else {\n                throw new Error(\"eye() currently supports only 1D and 2D \" +\n                    (\"batchShapes, but received \" + batchShape.length + \"D.\"));\n            }\n        }\n    };\n    ArrayOps.randomNormal = function (shape, mean, stdDev, dtype, seed) {\n        if (mean === void 0) { mean = 0; }\n        if (stdDev === void 0) { stdDev = 1; }\n        if (dtype != null && dtype === 'bool') {\n            throw new Error(\"Unsupported data type \" + dtype);\n        }\n        var randGauss = new MPRandGauss(mean, stdDev, dtype, false, seed);\n        var res = ArrayOps.buffer(shape, dtype);\n        for (var i = 0; i < res.values.length; i++) {\n            res.values[i] = randGauss.nextValue();\n        }\n        return res.toTensor();\n    };\n    ArrayOps.truncatedNormal = function (shape, mean, stdDev, dtype, seed) {\n        if (mean === void 0) { mean = 0; }\n        if (stdDev === void 0) { stdDev = 1; }\n        if (dtype != null && dtype === 'bool') {\n            throw new Error(\"Unsupported data type \" + dtype);\n        }\n        var randGauss = new MPRandGauss(mean, stdDev, dtype, true, seed);\n        var res = ArrayOps.buffer(shape, dtype);\n        for (var i = 0; i < res.values.length; i++) {\n            res.values[i] = randGauss.nextValue();\n        }\n        return res.toTensor();\n    };\n    ArrayOps.randomUniform = function (shape, minval, maxval, dtype) {\n        if (minval === void 0) { minval = 0; }\n        if (maxval === void 0) { maxval = 1; }\n        if (dtype === void 0) { dtype = 'float32'; }\n        var res = ArrayOps.buffer(shape, dtype);\n        for (var i = 0; i < res.values.length; i++) {\n            res.values[i] = util.randUniform(minval, maxval);\n        }\n        return res.toTensor();\n    };\n    ArrayOps.rand = function (shape, randFunction, dtype) {\n        var size = util.sizeFromShape(shape);\n        var values = null;\n        if (dtype == null || dtype === 'float32') {\n            values = new Float32Array(size);\n        }\n        else if (dtype === 'int32') {\n            values = new Int32Array(size);\n        }\n        else if (dtype === 'bool') {\n            values = new Uint8Array(size);\n        }\n        else {\n            throw new Error(\"Unknown data type \" + dtype);\n        }\n        for (var i = 0; i < size; i++) {\n            values[i] = randFunction();\n        }\n        return Tensor.make(shape, { values: values }, dtype);\n    };\n    ArrayOps.multinomial = function (logits, numSamples, seed, normalized) {\n        if (normalized === void 0) { normalized = false; }\n        util.assertArgumentsAreTensors({ logits: logits }, 'multinomial');\n        var numOutcomes = logits.size;\n        var origRank = logits.rank;\n        if (numOutcomes < 2) {\n            throw new Error(\"Error in multinomial: you need at least 2 outcomes, but got \" +\n                (numOutcomes + \".\"));\n        }\n        if (origRank > 2) {\n            throw new Error(\"Rank of probabilities must be 1 or 2, but is \" + origRank);\n        }\n        seed = seed || Math.random();\n        var logits2D = origRank === 1 ? logits.as2D(1, -1) : logits;\n        var res = ENV.engine.runKernel(function (backend) { return backend.multinomial(logits2D, normalized, numSamples, seed); }, { logits2D: logits2D });\n        return origRank === 1 ? res.as1D() : res;\n    };\n    ArrayOps.oneHot = function (indices, depth, onValue, offValue) {\n        if (onValue === void 0) { onValue = 1; }\n        if (offValue === void 0) { offValue = 0; }\n        util.assert(indices.dtype === 'int32', 'Indices must be of dtype `int32`');\n        if (depth < 2) {\n            throw new Error(\"Error in oneHot: depth must be >=2, but it is \" + depth);\n        }\n        return ENV.engine.runKernel(function (backend) { return backend.oneHot(indices, depth, onValue, offValue); }, { indices: indices });\n    };\n    ArrayOps.fromPixels = function (pixels, numChannels) {\n        if (numChannels === void 0) { numChannels = 3; }\n        if (numChannels > 4) {\n            throw new Error('Cannot construct Tensor with more than 4 channels from pixels.');\n        }\n        return ENV.engine.fromPixels(pixels, numChannels);\n    };\n    ArrayOps.toPixels = function (img, canvas) {\n        return __awaiter(this, void 0, void 0, function () {\n            var _a, height, width, depth, minTensor, maxTensor, min, max, data, multiplier, bytes, i, r, g, b, a, j, ctx, imageData;\n            return __generator(this, function (_b) {\n                switch (_b.label) {\n                    case 0:\n                        util.assertArgumentsAreTensors({ img: img }, 'toPixels');\n                        if (img.rank !== 2 && img.rank !== 3) {\n                            throw new Error(\"toPixels only supports rank 2 or 3 tensors, got rank \" + img.rank + \".\");\n                        }\n                        _a = img.shape.slice(0, 2), height = _a[0], width = _a[1];\n                        depth = img.rank === 2 ? 1 : img.shape[2];\n                        if (depth > 4 || depth === 2) {\n                            throw new Error(\"toPixels only supports depth of size \" +\n                                (\"1, 3 or 4 but got \" + depth));\n                        }\n                        minTensor = img.min();\n                        maxTensor = img.max();\n                        return [4, minTensor.data()];\n                    case 1:\n                        min = (_b.sent())[0];\n                        return [4, maxTensor.data()];\n                    case 2:\n                        max = (_b.sent())[0];\n                        minTensor.dispose();\n                        maxTensor.dispose();\n                        if (img.dtype === 'float32') {\n                            if (min < 0 || max > 1) {\n                                throw new Error(\"Tensor values for a float32 Tensor must be in the \" +\n                                    (\"range [0 - 1] but got range [\" + min + \" - \" + max + \"].\"));\n                            }\n                        }\n                        else if (img.dtype === 'int32') {\n                            if (min < 0 || max > 255) {\n                                throw new Error(\"Tensor values for a int32 Tensor must be in the \" +\n                                    (\"range [0 - 255] but got range [\" + min + \" - \" + max + \"].\"));\n                            }\n                        }\n                        else {\n                            throw new Error(\"Unsupported type for toPixels: \" + img.dtype + \".\" +\n                                \" Please use float32 or int32 tensors.\");\n                        }\n                        return [4, img.data()];\n                    case 3:\n                        data = _b.sent();\n                        multiplier = img.dtype === 'float32' ? 255 : 1;\n                        bytes = new Uint8ClampedArray(width * height * 4);\n                        for (i = 0; i < height * width; ++i) {\n                            r = void 0, g = void 0, b = void 0, a = void 0;\n                            if (depth === 1) {\n                                r = data[i] * multiplier;\n                                g = data[i] * multiplier;\n                                b = data[i] * multiplier;\n                                a = 255;\n                            }\n                            else if (depth === 3) {\n                                r = data[i * 3] * multiplier;\n                                g = data[i * 3 + 1] * multiplier;\n                                b = data[i * 3 + 2] * multiplier;\n                                a = 255;\n                            }\n                            else if (depth === 4) {\n                                r = data[i * 4] * multiplier;\n                                g = data[i * 4 + 1] * multiplier;\n                                b = data[i * 4 + 2] * multiplier;\n                                a = data[i * 4 + 3] * multiplier;\n                            }\n                            j = i * 4;\n                            bytes[j + 0] = Math.round(r);\n                            bytes[j + 1] = Math.round(g);\n                            bytes[j + 2] = Math.round(b);\n                            bytes[j + 3] = Math.round(a);\n                        }\n                        if (canvas != null) {\n                            canvas.width = width;\n                            canvas.height = height;\n                            ctx = canvas.getContext('2d');\n                            imageData = new ImageData(bytes, width, height);\n                            ctx.putImageData(imageData, 0, 0);\n                        }\n                        return [2, bytes];\n                }\n            });\n        });\n    };\n    ArrayOps.reshape = function (x, shape) {\n        util.assertArgumentsAreTensors({ x: x }, 'reshape');\n        shape = util.inferFromImplicitShape(shape, x.size);\n        util.assert(x.size === util.sizeFromShape(shape), 'new shape and old shape must have the same number of elements.');\n        var grad = function (dy) {\n            return { x: function () { return dy.reshape(x.shape); } };\n        };\n        return ENV.engine.runKernel(function (backend) { return backend.reshape(x, shape); }, { x: x }, grad);\n    };\n    ArrayOps.squeeze = function (x, axis) {\n        util.assertArgumentsAreTensors({ x: x }, 'squeeze');\n        return ArrayOps.reshape(x, util.squeezeShape(x.shape, axis).newShape);\n    };\n    ArrayOps.cast = function (x, dtype) {\n        util.assertArgumentsAreTensors({ x: x }, 'cast');\n        var grad = function (dy) {\n            return { x: function () { return dy.clone(); } };\n        };\n        return ENV.engine.runKernel(function (backend) { return backend.cast(x, dtype); }, { x: x }, grad);\n    };\n    ArrayOps.tile = function (x, reps) {\n        util.assertArgumentsAreTensors({ x: x }, 'tile');\n        util.assert(x.rank === reps.length, \"Error in transpose: rank of input \" + x.rank + \" \" +\n            (\"must match length of reps \" + reps + \".\"));\n        var grad = function (dy) {\n            var derX = function () {\n                var xGrad = ArrayOps.zerosLike(x);\n                if (x.rank === 1) {\n                    for (var i = 0; i < reps[0]; ++i) {\n                        xGrad = xGrad.add(dy.slice([i * x.shape[0]], [x.shape[0]]));\n                    }\n                }\n                else if (x.rank === 2) {\n                    for (var i = 0; i < reps[0]; ++i) {\n                        for (var j = 0; j < reps[1]; ++j) {\n                            xGrad = xGrad.add(dy.slice([i * x.shape[0], j * x.shape[1]], [x.shape[0], x.shape[1]]));\n                        }\n                    }\n                }\n                else if (x.rank === 3) {\n                    for (var i = 0; i < reps[0]; ++i) {\n                        for (var j = 0; j < reps[1]; ++j) {\n                            for (var k = 0; k < reps[2]; ++k) {\n                                xGrad = xGrad.add(dy.slice([i * x.shape[0], j * x.shape[1], k * x.shape[2]], [x.shape[0], x.shape[1], x.shape[2]]));\n                            }\n                        }\n                    }\n                }\n                else if (x.rank === 4) {\n                    for (var i = 0; i < reps[0]; ++i) {\n                        for (var j = 0; j < reps[1]; ++j) {\n                            for (var k = 0; k < reps[2]; ++k) {\n                                for (var l = 0; l < reps[3]; ++l) {\n                                    xGrad = xGrad.add(dy.slice([\n                                        i * x.shape[0], j * x.shape[1], k * x.shape[2],\n                                        l * x.shape[3]\n                                    ], [x.shape[0], x.shape[1], x.shape[2], x.shape[3]]));\n                                }\n                            }\n                        }\n                    }\n                }\n                else {\n                    throw new Error(\"Gradient for tile operation is not implemented for rank-\" +\n                        (x.rank + \" tensors yet.\"));\n                }\n                return xGrad;\n            };\n            return { x: derX };\n        };\n        return ENV.engine.runKernel(function (backend) { return backend.tile(x, reps); }, { x: x }, grad);\n    };\n    ArrayOps.gather = function (x, indices, axis) {\n        if (axis === void 0) { axis = 0; }\n        util.assertArgumentsAreTensors({ x: x, indices: indices }, 'gather');\n        util.assert(indices.dtype === 'int32', 'Indices must be of dtype `int32`');\n        axis = parseAxisParam(axis, x.shape)[0];\n        var grad = function (dy) {\n            var derX = function () {\n                return ReductionOps.unsortedSegmentSum(dy, indices, x.shape[axis], axis);\n            };\n            return { x: derX };\n        };\n        return ENV.engine.runKernel(function (backend) { return backend.gather(x, indices, axis); }, { x: x }, grad);\n    };\n    ArrayOps.pad1d = function (x, paddings, constantValue) {\n        if (constantValue === void 0) { constantValue = 0; }\n        util.assert(paddings.length === 2, 'Invalid number of paddings. Must be length of 2.');\n        return ArrayOps.pad(x, [paddings], constantValue);\n    };\n    ArrayOps.pad2d = function (x, paddings, constantValue) {\n        if (constantValue === void 0) { constantValue = 0; }\n        util.assert(paddings.length === 2 && paddings[0].length === 2 &&\n            paddings[1].length === 2, 'Invalid number of paddings. Must be length of 2 each.');\n        return ArrayOps.pad(x, paddings, constantValue);\n    };\n    ArrayOps.pad3d = function (x, paddings, constantValue) {\n        if (constantValue === void 0) { constantValue = 0; }\n        util.assert(paddings.length === 3 && paddings[0].length === 2 &&\n            paddings[1].length === 2 && paddings[2].length === 2, 'Invalid number of paddings. Must be length of 2 each.');\n        return ArrayOps.pad(x, paddings, constantValue);\n    };\n    ArrayOps.pad4d = function (x, paddings, constantValue) {\n        if (constantValue === void 0) { constantValue = 0; }\n        util.assert(paddings.length === 4 && paddings[0].length === 2 &&\n            paddings[1].length === 2 && paddings[2].length === 2 &&\n            paddings[3].length === 2, 'Invalid number of paddings. Must be length of 2 each.');\n        return ArrayOps.pad(x, paddings, constantValue);\n    };\n    ArrayOps.pad = function (x, paddings, constantValue) {\n        if (constantValue === void 0) { constantValue = 0; }\n        util.assertArgumentsAreTensors({ x: x }, 'pad');\n        if (x.rank === 0) {\n            throw new Error('pad(scalar) is not defined. Pass non-scalar to pad');\n        }\n        var begin = paddings.map(function (p) { return p[0]; });\n        var grad = function (dy) {\n            return { x: function () { return dy.slice(begin, x.shape); } };\n        };\n        return ENV.engine.runKernel(function (backend) { return backend.pad(x, paddings, constantValue); }, { x: x }, grad);\n    };\n    ArrayOps.stack = function (tensors, axis) {\n        if (axis === void 0) { axis = 0; }\n        util.assertArgumentsAreTensors({ tensors: tensors }, 'stack');\n        util.assert(tensors.length >= 1, 'Pass at least one tensor to tf.stack');\n        if (tensors.length === 1) {\n            return tensors[0].expandDims(axis);\n        }\n        var rank = tensors[0].rank;\n        var shape = tensors[0].shape;\n        var dtype = tensors[0].dtype;\n        util.assert(axis <= rank, 'Axis must be <= rank of the tensor');\n        tensors.forEach(function (t) {\n            util.assertShapesMatch(shape, t.shape, 'All tensors passed to stack must have matching shapes');\n        });\n        tensors.forEach(function (t) {\n            util.assert(dtype === t.dtype, 'All tensors passed to stack must have matching dtypes');\n        });\n        var expandedTensors = tensors.map(function (t) { return t.expandDims(axis); });\n        return ConcatOps.concat(expandedTensors, axis);\n    };\n    ArrayOps.unstack = function (value, axis) {\n        if (axis === void 0) { axis = 0; }\n        var num = value.shape[axis];\n        var outputShape = Array(value.rank - 1).fill(0);\n        var outIndex = 0;\n        for (var i = 0; i < value.rank; i++) {\n            if (i !== axis) {\n                outputShape[outIndex] = value.shape[i];\n                outIndex++;\n            }\n        }\n        var splitSizes;\n        splitSizes = Array(num).fill(1);\n        var begin = Array(value.rank).fill(0);\n        var size = value.shape.slice();\n        return splitSizes.map(function (s) {\n            size[axis] = s;\n            var slice = value.slice(begin, size);\n            begin[axis] += s;\n            return slice.reshape(outputShape);\n        });\n    };\n    ArrayOps.split = function (x, numOrSizeSplits, axis) {\n        if (axis === void 0) { axis = 0; }\n        util.assertArgumentsAreTensors({ x: x }, 'split');\n        axis = parseAxisParam(axis, x.shape)[0];\n        var splitSizes;\n        if (typeof (numOrSizeSplits) === 'number') {\n            util.assert(x.shape[axis] % numOrSizeSplits === 0, 'Number of splits must evenly divide the axis.');\n            splitSizes = Array(numOrSizeSplits).fill(x.shape[axis] / numOrSizeSplits);\n        }\n        else {\n            util.assert(x.shape[axis] === numOrSizeSplits.reduce(function (a, b) { return a + b; }), 'The sum of sizes must match the size of the axis dimension.');\n            splitSizes = numOrSizeSplits;\n        }\n        var begin = Array(x.rank).fill(0);\n        var size = x.shape.slice();\n        return splitSizes.map(function (s) {\n            size[axis] = s;\n            var slice = x.slice(begin, size);\n            begin[axis] += s;\n            return slice;\n        });\n    };\n    ArrayOps.cumsum = function (x, axis, exclusive, reverse) {\n        if (axis === void 0) { axis = 0; }\n        if (exclusive === void 0) { exclusive = false; }\n        if (reverse === void 0) { reverse = false; }\n        util.assertArgumentsAreTensors({ x: x }, 'cumsum');\n        var permutation = getAxesPermutation([axis], x.rank);\n        var permutedX = x;\n        if (permutation != null) {\n            permutedX = x.transpose(permutation);\n        }\n        var grad = function (dy) {\n            return { permutedX: function () { return dy.cumsum(axis, exclusive, !reverse); } };\n        };\n        var value = ENV.engine.runKernel(function (backend) { return backend.cumsum(permutedX, axis, exclusive, reverse); }, { permutedX: permutedX }, grad);\n        if (permutation != null) {\n            value = value.transpose(permutation);\n        }\n        return value;\n    };\n    ArrayOps.expandDims = function (x, axis) {\n        if (axis === void 0) { axis = 0; }\n        util.assertArgumentsAreTensors({ x: x }, 'expandDims');\n        util.assert(axis <= x.rank, 'Axis must be <= rank of the tensor');\n        var newShape = x.shape.slice();\n        newShape.splice(axis, 0, 1);\n        return ArrayOps.reshape(x, newShape);\n    };\n    ArrayOps.linspace = function (start, stop, num) {\n        if (num === 0) {\n            throw new Error('Cannot request zero samples');\n        }\n        var step = (stop - start) / (num - 1);\n        var values = makeZerosTypedArray(num, 'float32');\n        values[0] = start;\n        for (var i = 1; i < values.length; i++) {\n            values[i] = values[i - 1] + step;\n        }\n        return ArrayOps.tensor1d(values, 'float32');\n    };\n    ArrayOps.range = function (start, stop, step, dtype) {\n        if (step === void 0) { step = 1; }\n        if (dtype === void 0) { dtype = 'float32'; }\n        if (step === 0) {\n            throw new Error('Cannot have a step of zero');\n        }\n        var sameStartStop = start === stop;\n        var increasingRangeNegativeStep = start < stop && step < 0;\n        var decreasingRangePositiveStep = stop < start && step > 1;\n        if (sameStartStop || increasingRangeNegativeStep ||\n            decreasingRangePositiveStep) {\n            return ArrayOps.zeros([0], dtype);\n        }\n        var numElements = Math.abs(Math.ceil((stop - start) / step));\n        var values = makeZerosTypedArray(numElements, dtype);\n        if (stop < start && step === 1) {\n            step = -1;\n        }\n        values[0] = start;\n        for (var i = 1; i < values.length; i++) {\n            values[i] = values[i - 1] + step;\n        }\n        return ArrayOps.tensor1d(values, dtype);\n    };\n    ArrayOps.buffer = function (shape, dtype, values) {\n        if (dtype === void 0) { dtype = 'float32'; }\n        return new TensorBuffer(shape, dtype, values);\n    };\n    ArrayOps.print = function (x, verbose) {\n        if (verbose === void 0) { verbose = false; }\n        console.log(tensor_util.tensorToString(x, verbose));\n    };\n    __decorate([\n        doc({ heading: 'Tensors', subheading: 'Creation' })\n    ], ArrayOps, \"tensor\", null);\n    __decorate([\n        doc({ heading: 'Tensors', subheading: 'Creation' })\n    ], ArrayOps, \"scalar\", null);\n    __decorate([\n        doc({ heading: 'Tensors', subheading: 'Creation' })\n    ], ArrayOps, \"tensor1d\", null);\n    __decorate([\n        doc({ heading: 'Tensors', subheading: 'Creation' })\n    ], ArrayOps, \"tensor2d\", null);\n    __decorate([\n        doc({ heading: 'Tensors', subheading: 'Creation' })\n    ], ArrayOps, \"tensor3d\", null);\n    __decorate([\n        doc({ heading: 'Tensors', subheading: 'Creation' })\n    ], ArrayOps, \"tensor4d\", null);\n    __decorate([\n        doc({ heading: 'Tensors', subheading: 'Creation' }),\n        operation\n    ], ArrayOps, \"ones\", null);\n    __decorate([\n        doc({ heading: 'Tensors', subheading: 'Creation' }),\n        operation\n    ], ArrayOps, \"zeros\", null);\n    __decorate([\n        doc({ heading: 'Tensors', subheading: 'Creation' }),\n        operation\n    ], ArrayOps, \"fill\", null);\n    __decorate([\n        doc({ heading: 'Tensors', subheading: 'Creation' }),\n        operation\n    ], ArrayOps, \"onesLike\", null);\n    __decorate([\n        doc({ heading: 'Tensors', subheading: 'Creation' }),\n        operation\n    ], ArrayOps, \"zerosLike\", null);\n    __decorate([\n        doc({ heading: 'Tensors', subheading: 'Creation' }),\n        operation\n    ], ArrayOps, \"clone\", null);\n    __decorate([\n        doc({ heading: 'Tensors', subheading: 'Creation' }),\n        operation\n    ], ArrayOps, \"eye\", null);\n    __decorate([\n        doc({ heading: 'Tensors', subheading: 'Creation' }),\n        operation\n    ], ArrayOps, \"randomNormal\", null);\n    __decorate([\n        doc({ heading: 'Tensors', subheading: 'Creation' }),\n        operation\n    ], ArrayOps, \"truncatedNormal\", null);\n    __decorate([\n        doc({ heading: 'Tensors', subheading: 'Creation' }),\n        operation\n    ], ArrayOps, \"randomUniform\", null);\n    __decorate([\n        operation\n    ], ArrayOps, \"rand\", null);\n    __decorate([\n        operation\n    ], ArrayOps, \"multinomial\", null);\n    __decorate([\n        doc({ heading: 'Tensors', subheading: 'Creation' }),\n        operation\n    ], ArrayOps, \"oneHot\", null);\n    __decorate([\n        doc({ heading: 'Tensors', subheading: 'Creation' }),\n        operation\n    ], ArrayOps, \"fromPixels\", null);\n    __decorate([\n        doc({ heading: 'Visualization' })\n    ], ArrayOps, \"toPixels\", null);\n    __decorate([\n        doc({ heading: 'Tensors', subheading: 'Transformations' }),\n        operation\n    ], ArrayOps, \"reshape\", null);\n    __decorate([\n        doc({ heading: 'Tensors', subheading: 'Transformations' })\n    ], ArrayOps, \"squeeze\", null);\n    __decorate([\n        doc({ heading: 'Tensors', subheading: 'Transformations' }),\n        operation\n    ], ArrayOps, \"cast\", null);\n    __decorate([\n        doc({ heading: 'Tensors', subheading: 'Slicing and Joining' }),\n        operation\n    ], ArrayOps, \"tile\", null);\n    __decorate([\n        doc({ heading: 'Tensors', subheading: 'Slicing and Joining' }),\n        operation\n    ], ArrayOps, \"gather\", null);\n    __decorate([\n        doc({ heading: 'Tensors', subheading: 'Transformations' }),\n        operation\n    ], ArrayOps, \"pad\", null);\n    __decorate([\n        doc({ heading: 'Tensors', subheading: 'Slicing and Joining' }),\n        operation\n    ], ArrayOps, \"stack\", null);\n    __decorate([\n        doc({ heading: 'Tensors', subheading: 'Slicing and Joining' }),\n        operation\n    ], ArrayOps, \"unstack\", null);\n    __decorate([\n        doc({ heading: 'Tensors', subheading: 'Slicing and Joining' }),\n        operation\n    ], ArrayOps, \"split\", null);\n    __decorate([\n        doc({ heading: 'Operations', subheading: 'Scan' })\n    ], ArrayOps, \"cumsum\", null);\n    __decorate([\n        doc({ heading: 'Tensors', subheading: 'Transformations' }),\n        operation\n    ], ArrayOps, \"expandDims\", null);\n    __decorate([\n        operation,\n        doc({ heading: 'Tensors', subheading: 'Creation' })\n    ], ArrayOps, \"linspace\", null);\n    __decorate([\n        operation,\n        doc({ heading: 'Tensors', subheading: 'Creation' })\n    ], ArrayOps, \"range\", null);\n    __decorate([\n        doc({ heading: 'Tensors', subheading: 'Creation' })\n    ], ArrayOps, \"buffer\", null);\n    __decorate([\n        doc({ heading: 'Tensors', subheading: 'Creation' })\n    ], ArrayOps, \"print\", null);\n    return ArrayOps;\n}());\nexport { ArrayOps };\nfunction makeZerosTypedArray(size, dtype) {\n    if (dtype == null || dtype === 'float32') {\n        return new Float32Array(size);\n    }\n    else if (dtype === 'int32') {\n        return new Int32Array(size);\n    }\n    else if (dtype === 'bool') {\n        return new Uint8Array(size);\n    }\n    else {\n        throw new Error(\"Unknown data type $ {dtype}\");\n    }\n}\nfunction makeOnesTypedArray(size, dtype) {\n    var array = makeZerosTypedArray(size, dtype);\n    for (var i = 0; i < array.length; i++) {\n        array[i] = 1;\n    }\n    return array;\n}\nfunction toTypedArray(a, dtype) {\n    if (noConversionNeeded(a, dtype)) {\n        return a;\n    }\n    if (Array.isArray(a)) {\n        a = util.flatten(a);\n    }\n    return util.copyTypedArray(a, dtype);\n}\nfunction noConversionNeeded(a, dtype) {\n    return (a instanceof Float32Array && dtype === 'float32') ||\n        (a instanceof Int32Array && dtype === 'int32') ||\n        (a instanceof Uint8Array && dtype === 'bool');\n}\n//# sourceMappingURL=array_ops.js.map","export function getBroadcastDims(inShape, outShape) {\n    var inRank = inShape.length;\n    var dims = [];\n    for (var i = 0; i < inRank; i++) {\n        var dim = inRank - 1 - i;\n        var a = inShape[dim] || 1;\n        var b = outShape[outShape.length - 1 - i] || 1;\n        if (b > 1 && a === 1) {\n            dims.unshift(dim);\n        }\n    }\n    return dims;\n}\nexport function getReductionAxes(inShape, outShape) {\n    var result = [];\n    for (var i = 0; i < outShape.length; i++) {\n        var inDim = inShape[inShape.length - i - 1];\n        var outAxis = outShape.length - i - 1;\n        var outDim = outShape[outAxis];\n        if (inDim == null || (inDim === 1 && outDim > 1)) {\n            result.unshift(outAxis);\n        }\n    }\n    return result;\n}\nexport function broadcastDimsAreOuter(dims) {\n    for (var i = 0; i < dims.length; i++) {\n        if (dims[i] !== i) {\n            return false;\n        }\n    }\n    return true;\n}\nexport function assertAndGetBroadcastShape(shapeA, shapeB) {\n    var result = [];\n    var errMsg = \"Operands could not be broadcast together with shapes \" +\n        (shapeA + \" and \" + shapeB + \".\");\n    var l = Math.max(shapeA.length, shapeB.length);\n    for (var i = 0; i < l; i++) {\n        var a = shapeA[shapeA.length - i - 1] || 1;\n        var b = shapeB[shapeB.length - i - 1] || 1;\n        if (a > 1 && b > 1 && a !== b) {\n            throw Error(errMsg);\n        }\n        result.unshift(Math.max(a, b));\n    }\n    return result;\n}\n//# sourceMappingURL=broadcast_util.js.map","var __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\n};\nimport { doc } from '../doc';\nimport { ENV } from '../environment';\nimport * as util from '../util';\nimport { ArrayOps } from './array_ops';\nimport { getReductionAxes } from './broadcast_util';\nimport { operation } from './operation';\nimport { rsqrt } from './ops';\nvar BatchNormOps = (function () {\n    function BatchNormOps() {\n    }\n    BatchNormOps.batchNormalization2d = function (x, mean, variance, varianceEpsilon, scale, offset) {\n        if (varianceEpsilon === void 0) { varianceEpsilon = .001; }\n        util.assert(x.rank === 2, \"Error in batchNormalization3D: x must be rank 3 but got rank \" +\n            (x.rank + \".\"));\n        util.assert(mean.rank === 2 || mean.rank === 1, \"Error in batchNormalization2D: mean must be rank 2 or rank 1 but \" +\n            (\"got rank \" + mean.rank + \".\"));\n        util.assert(variance.rank === 2 || variance.rank === 1, \"Error in batchNormalization2D: variance must be rank 2 or rank 1 \" +\n            (\"but got rank \" + variance.rank + \".\"));\n        if (scale != null) {\n            util.assert(scale.rank === 2 || scale.rank === 1, \"Error in batchNormalization2D: scale must be rank 2 or rank 1 \" +\n                (\"but got rank \" + scale.rank + \".\"));\n        }\n        if (offset != null) {\n            util.assert(offset.rank === 2 || offset.rank === 1, \"Error in batchNormalization2D: offset must be rank 2 or rank 1 \" +\n                (\"but got rank \" + offset.rank + \".\"));\n        }\n        return BatchNormOps.batchNormalization(x, mean, variance, varianceEpsilon, scale, offset);\n    };\n    BatchNormOps.batchNormalization3d = function (x, mean, variance, varianceEpsilon, scale, offset) {\n        if (varianceEpsilon === void 0) { varianceEpsilon = .001; }\n        util.assert(x.rank === 3, \"Error in batchNormalization3D: x must be rank 3 but got rank \" +\n            (x.rank + \".\"));\n        util.assert(mean.rank === 3 || mean.rank === 1, \"Error in batchNormalization3D: mean must be rank 3 or rank 1 but \" +\n            (\"got rank \" + mean.rank + \".\"));\n        util.assert(variance.rank === 3 || variance.rank === 1, \"Error in batchNormalization3D: variance must be rank 3 or rank 1 \" +\n            (\"but got rank \" + variance.rank + \".\"));\n        if (scale != null) {\n            util.assert(scale.rank === 3 || scale.rank === 1, \"Error in batchNormalization3D: scale must be rank 3 or rank 1 \" +\n                (\"but got rank \" + scale.rank + \".\"));\n        }\n        if (offset != null) {\n            util.assert(offset.rank === 3 || offset.rank === 1, \"Error in batchNormalization3D: offset must be rank 3 or rank 1 \" +\n                (\"but got rank \" + offset.rank + \".\"));\n        }\n        return BatchNormOps.batchNormalization(x, mean, variance, varianceEpsilon, scale, offset);\n    };\n    BatchNormOps.batchNormalization4d = function (x, mean, variance, varianceEpsilon, scale, offset) {\n        if (varianceEpsilon === void 0) { varianceEpsilon = .001; }\n        util.assert(x.rank === 4, \"Error in batchNormalization4D: x must be rank 4 but got rank \" +\n            (x.rank + \".\"));\n        util.assert(mean.rank === 4 || mean.rank === 1, \"Error in batchNormalization4D: mean must be rank 4 or rank 1 but \" +\n            (\"got rank \" + mean.rank + \".\"));\n        util.assert(variance.rank === 4 || variance.rank === 1, \"Error in batchNormalization4D: variance must be rank 4 or rank 1 \" +\n            (\"but got rank \" + variance.rank + \".\"));\n        if (scale != null) {\n            util.assert(scale.rank === 4 || scale.rank === 1, \"Error in batchNormalization4D: scale must be rank 4 or rank 1 \" +\n                (\"but got rank \" + scale.rank + \".\"));\n        }\n        if (offset != null) {\n            util.assert(offset.rank === 4 || offset.rank === 1, \"Error in batchNormalization4D: offset must be rank 4 or rank 1 \" +\n                (\"but got rank \" + offset.rank + \".\"));\n        }\n        return BatchNormOps.batchNormalization(x, mean, variance, varianceEpsilon, scale, offset);\n    };\n    BatchNormOps.batchNormalization = function (x, mean, variance, varianceEpsilon, scale, offset) {\n        if (varianceEpsilon === void 0) { varianceEpsilon = .001; }\n        util.assertArgumentsAreTensors({ x: x, mean: mean, variance: variance }, 'batchNormalization');\n        if (scale != null) {\n            util.assertArgumentsAreTensors({ scale: scale }, 'batchNormalization');\n        }\n        if (offset != null) {\n            util.assertArgumentsAreTensors({ offset: offset }, 'batchNormalization');\n        }\n        util.assert(mean.rank === variance.rank, 'Batch normalization gradient requires mean and variance to have ' +\n            'equal ranks.');\n        util.assert(offset == null || mean.rank === offset.rank, 'Batch normalization gradient requires mean and offset to have ' +\n            'equal ranks.');\n        util.assert(scale == null || mean.rank === scale.rank, 'Batch normalization gradient requires mean and scale to have ' +\n            'equal ranks.');\n        var x4D;\n        if (x.rank === 0 || x.rank === 1) {\n            x4D = x.as4D(1, 1, 1, x.size);\n        }\n        else if (x.rank === 2) {\n            x4D = x.as4D(1, 1, x.shape[0], x.shape[1]);\n        }\n        else if (x.rank === 3) {\n            x4D = x.as4D(1, x.shape[0], x.shape[1], x.shape[2]);\n        }\n        else {\n            x4D = x;\n        }\n        var der = function (dy) {\n            var scaleValue = scale == null ? ArrayOps.scalar(1) : scale;\n            var reductionAxes = getReductionAxes(mean.shape, x4D.shape);\n            var tileShape = [];\n            if (mean.rank === 1) {\n                for (var i = 0; i < x4D.shape.length - 1; ++i) {\n                    tileShape.push(x4D.shape[i]);\n                }\n                tileShape.push(1);\n            }\n            var xMinusMean = x.sub(mean);\n            var dyTimesScaleValue = dy.mul(scaleValue);\n            var oneOverSqrtVariance = rsqrt(variance.add(ArrayOps.scalar(varianceEpsilon)));\n            var minusHalfRCube = oneOverSqrtVariance.mul(oneOverSqrtVariance)\n                .mul(oneOverSqrtVariance)\n                .mul(ArrayOps.scalar(-0.5));\n            var derX = function () {\n                if (mean.rank === 1) {\n                    return dy\n                        .mul(ArrayOps.tile(oneOverSqrtVariance.as4D(1, 1, 1, mean.shape[0]), tileShape))\n                        .mul(scaleValue)\n                        .reshape(x.shape);\n                }\n                else {\n                    return dy.mul(oneOverSqrtVariance).mul(scaleValue).reshape(x.shape);\n                }\n            };\n            var derMean = function () {\n                var meanDer = oneOverSqrtVariance.mul(ArrayOps.scalar(-1)).mul(dyTimesScaleValue);\n                if (mean.rank === 1) {\n                    meanDer = meanDer.sum(reductionAxes);\n                }\n                return meanDer.reshape(mean.shape);\n            };\n            var derVariance = function () {\n                var varianceDer = minusHalfRCube.mul(xMinusMean).mul(dyTimesScaleValue);\n                if (mean.rank === 1) {\n                    varianceDer = varianceDer.sum(reductionAxes);\n                }\n                return varianceDer.reshape(mean.shape);\n            };\n            var derScale = function () {\n                var xMinusMean2TimesRsqrt = xMinusMean.mul(oneOverSqrtVariance);\n                var scaleDer = dy.mul(xMinusMean2TimesRsqrt);\n                if (mean.rank === 1) {\n                    scaleDer = scaleDer.sum(reductionAxes);\n                }\n                return scaleDer.reshape(mean.shape);\n            };\n            var derOffset = function () {\n                var offsetDer = dy;\n                if (mean.rank === 1) {\n                    offsetDer = offsetDer.sum(reductionAxes);\n                }\n                return offsetDer.reshape(mean.shape);\n            };\n            return {\n                x: derX,\n                mean: derMean,\n                variance: derVariance,\n                scale: derScale,\n                offset: derOffset\n            };\n        };\n        var res = ENV.engine.runKernel(function (backend) { return backend.batchNormalization(x4D, batchnormReshape4D(mean), batchnormReshape4D(variance), varianceEpsilon, batchnormReshape4D(scale), batchnormReshape4D(offset)); }, { x: x, mean: mean, variance: variance, scale: scale, offset: offset }, der);\n        return res.reshape(x.shape);\n    };\n    __decorate([\n        operation\n    ], BatchNormOps, \"batchNormalization2d\", null);\n    __decorate([\n        operation\n    ], BatchNormOps, \"batchNormalization3d\", null);\n    __decorate([\n        operation\n    ], BatchNormOps, \"batchNormalization4d\", null);\n    __decorate([\n        doc({ heading: 'Operations', subheading: 'Normalization' })\n    ], BatchNormOps, \"batchNormalization\", null);\n    return BatchNormOps;\n}());\nexport { BatchNormOps };\nfunction batchnormReshape4D(x) {\n    if (x == null) {\n        return null;\n    }\n    if (x.rank === 0) {\n        return x.as1D();\n    }\n    else if (x.rank === 1) {\n        return x;\n    }\n    else if (x.rank === 2) {\n        return x.as4D(1, 1, x.shape[0], x.shape[1]);\n    }\n    else if (x.rank === 3) {\n        return x.as4D(1, x.shape[0], x.shape[1], x.shape[2]);\n    }\n    return x;\n}\n//# sourceMappingURL=batchnorm.js.map","export var DType;\n(function (DType) {\n    DType[\"float32\"] = \"float32\";\n    DType[\"int32\"] = \"int32\";\n    DType[\"bool\"] = \"bool\";\n})(DType || (DType = {}));\nexport var Rank;\n(function (Rank) {\n    Rank[\"R0\"] = \"R0\";\n    Rank[\"R1\"] = \"R1\";\n    Rank[\"R2\"] = \"R2\";\n    Rank[\"R3\"] = \"R3\";\n    Rank[\"R4\"] = \"R4\";\n})(Rank || (Rank = {}));\nvar UpcastInt32AndMap;\n(function (UpcastInt32AndMap) {\n    UpcastInt32AndMap[\"float32\"] = \"float32\";\n    UpcastInt32AndMap[\"int32\"] = \"int32\";\n    UpcastInt32AndMap[\"bool\"] = \"int32\";\n})(UpcastInt32AndMap || (UpcastInt32AndMap = {}));\nvar UpcastBoolAndMap;\n(function (UpcastBoolAndMap) {\n    UpcastBoolAndMap[\"float32\"] = \"float32\";\n    UpcastBoolAndMap[\"int32\"] = \"int32\";\n    UpcastBoolAndMap[\"bool\"] = \"bool\";\n})(UpcastBoolAndMap || (UpcastBoolAndMap = {}));\nvar UpcastFloat32AndMap;\n(function (UpcastFloat32AndMap) {\n    UpcastFloat32AndMap[\"float32\"] = \"float32\";\n    UpcastFloat32AndMap[\"int32\"] = \"float32\";\n    UpcastFloat32AndMap[\"bool\"] = \"float32\";\n})(UpcastFloat32AndMap || (UpcastFloat32AndMap = {}));\nvar upcastTypeMap = {\n    float32: UpcastFloat32AndMap,\n    int32: UpcastInt32AndMap,\n    bool: UpcastBoolAndMap\n};\nexport function upcastType(typeA, typeB) {\n    return upcastTypeMap[typeA][typeB];\n}\nexport function sumOutType(type) {\n    return upcastType(type, 'int32');\n}\n//# sourceMappingURL=types.js.map","var __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\n};\nimport { doc } from '../doc';\nimport { ENV } from '../environment';\nimport { upcastType } from '../types';\nimport * as util from '../util';\nimport * as broadcast_util from './broadcast_util';\nimport { operation } from './operation';\nimport { neg, scalar, square } from './ops';\nvar BinaryOps = (function () {\n    function BinaryOps() {\n    }\n    BinaryOps.add = function (a, b) {\n        util.assertArgumentsAreTensors({ a: a, b: b }, 'add');\n        util.assertTypesMatch(a, b);\n        var outShape = broadcast_util.assertAndGetBroadcastShape(a.shape, b.shape);\n        var der = function (dy) {\n            var derA = function () {\n                var res = dy;\n                var reduceAxes = broadcast_util.getReductionAxes(a.shape, outShape);\n                if (reduceAxes.length > 0) {\n                    res = res.sum(reduceAxes);\n                }\n                return res.reshape(a.shape);\n            };\n            var derB = function () {\n                var res = dy;\n                var reduceAxes = broadcast_util.getReductionAxes(b.shape, outShape);\n                if (reduceAxes.length > 0) {\n                    res = res.sum(reduceAxes);\n                }\n                return res.reshape(b.shape);\n            };\n            return { a: derA, b: derB };\n        };\n        return ENV.engine.runKernel(function (backend) { return backend.add(a, b); }, { a: a, b: b }, der);\n    };\n    BinaryOps.addStrict = function (a, b) {\n        util.assertShapesMatch(a.shape, b.shape, 'Error in addStrict: ');\n        return a.add(b);\n    };\n    BinaryOps.sub = function (a, b) {\n        util.assertArgumentsAreTensors({ a: a, b: b }, 'sub');\n        util.assertTypesMatch(a, b);\n        var outShape = broadcast_util.assertAndGetBroadcastShape(a.shape, b.shape);\n        var der = function (dy) {\n            var derA = function () {\n                var res = dy;\n                var reduceAxes = broadcast_util.getReductionAxes(a.shape, outShape);\n                if (reduceAxes.length > 0) {\n                    res = res.sum(reduceAxes);\n                }\n                return res.reshape(a.shape);\n            };\n            var derB = function () {\n                var res = dy;\n                var reduceAxes = broadcast_util.getReductionAxes(b.shape, outShape);\n                if (reduceAxes.length > 0) {\n                    res = res.sum(reduceAxes);\n                }\n                return res.neg().reshape(b.shape);\n            };\n            return { a: derA, b: derB };\n        };\n        return ENV.engine.runKernel(function (backend) { return backend.subtract(a, b); }, { a: a, b: b }, der);\n    };\n    BinaryOps.subStrict = function (a, b) {\n        util.assertShapesMatch(a.shape, b.shape, 'Error in subStrict: ');\n        return a.sub(b);\n    };\n    BinaryOps.pow = function (base, exp) {\n        util.assertArgumentsAreTensors({ base: base, exp: exp }, 'pow');\n        var outShape = broadcast_util.assertAndGetBroadcastShape(base.shape, exp.shape);\n        base = base.cast(upcastType(base.dtype, exp.dtype));\n        exp = exp.cast(upcastType(base.dtype, exp.dtype));\n        var grad = function (dy, saved) {\n            var y = saved[0];\n            var derBase = function () {\n                var res = dy.mul(exp.toFloat().mul(y.div(base)));\n                var reduceAxes = broadcast_util.getReductionAxes(base.shape, outShape);\n                if (reduceAxes.length > 0) {\n                    res = res.sum(reduceAxes);\n                }\n                return res.reshape(base.shape);\n            };\n            var derExp = function () {\n                var res = dy.mul(y.mul(base.log()).toFloat());\n                var reduceAxes = broadcast_util.getReductionAxes(exp.shape, outShape);\n                if (reduceAxes.length > 0) {\n                    res = res.sum(reduceAxes);\n                }\n                return res.reshape(exp.shape);\n            };\n            return { base: derBase, exp: derExp };\n        };\n        return ENV.engine.runKernel(function (backend, save) { return save(backend.pow(base, exp)); }, { base: base, exp: exp }, grad);\n    };\n    BinaryOps.powStrict = function (base, exp) {\n        util.assertShapesMatch(base.shape, exp.shape, 'Error in powStrict: ');\n        return base.pow(exp);\n    };\n    BinaryOps.mul = function (a, b) {\n        util.assertArgumentsAreTensors({ a: a, b: b }, 'mul');\n        util.assertTypesMatch(a, b);\n        var outShape = broadcast_util.assertAndGetBroadcastShape(a.shape, b.shape);\n        var der = function (dy) {\n            var derA = function () {\n                var res = dy.mul(b.toFloat());\n                var reduceAxes = broadcast_util.getReductionAxes(a.shape, outShape);\n                if (reduceAxes.length > 0) {\n                    return res.sum(reduceAxes).reshape(a.shape);\n                }\n                return res;\n            };\n            var derB = function () {\n                var res = dy.mul(a.toFloat());\n                var reduceAxes = broadcast_util.getReductionAxes(b.shape, outShape);\n                if (reduceAxes.length > 0) {\n                    return res.sum(reduceAxes).reshape(b.shape);\n                }\n                return res;\n            };\n            return { a: derA, b: derB };\n        };\n        return ENV.engine.runKernel(function (backend) { return backend.multiply(a, b); }, { a: a, b: b }, der);\n    };\n    BinaryOps.mulStrict = function (a, b) {\n        util.assertShapesMatch(a.shape, b.shape, 'Error in multiplyStrict: ');\n        return a.mul(b);\n    };\n    BinaryOps.div = function (a, b) {\n        util.assertArgumentsAreTensors({ a: a, b: b }, 'div');\n        util.assertTypesMatch(a, b);\n        var outShape = broadcast_util.assertAndGetBroadcastShape(a.shape, b.shape);\n        var der = function (dy) {\n            var derA = function () {\n                var res = dy.div(b.toFloat());\n                var reduceAxes = broadcast_util.getReductionAxes(a.shape, outShape);\n                if (reduceAxes.length > 0) {\n                    return res.sum(reduceAxes).reshape(a.shape);\n                }\n                return res;\n            };\n            var derB = function () {\n                var res = dy.mul(a.toFloat());\n                var reduceAxes = broadcast_util.getReductionAxes(b.shape, outShape);\n                if (reduceAxes.length > 0) {\n                    res = res.sum(reduceAxes).reshape(b.shape);\n                }\n                var tmp = b.square();\n                return res.div(tmp.toFloat()).neg();\n            };\n            return { a: derA, b: derB };\n        };\n        return ENV.engine.runKernel(function (backend) { return backend.divide(a, b); }, { a: a, b: b }, der);\n    };\n    BinaryOps.divStrict = function (a, b) {\n        util.assertShapesMatch(a.shape, b.shape, 'Error in divideStrict: ');\n        return a.div(b);\n    };\n    BinaryOps.mod = function (a, b) {\n        util.assertArgumentsAreTensors({ a: a, b: b }, 'mod');\n        util.assertTypesMatch(a, b);\n        var outShape = broadcast_util.assertAndGetBroadcastShape(a.shape, b.shape);\n        var der = function (dy) {\n            var derA = function () {\n                var reduceAxes = broadcast_util.getReductionAxes(a.shape, outShape);\n                if (reduceAxes.length > 0) {\n                    return dy.sum(reduceAxes).reshape(a.shape);\n                }\n                return dy;\n            };\n            var derB = function () {\n                var res = dy.mul(a.div(b).floor().neg());\n                var reduceAxes = broadcast_util.getReductionAxes(b.shape, outShape);\n                if (reduceAxes.length > 0) {\n                    return res.sum(reduceAxes).reshape(b.shape);\n                }\n                return res;\n            };\n            return { a: derA, b: derB };\n        };\n        return ENV.engine.runKernel(function (backend) { return backend.mod(a, b); }, { a: a, b: b }, der);\n    };\n    BinaryOps.modStrict = function (a, b) {\n        util.assertShapesMatch(a.shape, b.shape, 'Error in modStrict: ');\n        return a.mod(b);\n    };\n    BinaryOps.minimum = function (a, b) {\n        util.assertArgumentsAreTensors({ a: a, b: b }, 'minimum');\n        util.assertTypesMatch(a, b);\n        if (a.dtype === 'bool') {\n            a = a.toInt();\n        }\n        if (b.dtype === 'bool') {\n            b = b.toInt();\n        }\n        broadcast_util.assertAndGetBroadcastShape(a.shape, b.shape);\n        var der = function (dy) {\n            var derA = function () { return dy.mul(a.lessEqual(b).toFloat()); };\n            var derB = function () { return dy.mul(a.greater(b).toFloat()); };\n            return { a: derA, b: derB };\n        };\n        return ENV.engine.runKernel(function (backend) { return backend.minimum(a, b); }, { a: a, b: b }, der);\n    };\n    BinaryOps.minimumStrict = function (a, b) {\n        util.assertShapesMatch(a.shape, b.shape, 'Error in minimumStrict: ');\n        return a.minimum(b);\n    };\n    BinaryOps.maximum = function (a, b) {\n        util.assertArgumentsAreTensors({ a: a, b: b }, 'maximum');\n        util.assertTypesMatch(a, b);\n        if (a.dtype === 'bool') {\n            a = a.toInt();\n        }\n        if (b.dtype === 'bool') {\n            b = b.toInt();\n        }\n        broadcast_util.assertAndGetBroadcastShape(a.shape, b.shape);\n        var der = function (dy) {\n            var derA = function () { return dy.mul(a.greaterEqual(b).toFloat()); };\n            var derB = function () { return dy.mul(a.less(b).toFloat()); };\n            return { a: derA, b: derB };\n        };\n        return ENV.engine.runKernel(function (backend) { return backend.maximum(a, b); }, { a: a, b: b }, der);\n    };\n    BinaryOps.maximumStrict = function (a, b) {\n        util.assertShapesMatch(a.shape, b.shape, 'Error in minimumStrict: ');\n        return a.maximum(b);\n    };\n    BinaryOps.squaredDifference = function (a, b) {\n        util.assertArgumentsAreTensors({ a: a, b: b }, 'squaredDifference');\n        util.assertTypesMatch(a, b);\n        broadcast_util.assertAndGetBroadcastShape(a.shape, b.shape);\n        var der = function (dy) {\n            var two = scalar(2);\n            var derA = function () { return dy.mul(a.sub(b).mul(two)); };\n            var derB = function () { return dy.mul(b.sub(a).mul(two)); };\n            return { a: derA, b: derB };\n        };\n        return ENV.engine.runKernel(function (backend) { return backend.squaredDifference(a, b); }, { a: a, b: b }, der);\n    };\n    BinaryOps.squaredDifferenceStrict = function (a, b) {\n        util.assertShapesMatch(a.shape, b.shape, 'Error in squaredDifferenceStrict: ');\n        return a.squaredDifference(b);\n    };\n    BinaryOps.atan2 = function (a, b) {\n        util.assertArgumentsAreTensors({ a: a, b: b }, 'atan2');\n        util.assertTypesMatch(a, b);\n        var outShape = broadcast_util.assertAndGetBroadcastShape(a.shape, b.shape);\n        var der = function (dy) {\n            var derA = function () {\n                var d = BinaryOps.add(square(a), square(b));\n                var res = dy.mul(b.div(d));\n                var reduceAxes = broadcast_util.getReductionAxes(a.shape, outShape);\n                if (reduceAxes.length > 0) {\n                    res = res.sum(reduceAxes);\n                }\n                return res.reshape(a.shape);\n            };\n            var derB = function () {\n                var d = BinaryOps.add(square(a), square(b));\n                var res = neg(dy.mul(a.div(d)));\n                var reduceAxes = broadcast_util.getReductionAxes(b.shape, outShape);\n                if (reduceAxes.length > 0) {\n                    res = res.sum(reduceAxes);\n                }\n                return res.reshape(b.shape);\n            };\n            return { a: derA, b: derB };\n        };\n        return ENV.engine.runKernel(function (backend) { return backend.atan2(a, b); }, { a: a, b: b }, der);\n    };\n    __decorate([\n        doc({ heading: 'Operations', subheading: 'Arithmetic' }),\n        operation\n    ], BinaryOps, \"add\", null);\n    __decorate([\n        operation\n    ], BinaryOps, \"addStrict\", null);\n    __decorate([\n        doc({ heading: 'Operations', subheading: 'Arithmetic' }),\n        operation\n    ], BinaryOps, \"sub\", null);\n    __decorate([\n        operation\n    ], BinaryOps, \"subStrict\", null);\n    __decorate([\n        doc({ heading: 'Operations', subheading: 'Arithmetic' }),\n        operation\n    ], BinaryOps, \"pow\", null);\n    __decorate([\n        operation\n    ], BinaryOps, \"powStrict\", null);\n    __decorate([\n        doc({ heading: 'Operations', subheading: 'Arithmetic' }),\n        operation\n    ], BinaryOps, \"mul\", null);\n    __decorate([\n        operation\n    ], BinaryOps, \"mulStrict\", null);\n    __decorate([\n        doc({ heading: 'Operations', subheading: 'Arithmetic' }),\n        operation\n    ], BinaryOps, \"div\", null);\n    __decorate([\n        operation\n    ], BinaryOps, \"divStrict\", null);\n    __decorate([\n        doc({ heading: 'Operations', subheading: 'Arithmetic' }),\n        operation\n    ], BinaryOps, \"mod\", null);\n    __decorate([\n        operation\n    ], BinaryOps, \"modStrict\", null);\n    __decorate([\n        doc({ heading: 'Operations', subheading: 'Arithmetic' }),\n        operation\n    ], BinaryOps, \"minimum\", null);\n    __decorate([\n        operation\n    ], BinaryOps, \"minimumStrict\", null);\n    __decorate([\n        doc({ heading: 'Operations', subheading: 'Arithmetic' }),\n        operation\n    ], BinaryOps, \"maximum\", null);\n    __decorate([\n        operation\n    ], BinaryOps, \"maximumStrict\", null);\n    __decorate([\n        doc({ heading: 'Operations', subheading: 'Arithmetic' }),\n        operation\n    ], BinaryOps, \"squaredDifference\", null);\n    __decorate([\n        operation\n    ], BinaryOps, \"squaredDifferenceStrict\", null);\n    __decorate([\n        operation\n    ], BinaryOps, \"atan2\", null);\n    return BinaryOps;\n}());\nexport { BinaryOps };\n//# sourceMappingURL=binary_ops.js.map","var __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\n};\nimport { doc } from '../doc';\nimport { ENV } from '../environment';\nimport * as util from '../util';\nimport * as broadcast_util from './broadcast_util';\nimport { operation } from './operation';\nvar CompareOps = (function () {\n    function CompareOps() {\n    }\n    CompareOps.notEqual = function (a, b) {\n        util.assertArgumentsAreTensors({ a: a, b: b }, 'notEqual');\n        util.assertTypesMatch(a, b);\n        broadcast_util.assertAndGetBroadcastShape(a.shape, b.shape);\n        return ENV.engine.runKernel(function (backend) { return backend.notEqual(a, b); }, { a: a, b: b });\n    };\n    CompareOps.notEqualStrict = function (a, b) {\n        util.assertShapesMatch(a.shape, b.shape, 'Error in notEqualStrict: ');\n        return a.notEqual(b);\n    };\n    CompareOps.less = function (a, b) {\n        util.assertArgumentsAreTensors({ a: a, b: b }, 'less');\n        util.assertTypesMatch(a, b);\n        broadcast_util.assertAndGetBroadcastShape(a.shape, b.shape);\n        return ENV.engine.runKernel(function (backend) { return backend.less(a, b); }, { a: a, b: b });\n    };\n    CompareOps.lessStrict = function (a, b) {\n        util.assertShapesMatch(a.shape, b.shape, 'Error in lessStrict: ');\n        return a.less(b);\n    };\n    CompareOps.equal = function (a, b) {\n        util.assertArgumentsAreTensors({ a: a, b: b }, 'equal');\n        util.assertTypesMatch(a, b);\n        broadcast_util.assertAndGetBroadcastShape(a.shape, b.shape);\n        return ENV.engine.runKernel(function (backend) { return backend.equal(a, b); }, { a: a, b: b });\n    };\n    CompareOps.equalStrict = function (a, b) {\n        util.assertShapesMatch(a.shape, b.shape, 'Error in equalStrict: ');\n        return a.equal(b);\n    };\n    CompareOps.lessEqual = function (a, b) {\n        util.assertArgumentsAreTensors({ a: a, b: b }, 'lessEqual');\n        util.assertTypesMatch(a, b);\n        broadcast_util.assertAndGetBroadcastShape(a.shape, b.shape);\n        return ENV.engine.runKernel(function (backend) { return backend.lessEqual(a, b); }, { a: a, b: b });\n    };\n    CompareOps.lessEqualStrict = function (a, b) {\n        util.assertShapesMatch(a.shape, b.shape, 'Error in lessEqualStrict: ');\n        return a.lessEqual(b);\n    };\n    CompareOps.greater = function (a, b) {\n        util.assertArgumentsAreTensors({ a: a, b: b }, 'greater');\n        util.assertTypesMatch(a, b);\n        broadcast_util.assertAndGetBroadcastShape(a.shape, b.shape);\n        return ENV.engine.runKernel(function (backend) { return backend.greater(a, b); }, { a: a, b: b });\n    };\n    CompareOps.greaterStrict = function (a, b) {\n        util.assertShapesMatch(a.shape, b.shape, 'Error in greaterStrict: ');\n        return a.greater(b);\n    };\n    CompareOps.greaterEqual = function (a, b) {\n        util.assertArgumentsAreTensors({ a: a, b: b }, 'greaterEqual');\n        util.assertTypesMatch(a, b);\n        broadcast_util.assertAndGetBroadcastShape(a.shape, b.shape);\n        return ENV.engine.runKernel(function (backend) { return backend.greaterEqual(a, b); }, { a: a, b: b });\n    };\n    CompareOps.greaterEqualStrict = function (a, b) {\n        util.assertShapesMatch(a.shape, b.shape, 'Error in greaterEqualStrict: ');\n        return a.greaterEqual(b);\n    };\n    __decorate([\n        doc({ heading: 'Operations', subheading: 'Logical' }),\n        operation\n    ], CompareOps, \"notEqual\", null);\n    __decorate([\n        operation\n    ], CompareOps, \"notEqualStrict\", null);\n    __decorate([\n        doc({ heading: 'Operations', subheading: 'Logical' }),\n        operation\n    ], CompareOps, \"less\", null);\n    __decorate([\n        operation\n    ], CompareOps, \"lessStrict\", null);\n    __decorate([\n        doc({ heading: 'Operations', subheading: 'Logical' }),\n        operation\n    ], CompareOps, \"equal\", null);\n    __decorate([\n        operation\n    ], CompareOps, \"equalStrict\", null);\n    __decorate([\n        doc({ heading: 'Operations', subheading: 'Logical' }),\n        operation\n    ], CompareOps, \"lessEqual\", null);\n    __decorate([\n        operation\n    ], CompareOps, \"lessEqualStrict\", null);\n    __decorate([\n        doc({ heading: 'Operations', subheading: 'Logical' }),\n        operation\n    ], CompareOps, \"greater\", null);\n    __decorate([\n        operation\n    ], CompareOps, \"greaterStrict\", null);\n    __decorate([\n        doc({ heading: 'Operations', subheading: 'Logical' }),\n        operation\n    ], CompareOps, \"greaterEqual\", null);\n    __decorate([\n        operation\n    ], CompareOps, \"greaterEqualStrict\", null);\n    return CompareOps;\n}());\nexport { CompareOps };\n//# sourceMappingURL=compare.js.map","import * as util from '../util';\nexport function computePool2DInfo(inShape, filterSize, strides, pad, roundingMode, dataFormat) {\n    if (dataFormat === void 0) { dataFormat = 'channelsLast'; }\n    var _a = parseTupleParam(filterSize), filterHeight = _a[0], filterWidth = _a[1];\n    var filterShape;\n    if (dataFormat === 'channelsLast') {\n        filterShape = [filterHeight, filterWidth, inShape[3], inShape[3]];\n    }\n    else if (dataFormat === 'channelsFirst') {\n        filterShape = [filterHeight, filterWidth, inShape[1], inShape[1]];\n    }\n    else {\n        throw new Error(\"Unknown dataFormat \" + dataFormat);\n    }\n    var dilations = 1;\n    return computeConv2DInfo(inShape, filterShape, strides, dilations, pad, roundingMode, false, dataFormat);\n}\nexport function computeConv2DInfo(inShape, filterShape, strides, dilations, pad, roundingMode, depthwise, dataFormat) {\n    if (depthwise === void 0) { depthwise = false; }\n    if (dataFormat === void 0) { dataFormat = 'channelsLast'; }\n    var _a = [-1, -1, -1, -1], batchSize = _a[0], inHeight = _a[1], inWidth = _a[2], inChannels = _a[3];\n    if (dataFormat === 'channelsLast') {\n        batchSize = inShape[0], inHeight = inShape[1], inWidth = inShape[2], inChannels = inShape[3];\n    }\n    else if (dataFormat === 'channelsFirst') {\n        batchSize = inShape[0], inChannels = inShape[1], inHeight = inShape[2], inWidth = inShape[3];\n    }\n    else {\n        throw new Error(\"Unknown dataFormat \" + dataFormat);\n    }\n    var filterHeight = filterShape[0], filterWidth = filterShape[1], filterChannels = filterShape[3];\n    var _b = parseTupleParam(strides), strideHeight = _b[0], strideWidth = _b[1];\n    var _c = parseTupleParam(dilations), dilationHeight = _c[0], dilationWidth = _c[1];\n    var effectiveFilterHeight = getEffectiveFilterSize(filterHeight, dilationHeight);\n    var effectiveFilterWidth = getEffectiveFilterSize(filterWidth, dilationWidth);\n    var _d = getPadAndOutInfo(pad, inHeight, inWidth, strideHeight, strideWidth, effectiveFilterHeight, effectiveFilterWidth, roundingMode), padInfo = _d.padInfo, outHeight = _d.outHeight, outWidth = _d.outWidth;\n    var outChannels = depthwise ? filterChannels * inChannels : filterChannels;\n    var outShape;\n    if (dataFormat === 'channelsFirst') {\n        outShape = [batchSize, outChannels, outHeight, outWidth];\n    }\n    else if (dataFormat === 'channelsLast') {\n        outShape = [batchSize, outHeight, outWidth, outChannels];\n    }\n    return {\n        batchSize: batchSize,\n        dataFormat: dataFormat,\n        inHeight: inHeight,\n        inWidth: inWidth,\n        inChannels: inChannels,\n        outHeight: outHeight,\n        outWidth: outWidth,\n        outChannels: outChannels,\n        padInfo: padInfo,\n        strideHeight: strideHeight,\n        strideWidth: strideWidth,\n        filterHeight: filterHeight,\n        filterWidth: filterWidth,\n        dilationHeight: dilationHeight,\n        dilationWidth: dilationWidth,\n        inShape: inShape,\n        outShape: outShape,\n        filterShape: filterShape\n    };\n}\nfunction computeOutputShape3D(inShape, fieldSize, outDepth, stride, zeroPad, roundingMode) {\n    if (zeroPad == null) {\n        zeroPad = computeDefaultPad(inShape, fieldSize, stride);\n    }\n    var inputRows = inShape[0];\n    var inputCols = inShape[1];\n    var outputRows = conditionalRound((inputRows - fieldSize + 2 * zeroPad) / stride + 1, roundingMode);\n    util.assert(util.isInt(outputRows), \"The output # of rows (\" + outputRows + \") must be an integer. Change the \" +\n        \"stride and/or zero pad parameters\");\n    var outputCols = conditionalRound((inputCols - fieldSize + 2 * zeroPad) / stride + 1, roundingMode);\n    util.assert(util.isInt(outputCols), \"The output # of columns (\" + outputCols + \") must be an integer. Change \" +\n        \"the stride and/or zero pad parameters\");\n    return [outputRows, outputCols, outDepth];\n}\nexport function computeDefaultPad(inputShape, fieldSize, stride, dilation) {\n    if (dilation === void 0) { dilation = 1; }\n    var effectiveFieldSize = getEffectiveFilterSize(fieldSize, dilation);\n    return Math.floor((inputShape[0] * (stride - 1) - stride + effectiveFieldSize) / 2);\n}\nfunction parseTupleParam(param) {\n    return typeof param === 'number' ? [param, param] : param;\n}\nfunction getEffectiveFilterSize(filterSize, dilation) {\n    if (dilation <= 1) {\n        return filterSize;\n    }\n    return filterSize + (filterSize - 1) * (dilation - 1);\n}\nfunction getPadAndOutInfo(pad, inHeight, inWidth, strideHeight, strideWidth, filterHeight, filterWidth, roundingMode) {\n    var padInfo;\n    var outHeight;\n    var outWidth;\n    if (typeof pad === 'number') {\n        var padType = (pad === 0) ? 'VALID' : 'NUMBER';\n        padInfo = { top: pad, bottom: pad, left: pad, right: pad, type: padType };\n        var outShape = computeOutputShape3D([inHeight, inWidth, 1], filterHeight, 1, strideHeight, pad, roundingMode);\n        outHeight = outShape[0];\n        outWidth = outShape[1];\n    }\n    else if (pad === 'same') {\n        outHeight = Math.ceil(inHeight / strideHeight);\n        outWidth = Math.ceil(inWidth / strideWidth);\n        var padAlongHeight = (outHeight - 1) * strideHeight + filterHeight - inHeight;\n        var padAlongWidth = (outWidth - 1) * strideWidth + filterWidth - inWidth;\n        var top_1 = Math.floor(padAlongHeight / 2);\n        var bottom = padAlongHeight - top_1;\n        var left = Math.floor(padAlongWidth / 2);\n        var right = padAlongWidth - left;\n        padInfo = { top: top_1, bottom: bottom, left: left, right: right, type: 'SAME' };\n    }\n    else if (pad === 'valid') {\n        padInfo = { top: 0, bottom: 0, left: 0, right: 0, type: 'VALID' };\n        outHeight = Math.ceil((inHeight - filterHeight + 1) / strideHeight);\n        outWidth = Math.ceil((inWidth - filterWidth + 1) / strideWidth);\n    }\n    else {\n        throw Error(\"Unknown padding parameter: \" + pad);\n    }\n    return { padInfo: padInfo, outHeight: outHeight, outWidth: outWidth };\n}\nfunction conditionalRound(value, roundingMode) {\n    if (!roundingMode) {\n        return value;\n    }\n    switch (roundingMode) {\n        case 'round':\n            return Math.round(value);\n        case 'ceil':\n            return Math.ceil(value);\n        case 'floor':\n            return Math.floor(value);\n        default:\n            throw new Error(\"Unknown roundingMode \" + roundingMode);\n    }\n}\n//# sourceMappingURL=conv_util.js.map","var __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\n};\nimport { doc } from '../doc';\nimport { ENV } from '../environment';\nimport * as util from '../util';\nimport * as conv_util from './conv_util';\nimport { operation } from './operation';\nvar ConvOps = (function () {\n    function ConvOps() {\n    }\n    ConvOps.conv1d = function (x, filter, stride, pad, dataFormat, dilation, dimRoundingMode) {\n        if (dataFormat === void 0) { dataFormat = 'NWC'; }\n        if (dilation === void 0) { dilation = 1; }\n        util.assertArgumentsAreTensors({ x: x, filter: filter }, 'conv1d');\n        var x3D = x;\n        var reshapedTo3D = false;\n        if (x.rank === 2) {\n            reshapedTo3D = true;\n            x3D = x.as3D(1, x.shape[0], x.shape[1]);\n        }\n        util.assert(x3D.rank === 3, \"Error in conv1d: input must be rank 3, but got rank \" + x3D.rank + \".\");\n        util.assert(filter.rank === 3, \"Error in conv1d: filter must be rank 3, but got rank \" +\n            (filter.rank + \".\"));\n        if (dimRoundingMode != null) {\n            util.assert(util.isInt(pad), \"Error in conv1d: pad must be an integer when using, \" +\n                (\"dimRoundingMode \" + dimRoundingMode + \" but got pad \" + pad + \".\"));\n        }\n        util.assert(x3D.shape[2] === filter.shape[1], \"Error in conv1d: depth of input (\" + x3D.shape[2] + \") must match  \" +\n            (\"input depth for filter \" + filter.shape[1] + \".\"));\n        util.assert(eitherStridesOrDilationsAreOne(stride, dilation), 'Error in conv1D: Either stride or dilation must be 1.' +\n            (\"Got stride \" + stride + \" and dilation '\" + dilation + \"'\"));\n        util.assert(dataFormat === 'NWC', \"Error in conv1d: got dataFormat of \" + dataFormat + \" but only NWC is currently supported.\");\n        var filter4D = filter.as4D(1, filter.shape[0], filter.shape[1], filter.shape[2]);\n        var input4D = x3D.as4D(x3D.shape[0], 1, x3D.shape[1], x3D.shape[2]);\n        var strides = [1, stride];\n        var dilations = [1, dilation];\n        var conv2dDataFormat = 'NHWC';\n        var res = ConvOps.conv2d(input4D, filter4D, strides, pad, conv2dDataFormat, dilations, dimRoundingMode);\n        if (reshapedTo3D) {\n            return res.as2D(res.shape[2], res.shape[3]);\n        }\n        return res.as3D(res.shape[0], res.shape[2], res.shape[3]);\n    };\n    ConvOps.conv2d = function (x, filter, strides, pad, dataFormat, dilations, dimRoundingMode) {\n        if (dataFormat === void 0) { dataFormat = 'NHWC'; }\n        if (dilations === void 0) { dilations = [1, 1]; }\n        util.assertArgumentsAreTensors({ x: x, filter: filter }, 'conv2d');\n        var x4D = x;\n        var reshapedTo4D = false;\n        if (x.rank === 3) {\n            reshapedTo4D = true;\n            x4D = x.as4D(1, x.shape[0], x.shape[1], x.shape[2]);\n        }\n        util.assert(x4D.rank === 4, \"Error in conv2d: input must be rank 4, but got rank \" + x4D.rank + \".\");\n        util.assert(filter.rank === 4, \"Error in conv2d: filter must be rank 4, but got rank \" +\n            (filter.rank + \".\"));\n        if (dimRoundingMode != null) {\n            util.assert(util.isInt(pad), \"Error in conv2d: pad must be an integer when using, \" +\n                (\"dimRoundingMode \" + dimRoundingMode + \" but got pad \" + pad + \".\"));\n        }\n        util.assert(x4D.shape[3] === filter.shape[2], \"Error in conv2d: depth of input (\" + x4D.shape[3] + \") must match  \" +\n            (\"input depth for filter \" + filter.shape[2] + \".\"));\n        util.assert(eitherStridesOrDilationsAreOne(strides, dilations), 'Error in conv2D: Either strides or dilations must be 1.' +\n            (\"Got strides \" + strides + \" and dilations '\" + dilations + \"'\"));\n        util.assert(dataFormat === 'NHWC', \"Error in conv2d: got dataFormat of \" + dataFormat + \" but only NHWC is currently supported.\");\n        var convInfo = conv_util.computeConv2DInfo(x4D.shape, filter.shape, strides, dilations, pad, dimRoundingMode);\n        var grad = function (dy) {\n            util.assert(tupleValuesAreOne(dilations), 'Error in gradient of conv2D: dilation rates greater than 1 are not' +\n                (\"yet supported in gradients. Got dilations '\" + dilations + \"'\"));\n            return {\n                x: function () { return ConvOps.conv2dDerInput(x4D.shape, dy, filter, strides, pad); },\n                filter: function () {\n                    return ConvOps.conv2dDerFilter(x4D, dy, filter.shape, strides, pad);\n                }\n            };\n        };\n        var res = ENV.engine.runKernel(function (backend) { return backend.conv2d(x4D, filter, convInfo); }, { x: x4D, filter: filter }, grad);\n        if (reshapedTo4D) {\n            return res.as3D(res.shape[1], res.shape[2], res.shape[3]);\n        }\n        return res;\n    };\n    ConvOps.conv2dDerInput = function (xShape, dy, filter, strides, pad, dimRoundingMode) {\n        util.assertArgumentsAreTensors({ dy: dy, filter: filter }, 'conv2dDerInput');\n        util.assert(xShape.length === dy.rank, \"Length of inShape \" +\n            (\"(\" + xShape.length + \") and rank of dy (\" + dy.rank + \") must match\"));\n        var xShape4D = xShape;\n        var dy4D = dy;\n        var reshapedTo4D = false;\n        if (dy.rank === 3) {\n            reshapedTo4D = true;\n            dy4D = dy.as4D(1, dy.shape[0], dy.shape[1], dy.shape[2]);\n            xShape4D = [1, xShape[0], xShape[1], xShape[2]];\n        }\n        var inDepth = xShape4D[3];\n        var outDepth = dy4D.shape[3];\n        util.assert(xShape4D.length === 4, \"Error in conv2dDerInput: inShape must be length 4, but got length \" +\n            (xShape4D.length + \".\"));\n        util.assert(dy4D.rank === 4, \"Error in conv2dDerInput: dy must be rank 4, but got \" +\n            (\"rank \" + dy4D.rank));\n        util.assert(filter.rank === 4, \"Error in conv2dDerInput: filter must be rank 4, but got \" +\n            (\"rank \" + filter.rank));\n        util.assert(inDepth === filter.shape[2], \"Error in conv2dDerInput: depth of input (\" + inDepth + \") must \" +\n            (\"match input depth for filter \" + filter.shape[2] + \".\"));\n        util.assert(outDepth === filter.shape[3], \"Error in conv2dDerInput: depth of output (\" + outDepth + \") must\" +\n            (\"match output depth for filter \" + filter.shape[3] + \".\"));\n        if (dimRoundingMode != null) {\n            util.assert(util.isInt(pad), \"Error in conv2dDerInput: pad must be an integer when using, \" +\n                (\"dimRoundingMode \" + dimRoundingMode + \" but got pad \" + pad + \".\"));\n        }\n        var dilations = 1;\n        var convInfo = conv_util.computeConv2DInfo(xShape4D, filter.shape, strides, dilations, pad, dimRoundingMode);\n        var res = ENV.engine.runKernel(function (backend) { return backend.conv2dDerInput(dy4D, filter, convInfo); }, { dy4D: dy4D });\n        if (reshapedTo4D) {\n            return res.as3D(res.shape[1], res.shape[2], res.shape[3]);\n        }\n        return res;\n    };\n    ConvOps.conv2dDerFilter = function (x, dy, filterShape, strides, pad, dimRoundingMode) {\n        util.assertArgumentsAreTensors({ x: x, dy: dy }, 'conv2dDerFilter');\n        var x4D = x;\n        if (x.rank === 3) {\n            x4D = x.as4D(1, x.shape[0], x.shape[1], x.shape[2]);\n        }\n        var dy4D = dy;\n        if (dy4D.rank === 3) {\n            dy4D = dy.as4D(1, dy.shape[0], dy.shape[1], dy.shape[2]);\n        }\n        util.assert(x4D.rank === 4, \"Error in conv2dDerFilter: input must be rank 4, but got shape \" +\n            (x4D.shape + \".\"));\n        util.assert(dy4D.rank === 4, \"Error in conv2dDerFilter: dy must be rank 4, but got shape \" +\n            (dy4D.shape + \".\"));\n        util.assert(filterShape.length === 4, \"Error in conv2dDerFilter: filterShape must be length 4, but got \" +\n            (filterShape + \".\"));\n        util.assert(x4D.shape[3] === filterShape[2], \"Error in conv2dDerFilter: depth of input \" + x4D.shape[3] + \") must \" +\n            (\"match input depth in filter (\" + filterShape[2] + \".\"));\n        util.assert(dy4D.shape[3] === filterShape[3], \"Error in conv2dDerFilter: depth of dy (\" + dy4D.shape[3] + \") must \" +\n            (\"match output depth for filter (\" + filterShape[3] + \").\"));\n        if (dimRoundingMode != null) {\n            util.assert(util.isInt(pad), \"Error in conv2dDerFilter: pad must be an integer when using, \" +\n                (\"dimRoundingMode \" + dimRoundingMode + \" but got pad \" + pad + \".\"));\n        }\n        var dilations = 1;\n        var convInfo = conv_util.computeConv2DInfo(x4D.shape, filterShape, strides, dilations, pad, dimRoundingMode);\n        return ENV.engine.runKernel(function (backend) { return backend.conv2dDerFilter(x4D, dy4D, convInfo); }, { x4D: x4D, dy4D: dy4D });\n    };\n    ConvOps.conv2dTranspose = function (x, filter, outputShape, strides, pad, dimRoundingMode) {\n        util.assertArgumentsAreTensors({ x: x, filter: filter }, 'conv2dTranspose');\n        return ConvOps.conv2dDerInput(outputShape, x, filter, strides, pad, dimRoundingMode);\n    };\n    ConvOps.depthwiseConv2d = function (x, filter, strides, pad, dataFormat, dilations, dimRoundingMode) {\n        if (dataFormat === void 0) { dataFormat = 'NHWC'; }\n        if (dilations === void 0) { dilations = [1, 1]; }\n        util.assertArgumentsAreTensors({ x: x, filter: filter }, 'depthwiseConv2d');\n        var x4D = x;\n        var reshapedTo4D = false;\n        if (x.rank === 3) {\n            reshapedTo4D = true;\n            x4D = x.as4D(1, x.shape[0], x.shape[1], x.shape[2]);\n        }\n        util.assert(x4D.rank === 4, \"Error in depthwiseConv2D: input must be rank 4, but got \" +\n            (\"rank \" + x4D.rank + \".\"));\n        util.assert(filter.rank === 4, \"Error in depthwiseConv2D: filter must be rank 4, but got rank \" +\n            (filter.rank + \".\"));\n        util.assert(x4D.shape[3] === filter.shape[2], \"Error in depthwiseConv2D: number of input channels \" +\n            (\"(\" + x4D.shape[3] + \") must match the inChannels dimension in \") +\n            (\"filter \" + filter.shape[2] + \".\"));\n        if (dilations == null) {\n            dilations = [1, 1];\n        }\n        util.assert(eitherStridesOrDilationsAreOne(strides, dilations), 'Error in depthwiseConv2d: Either strides or dilations must be 1.' +\n            (\"Got strides \" + strides + \" and dilations '\" + dilations + \"'\"));\n        if (dimRoundingMode != null) {\n            util.assert(util.isInt(pad), \"Error in depthwiseConv2D: pad must be an integer when using, \" +\n                (\"dimRoundingMode \" + dimRoundingMode + \" but got pad \" + pad + \".\"));\n        }\n        var convInfo = conv_util.computeConv2DInfo(x4D.shape, filter.shape, strides, dilations, pad, dimRoundingMode, true);\n        var res = ENV.engine.runKernel(function (backend) { return backend.depthwiseConv2D(x4D, filter, convInfo); }, { x4D: x4D, filter: filter });\n        if (reshapedTo4D) {\n            return res.as3D(res.shape[1], res.shape[2], res.shape[3]);\n        }\n        return res;\n    };\n    ConvOps.separableConv2d = function (x, depthwiseFilter, pointwiseFilter, strides, pad, dilation, dataFormat) {\n        if (dilation === void 0) { dilation = [1, 1]; }\n        if (dataFormat === void 0) { dataFormat = 'NHWC'; }\n        util.assertArgumentsAreTensors({ x: x, depthwiseFilter: depthwiseFilter, pointwiseFilter: pointwiseFilter }, 'separableConv2d');\n        var x4D = x;\n        var reshapedTo4D = false;\n        if (x.rank === 3) {\n            reshapedTo4D = true;\n            x4D = x.as4D(1, x.shape[0], x.shape[1], x.shape[2]);\n        }\n        if (dataFormat === 'NCHW') {\n            throw new Error('separableConv2d currently does not support dataFormat NCHW; only ' +\n                'NHWC is supported');\n        }\n        util.assert(x4D.rank === 4, \"Error in separableConv2d: input must be rank 4, but got \" +\n            (\"rank \" + x4D.rank + \".\"));\n        util.assert(depthwiseFilter.rank === 4, \"Error in separableConv2d: depthwise filter must be rank 4, but got \" +\n            (\"rank \" + depthwiseFilter.rank + \".\"));\n        util.assert(pointwiseFilter.rank === 4, \"Error in separableConv2d: pointwise filter must be rank 4, but got \" +\n            (\"rank \" + depthwiseFilter.rank + \".\"));\n        util.assert(pointwiseFilter.shape[0] === 1, \"Error in separableConv2d: the first dimension of pointwise filter \" +\n            (\" must be 1, but got \" + pointwiseFilter.shape[0] + \".\"));\n        util.assert(pointwiseFilter.shape[1] === 1, \"Error in separableConv2d: the second dimension of pointwise filter \" +\n            (\" must be 1, but got \" + pointwiseFilter.shape[1] + \".\"));\n        var inChannels = depthwiseFilter.shape[2];\n        var channelMultiplier = depthwiseFilter.shape[3];\n        util.assert(pointwiseFilter.shape[2] === inChannels * channelMultiplier, \"Error in separableConv2d: the third dimension of pointwise filter \" +\n            (\"must be \" + inChannels * channelMultiplier + \", \") +\n            (\"but got \" + pointwiseFilter.shape[2] + \".\"));\n        var depthwise = ConvOps.depthwiseConv2d(x4D, depthwiseFilter, strides, pad, dataFormat, dilation);\n        var pointwiseStride = 1;\n        var res = ConvOps.conv2d(depthwise, pointwiseFilter, pointwiseStride, 'valid', dataFormat);\n        if (reshapedTo4D) {\n            return res.as3D(res.shape[1], res.shape[2], res.shape[3]);\n        }\n        return res;\n    };\n    __decorate([\n        doc({ heading: 'Operations', subheading: 'Convolution' }),\n        operation\n    ], ConvOps, \"conv1d\", null);\n    __decorate([\n        doc({ heading: 'Operations', subheading: 'Convolution' }),\n        operation\n    ], ConvOps, \"conv2d\", null);\n    __decorate([\n        operation\n    ], ConvOps, \"conv2dDerInput\", null);\n    __decorate([\n        operation\n    ], ConvOps, \"conv2dDerFilter\", null);\n    __decorate([\n        doc({ heading: 'Operations', subheading: 'Convolution' }),\n        operation\n    ], ConvOps, \"conv2dTranspose\", null);\n    __decorate([\n        doc({ heading: 'Operations', subheading: 'Convolution' }),\n        operation\n    ], ConvOps, \"depthwiseConv2d\", null);\n    __decorate([\n        doc({ heading: 'Operations', subheading: 'Convolution' }),\n        operation\n    ], ConvOps, \"separableConv2d\", null);\n    return ConvOps;\n}());\nexport { ConvOps };\nfunction parseTupleParam(param) {\n    return typeof param === 'number' ? [param, param] : param;\n}\nfunction tupleValuesAreOne(param) {\n    var _a = parseTupleParam(param), dimA = _a[0], dimB = _a[1];\n    return dimA === 1 && dimB === 1;\n}\nfunction eitherStridesOrDilationsAreOne(strides, dilations) {\n    return tupleValuesAreOne(strides) || tupleValuesAreOne(dilations);\n}\n//# sourceMappingURL=conv.js.map","var __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\n};\nimport { doc } from '../doc';\nimport { ENV } from '../environment';\nimport * as util from '../util';\nimport { operation } from './operation';\nvar ImageOps = (function () {\n    function ImageOps() {\n    }\n    ImageOps.resizeBilinear = function (images, size, alignCorners) {\n        if (alignCorners === void 0) { alignCorners = false; }\n        util.assertArgumentsAreTensors({ images: images }, 'resizeBilinear');\n        util.assert(images.rank === 3 || images.rank === 4, \"Error in resizeBilinear: x must be rank 3 or 4, but got \" +\n            (\"rank \" + images.rank + \".\"));\n        util.assert(size.length === 2, \"Error in resizeBilinear: new shape must 2D, but got shape \" +\n            (size + \".\"));\n        var batchImages = images;\n        var reshapedTo4D = false;\n        if (images.rank === 3) {\n            reshapedTo4D = true;\n            batchImages =\n                images.as4D(1, images.shape[0], images.shape[1], images.shape[2]);\n        }\n        var newHeight = size[0], newWidth = size[1];\n        var forward = function (backend, save) {\n            return backend.resizeBilinear(batchImages, newHeight, newWidth, alignCorners);\n        };\n        var backward = function (dy, saved) {\n            return {\n                batchImages: function () { return ENV.engine.runKernel(function (backend) {\n                    return backend.resizeBilinearBackprop(dy, batchImages, alignCorners);\n                }, {}); }\n            };\n        };\n        var res = ENV.engine.runKernel(forward, { batchImages: batchImages }, backward);\n        if (reshapedTo4D) {\n            return res.as3D(res.shape[1], res.shape[2], res.shape[3]);\n        }\n        return res;\n    };\n    ImageOps.resizeNearestNeighbor = function (images, size, alignCorners) {\n        if (alignCorners === void 0) { alignCorners = false; }\n        util.assertArgumentsAreTensors({ images: images }, 'resizeNearestNeighbor');\n        util.assert(images.rank === 3 || images.rank === 4, \"Error in resizeNearestNeighbor: x must be rank 3 or 4, but got \" +\n            (\"rank \" + images.rank + \".\"));\n        util.assert(size.length === 2, \"Error in resizeNearestNeighbor: new shape must 2D, but got shape \" +\n            (size + \".\"));\n        util.assert(images.dtype === 'float32' || images.dtype === 'int32', '`images` must have `int32` or `float32` as dtype');\n        var batchImages = images;\n        var reshapedTo4D = false;\n        if (images.rank === 3) {\n            reshapedTo4D = true;\n            batchImages =\n                images.as4D(1, images.shape[0], images.shape[1], images.shape[2]);\n        }\n        var newHeight = size[0], newWidth = size[1];\n        var res = ENV.engine.runKernel(function (backend) { return backend.resizeNearestNeighbor(batchImages, newHeight, newWidth, alignCorners); }, { batchImages: batchImages });\n        if (reshapedTo4D) {\n            return res.as3D(res.shape[1], res.shape[2], res.shape[3]);\n        }\n        return res;\n    };\n    __decorate([\n        doc({ heading: 'Operations', subheading: 'Images', namespace: 'image' }),\n        operation\n    ], ImageOps, \"resizeBilinear\", null);\n    __decorate([\n        doc({ heading: 'Operations', subheading: 'Images', namespace: 'image' }),\n        operation\n    ], ImageOps, \"resizeNearestNeighbor\", null);\n    return ImageOps;\n}());\nexport { ImageOps };\n//# sourceMappingURL=image_ops.js.map","var __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\n};\nimport { doc } from './doc';\nimport { ENV } from './environment';\nimport { extractTensorsFromAny } from './util';\nvar Tracking = (function () {\n    function Tracking() {\n    }\n    Tracking.tidy = function (nameOrFn, fn, gradMode) {\n        if (gradMode === void 0) { gradMode = false; }\n        var name = null;\n        if (fn == null) {\n            if (typeof nameOrFn !== 'function') {\n                throw new Error('Please provide a function to tidy()');\n            }\n            fn = nameOrFn;\n        }\n        else {\n            if (typeof nameOrFn !== 'string' && !(nameOrFn instanceof String)) {\n                throw new Error('When calling with two arguments, the first argument ' +\n                    'to tidy() must be a string');\n            }\n            if (typeof fn !== 'function') {\n                throw new Error('When calling with two arguments, the 2nd argument ' +\n                    'to tidy() must be a function');\n            }\n            name = nameOrFn;\n        }\n        ENV.engine.startScope(name, gradMode);\n        var result = fn();\n        if (result instanceof Promise) {\n            console.error('Cannot return a Promise inside of tidy.');\n        }\n        ENV.engine.endScope(result, gradMode);\n        return result;\n    };\n    Tracking.dispose = function (container) {\n        var tensors = extractTensorsFromAny(container);\n        tensors.forEach(function (tensor) { return tensor.dispose(); });\n    };\n    Tracking.keep = function (result) {\n        return ENV.engine.keep(result);\n    };\n    Tracking.time = function (f) {\n        return ENV.engine.time(f);\n    };\n    __decorate([\n        doc({ heading: 'Performance', subheading: 'Memory' })\n    ], Tracking, \"tidy\", null);\n    __decorate([\n        doc({ heading: 'Performance', subheading: 'Memory' })\n    ], Tracking, \"keep\", null);\n    __decorate([\n        doc({ heading: 'Performance', subheading: 'Timing' })\n    ], Tracking, \"time\", null);\n    return Tracking;\n}());\nexport { Tracking };\n//# sourceMappingURL=tracking.js.map","var __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\n};\nimport { doc } from '../doc';\nimport { Tracking } from '../tracking';\nimport { assert } from '../util';\nimport { operation } from './operation';\nimport { norm, split, squeeze, stack, sum } from './ops';\nvar LinalgOps = (function () {\n    function LinalgOps() {\n    }\n    LinalgOps.gramSchmidt = function (xs) {\n        var inputIsTensor2D;\n        if (Array.isArray(xs)) {\n            inputIsTensor2D = false;\n            assert(xs != null && xs.length > 0, 'Gram-Schmidt process: input must not be null, undefined, or empty');\n            var dim = xs[0].shape[0];\n            for (var i = 1; i < xs.length; ++i) {\n                assert(xs[i].shape[0] === dim, 'Gram-Schmidt: Non-unique lengths found in the input vectors: ' +\n                    (\"(\" + xs[i].shape[0] + \" vs. \" + dim + \")\"));\n            }\n        }\n        else {\n            inputIsTensor2D = true;\n            xs = split(xs, xs.shape[0], 0).map(function (x) { return squeeze(x, [0]); });\n        }\n        assert(xs.length <= xs[0].shape[0], \"Gram-Schmidt: Number of vectors (\" + xs.length + \") exceeds \" +\n            (\"number of dimensions (\" + xs[0].shape[0] + \").\"));\n        var ys = [];\n        var xs1d = xs;\n        var _loop_1 = function (i) {\n            ys.push(Tracking.tidy(function () {\n                var x = xs1d[i];\n                if (i > 0) {\n                    for (var j = 0; j < i; ++j) {\n                        var proj = sum(ys[j].mulStrict(x)).mul(ys[j]);\n                        x = x.sub(proj);\n                    }\n                }\n                return x.div(norm(x, 'euclidean'));\n            }));\n        };\n        for (var i = 0; i < xs.length; ++i) {\n            _loop_1(i);\n        }\n        if (inputIsTensor2D) {\n            return stack(ys, 0);\n        }\n        else {\n            return ys;\n        }\n    };\n    __decorate([\n        doc({ heading: 'Operations', subheading: 'Linear Algebra' }),\n        operation\n    ], LinalgOps, \"gramSchmidt\", null);\n    return LinalgOps;\n}());\nexport { LinalgOps };\n//# sourceMappingURL=linalg_ops.js.map","var __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\n};\nimport { doc } from '../doc';\nimport { ENV } from '../environment';\nimport * as types from '../types';\nimport * as util from '../util';\nimport * as broadcast_util from './broadcast_util';\nimport { operation } from './operation';\nvar LogicalOps = (function () {\n    function LogicalOps() {\n    }\n    LogicalOps.logicalNot = function (x) {\n        util.assertArgumentsAreTensors({ x: x }, 'logicalNot');\n        util.assert(x.dtype === 'bool', 'Error Array must be of type bool.');\n        return ENV.engine.runKernel(function (backend) { return backend.logicalNot(x); }, { x: x });\n    };\n    LogicalOps.logicalAnd = function (a, b) {\n        util.assertArgumentsAreTensors({ a: a, b: b }, 'logicalAnd');\n        util.assert(a.dtype === 'bool' && b.dtype === 'bool', 'Error Array must be of type bool.');\n        broadcast_util.assertAndGetBroadcastShape(a.shape, b.shape);\n        return ENV.engine.runKernel(function (backend) { return backend.logicalAnd(a, b); }, { a: a, b: b });\n    };\n    LogicalOps.logicalOr = function (a, b) {\n        util.assertArgumentsAreTensors({ a: a, b: b }, 'logicalOr');\n        util.assert(a.dtype === 'bool' && b.dtype === 'bool', 'Error Array must be of type bool.');\n        broadcast_util.assertAndGetBroadcastShape(a.shape, b.shape);\n        return ENV.engine.runKernel(function (backend) { return backend.logicalOr(a, b); }, { a: a, b: b });\n    };\n    LogicalOps.logicalXor = function (a, b) {\n        util.assertArgumentsAreTensors({ a: a, b: b }, 'logicalXor');\n        util.assert(a.dtype === 'bool' && b.dtype === 'bool', 'Error Array must be of type bool.');\n        broadcast_util.assertAndGetBroadcastShape(a.shape, b.shape);\n        return LogicalOps.logicalOr(a, b).logicalAnd(LogicalOps.logicalAnd(a, b).logicalNot());\n    };\n    LogicalOps.where = function (condition, a, b) {\n        util.assertArgumentsAreTensors({ condition: condition, a: a, b: b }, 'where');\n        util.assert(condition.dtype === 'bool' || a.dtype === 'bool' || b.dtype === 'bool', 'Error Array must be of type bool.');\n        util.assertShapesMatch(a.shape, b.shape, 'Error in where: ');\n        if (condition.rank === 1) {\n            util.assert(condition.shape[0] === a.shape[0], 'The first dimension of `a` must match the size of `condition`.');\n        }\n        else {\n            util.assertShapesMatch(condition.shape, b.shape, 'Error in where: ');\n        }\n        var dtype = types.upcastType(a.dtype, b.dtype);\n        return ENV.engine.runKernel(function (backend) { return backend.where(condition, a, b, dtype); }, { condition: condition, a: a, b: b });\n    };\n    __decorate([\n        doc({ heading: 'Operations', subheading: 'Logical' }),\n        operation\n    ], LogicalOps, \"logicalNot\", null);\n    __decorate([\n        doc({ heading: 'Operations', subheading: 'Logical' }),\n        operation\n    ], LogicalOps, \"logicalAnd\", null);\n    __decorate([\n        doc({ heading: 'Operations', subheading: 'Logical' }),\n        operation\n    ], LogicalOps, \"logicalOr\", null);\n    __decorate([\n        doc({ heading: 'Operations', subheading: 'Logical' }),\n        operation\n    ], LogicalOps, \"logicalXor\", null);\n    __decorate([\n        doc({ heading: 'Operations', subheading: 'Logical' }),\n        operation\n    ], LogicalOps, \"where\", null);\n    return LogicalOps;\n}());\nexport { LogicalOps };\n//# sourceMappingURL=logical_ops.js.map","var __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\n};\nimport { doc } from '../doc';\nimport * as util from '../util';\nimport { operation } from './operation';\nimport * as ops from './ops';\nexport var Reduction;\n(function (Reduction) {\n    Reduction[Reduction[\"NONE\"] = 0] = \"NONE\";\n    Reduction[Reduction[\"MEAN\"] = 1] = \"MEAN\";\n    Reduction[Reduction[\"SUM\"] = 2] = \"SUM\";\n    Reduction[Reduction[\"SUM_BY_NONZERO_WEIGHTS\"] = 3] = \"SUM_BY_NONZERO_WEIGHTS\";\n})(Reduction || (Reduction = {}));\nvar LossOps = (function () {\n    function LossOps() {\n    }\n    LossOps.computeWeightedLoss = function (losses, weights, reduction) {\n        if (reduction === void 0) { reduction = Reduction.SUM_BY_NONZERO_WEIGHTS; }\n        util.assertArgumentsAreTensors({ losses: losses }, 'computeWeightedLoss');\n        if (weights != null) {\n            util.assertArgumentsAreTensors({ weights: weights }, 'computeWeightedLoss');\n        }\n        var weightedLoss = (weights == null) ? losses : losses.mul(weights);\n        if (reduction === Reduction.NONE) {\n            return weightedLoss;\n        }\n        if (reduction === Reduction.SUM) {\n            return weightedLoss.sum();\n        }\n        if (reduction === Reduction.MEAN) {\n            return (weights == null) ? weightedLoss.mean() :\n                weightedLoss.sum().div(weights.sum());\n        }\n        if (reduction === Reduction.SUM_BY_NONZERO_WEIGHTS) {\n            if (weights == null) {\n                return weightedLoss.sum().div(ops.scalar(losses.size));\n            }\n            else {\n                var numNonZeros = weights.notEqual(ops.scalar(0)).sum().toFloat();\n                return weightedLoss.sum().div(numNonZeros);\n            }\n        }\n        throw Error(\"Unknown reduction: \" + reduction);\n    };\n    LossOps.absoluteDifference = function (labels, predictions, weights, reduction) {\n        if (reduction === void 0) { reduction = Reduction.SUM_BY_NONZERO_WEIGHTS; }\n        util.assertArgumentsAreTensors({ labels: labels, predictions: predictions }, 'absoluteDifference');\n        if (weights != null) {\n            util.assertArgumentsAreTensors({ weights: weights }, 'absoluteDifference');\n        }\n        util.assertShapesMatch(labels.shape, predictions.shape, 'Error in absoluteDifference: ');\n        var losses = labels.sub(predictions).abs();\n        return LossOps.computeWeightedLoss(losses, weights, reduction);\n    };\n    LossOps.meanSquaredError = function (labels, predictions, weights, reduction) {\n        if (reduction === void 0) { reduction = Reduction.SUM_BY_NONZERO_WEIGHTS; }\n        util.assertArgumentsAreTensors({ labels: labels, predictions: predictions }, 'meanSquaredError');\n        if (weights != null) {\n            util.assertArgumentsAreTensors({ weights: weights }, 'meanSquaredError');\n        }\n        util.assertShapesMatch(labels.shape, predictions.shape, 'Error in meanSquaredError: ');\n        var losses = labels.squaredDifference(predictions);\n        return LossOps.computeWeightedLoss(losses, weights, reduction);\n    };\n    LossOps.cosineDistance = function (labels, predictions, axis, weights, reduction) {\n        if (reduction === void 0) { reduction = Reduction.SUM_BY_NONZERO_WEIGHTS; }\n        util.assertArgumentsAreTensors({ labels: labels, predictions: predictions }, 'cosineDistance');\n        if (weights != null) {\n            util.assertArgumentsAreTensors({ weights: weights }, 'cosineDistance');\n        }\n        util.assertShapesMatch(labels.shape, predictions.shape, 'Error in cosineDistance: ');\n        var one = ops.scalar(1);\n        var losses = one.sub(labels.mul(predictions).sum(axis, true));\n        return LossOps.computeWeightedLoss(losses, weights, reduction);\n    };\n    LossOps.hingeLoss = function (labels, predictions, weights, reduction) {\n        if (reduction === void 0) { reduction = Reduction.SUM_BY_NONZERO_WEIGHTS; }\n        util.assertArgumentsAreTensors({ labels: labels, predictions: predictions }, 'hingeLoss');\n        if (weights != null) {\n            util.assertArgumentsAreTensors({ weights: weights }, 'hingeLoss');\n        }\n        util.assertShapesMatch(labels.shape, predictions.shape, 'Error in hingeLoss: ');\n        var one = ops.scalar(1);\n        labels = ops.scalar(2).mul(labels).sub(one);\n        var losses = one.sub(labels.mul(predictions)).relu();\n        return LossOps.computeWeightedLoss(losses, weights, reduction);\n    };\n    LossOps.logLoss = function (labels, predictions, weights, epsilon, reduction) {\n        if (epsilon === void 0) { epsilon = 1e-7; }\n        if (reduction === void 0) { reduction = Reduction.SUM_BY_NONZERO_WEIGHTS; }\n        util.assertArgumentsAreTensors({ labels: labels, predictions: predictions }, 'logLoss');\n        if (weights != null) {\n            util.assertArgumentsAreTensors({ weights: weights }, 'logLoss');\n        }\n        util.assertShapesMatch(labels.shape, predictions.shape, 'Error in logLoss: ');\n        var one = ops.scalar(1);\n        var epsilonScalar = ops.scalar(epsilon);\n        var losses = labels.mul(predictions.add(epsilonScalar).log())\n            .neg()\n            .sub(one.sub(labels).mul(one.sub(predictions).add(epsilonScalar).log()));\n        return LossOps.computeWeightedLoss(losses, weights, reduction);\n    };\n    __decorate([\n        doc({ heading: 'Training', subheading: 'Losses', namespace: 'losses' }),\n        operation\n    ], LossOps, \"computeWeightedLoss\", null);\n    __decorate([\n        doc({ heading: 'Training', subheading: 'Losses', namespace: 'losses' }),\n        operation\n    ], LossOps, \"absoluteDifference\", null);\n    __decorate([\n        doc({ heading: 'Training', subheading: 'Losses', namespace: 'losses' }),\n        operation\n    ], LossOps, \"meanSquaredError\", null);\n    __decorate([\n        doc({ heading: 'Training', subheading: 'Losses', namespace: 'losses' }),\n        operation\n    ], LossOps, \"cosineDistance\", null);\n    __decorate([\n        doc({ heading: 'Training', subheading: 'Losses', namespace: 'losses' }),\n        operation\n    ], LossOps, \"hingeLoss\", null);\n    __decorate([\n        doc({ heading: 'Training', subheading: 'Losses', namespace: 'losses' }),\n        operation\n    ], LossOps, \"logLoss\", null);\n    return LossOps;\n}());\nexport { LossOps };\n//# sourceMappingURL=loss_ops.js.map","var __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\n};\nimport { doc } from '../doc';\nimport { ENV } from '../environment';\nimport * as util from '../util';\nimport { operation } from './operation';\nvar LRNOps = (function () {\n    function LRNOps() {\n    }\n    LRNOps.localResponseNormalization = function (x, radius, bias, alpha, beta) {\n        if (radius === void 0) { radius = 5; }\n        if (bias === void 0) { bias = 1; }\n        if (alpha === void 0) { alpha = 1; }\n        if (beta === void 0) { beta = 0.5; }\n        util.assertArgumentsAreTensors({ x: x }, 'localResponseNormalization');\n        util.assert(x.rank === 4 || x.rank === 3, \"Error in localResponseNormalization: x must be rank 3 or 4 but got\\n               rank \" + x.rank + \".\");\n        util.assert(util.isInt(radius), \"Error in localResponseNormalization3D: radius must be an integer\\n                     but got radius \" + radius + \".\");\n        var x4D = x;\n        var reshapedTo4D = false;\n        if (x.rank === 3) {\n            reshapedTo4D = true;\n            x4D = x.as4D(1, x.shape[0], x.shape[1], x.shape[2]);\n        }\n        var res = ENV.engine.runKernel(function (backend) { return backend.localResponseNormalization4D(x4D, radius, bias, alpha, beta); }, { x4D: x4D });\n        if (reshapedTo4D) {\n            return res.as3D(res.shape[1], res.shape[2], res.shape[3]);\n        }\n        else {\n            return res;\n        }\n    };\n    __decorate([\n        doc({ heading: 'Operations', subheading: 'Normalization' }),\n        operation\n    ], LRNOps, \"localResponseNormalization\", null);\n    return LRNOps;\n}());\nexport { LRNOps };\n//# sourceMappingURL=lrn.js.map","var __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\n};\nimport { doc } from '../doc';\nimport * as util from '../util';\nimport { operation } from './operation';\nvar LSTMOps = (function () {\n    function LSTMOps() {\n    }\n    LSTMOps.multiRNNCell = function (lstmCells, data, c, h) {\n        util.assertArgumentsAreTensors({ data: data, c: c, h: h }, 'multiRNNCell');\n        var input = data;\n        var newStates = [];\n        for (var i = 0; i < lstmCells.length; i++) {\n            var output = lstmCells[i](input, c[i], h[i]);\n            newStates.push(output[0]);\n            newStates.push(output[1]);\n            input = output[1];\n        }\n        var newC = [];\n        var newH = [];\n        for (var i = 0; i < newStates.length; i += 2) {\n            newC.push(newStates[i]);\n            newH.push(newStates[i + 1]);\n        }\n        return [newC, newH];\n    };\n    LSTMOps.basicLSTMCell = function (forgetBias, lstmKernel, lstmBias, data, c, h) {\n        util.assertArgumentsAreTensors({ forgetBias: forgetBias, lstmKernel: lstmKernel, lstmBias: lstmBias, data: data, c: c, h: h }, 'basicLSTMCell');\n        var combined = data.concat(h, 1);\n        var weighted = combined.matMul(lstmKernel);\n        var res = weighted.add(lstmBias);\n        var batchSize = res.shape[0];\n        var sliceCols = res.shape[1] / 4;\n        var sliceSize = [batchSize, sliceCols];\n        var i = res.slice([0, 0], sliceSize);\n        var j = res.slice([0, sliceCols], sliceSize);\n        var f = res.slice([0, sliceCols * 2], sliceSize);\n        var o = res.slice([0, sliceCols * 3], sliceSize);\n        var newC = i.sigmoid().mulStrict(j.tanh()).addStrict(c.mulStrict(forgetBias.add(f).sigmoid()));\n        var newH = newC.tanh().mulStrict(o.sigmoid());\n        return [newC, newH];\n    };\n    __decorate([\n        doc({ heading: 'Operations', subheading: 'RNN' }),\n        operation\n    ], LSTMOps, \"multiRNNCell\", null);\n    __decorate([\n        doc({ heading: 'Operations', subheading: 'RNN' }),\n        operation\n    ], LSTMOps, \"basicLSTMCell\", null);\n    return LSTMOps;\n}());\nexport { LSTMOps };\n//# sourceMappingURL=lstm.js.map","var __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\n};\nimport { doc } from '../doc';\nimport { ENV } from '../environment';\nimport * as util from '../util';\nimport { operation } from './operation';\nvar MatmulOps = (function () {\n    function MatmulOps() {\n    }\n    MatmulOps.matMul = function (a, b, transposeA, transposeB) {\n        if (transposeA === void 0) { transposeA = false; }\n        if (transposeB === void 0) { transposeB = false; }\n        util.assertArgumentsAreTensors({ a: a, b: b }, 'matMul');\n        var innerShapeA = transposeA ? a.shape[0] : a.shape[1];\n        var innerShapeB = transposeB ? b.shape[1] : b.shape[0];\n        util.assert(a.rank === 2 && b.rank === 2, \"Error in matMul: inputs must be rank 2, got ranks \" + a.rank +\n            (\" and \" + b.rank + \".\"));\n        util.assert(innerShapeA === innerShapeB, \"Error in matMul: inner shapes (\" + innerShapeA + \") and (\" +\n            (innerShapeB + \") of Tensors with shapes \" + a.shape + \" and \") +\n            (b.shape + \" and transposeA=\" + transposeA) +\n            (\" and transposeB=\" + transposeB + \" must match.\"));\n        var grad = function (dy) {\n            if (!transposeA && !transposeB) {\n                return {\n                    a: function () { return dy.matMul(b.toFloat(), false, true); },\n                    b: function () { return a.toFloat().matMul(dy, true, false); }\n                };\n            }\n            else if (!transposeA && transposeB) {\n                return {\n                    a: function () { return dy.matMul(b.toFloat(), false, false); },\n                    b: function () { return dy.matMul(a.toFloat(), true, false); }\n                };\n            }\n            else if (transposeA && !transposeB) {\n                return {\n                    a: function () { return b.toFloat().matMul(dy, false, true); },\n                    b: function () { return a.toFloat().matMul(dy, false, false); }\n                };\n            }\n            else {\n                return {\n                    a: function () { return b.toFloat().matMul(dy, true, true); },\n                    b: function () { return dy.matMul(a.toFloat(), true, true); }\n                };\n            }\n        };\n        return ENV.engine.runKernel(function (backend) { return backend.matMul(a, b, transposeA, transposeB); }, { a: a, b: b }, grad);\n    };\n    MatmulOps.vectorTimesMatrix = function (v, matrix) {\n        util.assert(v.rank === 1, \"Error in vectorTimesMatrix: first input must be rank 1, but got \" +\n            (\"rank \" + v.rank + \".\"));\n        util.assert(matrix.rank === 2, \"Error in vectorTimesMatrix: second input must be rank 2, but got \" +\n            (\"rank \" + matrix.rank + \".\"));\n        util.assert(v.size === matrix.shape[0], \"Error in vectorTimesMatrix: size of vector (\" + v.size + \") \" +\n            (\"must match first dimension of matrix (\" + matrix.shape[0] + \")\"));\n        return v.as2D(1, -1).matMul(matrix).as1D();\n    };\n    MatmulOps.matrixTimesVector = function (matrix, v) {\n        util.assert(v.rank === 1, \"Error in matrixTimesVector: second input must rank 1, but got \" +\n            (\"rank \" + v.rank + \".\"));\n        util.assert(matrix.rank === 2, \"Error in matrixTimesVector: first input must be a rank 2, but got \" +\n            (\"rank \" + matrix.rank + \".\"));\n        util.assert(v.size === matrix.shape[1], \"Error in matrixTimesVector: size of first rank 1 input \" + v.size + \" \" +\n            \"must match inner dimension of second rank 2 input, but got \" +\n            (\"shape \" + matrix.shape + \".\"));\n        return matrix.matMul(v.as2D(-1, 1)).as1D();\n    };\n    MatmulOps.dotProduct = function (v1, v2) {\n        util.assert(v1.rank === 1 && v2.rank === 1, \"Error in dotProduct: inputs must be rank 1, but got ranks \" +\n            (v1.rank + \" and \" + v2.rank + \".\"));\n        util.assert(v1.size === v2.size, \"Error in dotProduct: size of inputs (\" + v1.size + \") and (\" +\n            (v2.size + \") must match.\"));\n        return v1.as2D(1, -1).matMul(v2.as2D(-1, 1)).asScalar();\n    };\n    MatmulOps.outerProduct = function (v1, v2) {\n        util.assert(v1.rank === 1 && v2.rank === 1, \"Error in outerProduct: inputs must be rank 1, but got ranks \" +\n            (v1.rank + \" and \" + v2.rank + \".\"));\n        return v1.as2D(-1, 1).matMul(v2.as2D(1, -1));\n    };\n    __decorate([\n        doc({ heading: 'Operations', subheading: 'Matrices' }),\n        operation\n    ], MatmulOps, \"matMul\", null);\n    __decorate([\n        operation\n    ], MatmulOps, \"vectorTimesMatrix\", null);\n    __decorate([\n        operation\n    ], MatmulOps, \"matrixTimesVector\", null);\n    __decorate([\n        operation\n    ], MatmulOps, \"dotProduct\", null);\n    __decorate([\n        doc({ heading: 'Operations', subheading: 'Matrices' }),\n        operation\n    ], MatmulOps, \"outerProduct\", null);\n    return MatmulOps;\n}());\nexport { MatmulOps };\n//# sourceMappingURL=matmul.js.map","var __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\n};\nimport { doc } from '../doc';\nimport * as util from '../util';\nimport { ArrayOps } from './array_ops';\nimport { BinaryOps } from './binary_ops';\nimport { operation } from './operation';\nvar MovingAverageOps = (function () {\n    function MovingAverageOps() {\n    }\n    MovingAverageOps.movingAverage = function (v, x, decay, step, zeroDebias) {\n        if (zeroDebias === void 0) { zeroDebias = true; }\n        util.assertArgumentsAreTensors({ v: v, x: x }, 'movingAverage');\n        util.assertTypesMatch(v, x);\n        util.assert(util.arraysEqual(v.shape, x.shape), 'Shape mismatch in v and x');\n        var one = ArrayOps.scalar(1);\n        decay = typeof decay === 'number' ? ArrayOps.scalar(decay) : decay;\n        var oneMinusDecay = one.sub(decay);\n        var update = x.sub(v).mul(oneMinusDecay);\n        if (zeroDebias) {\n            util.assert(step != null, 'When using zeroDebias: true, step is required.');\n            step = typeof step === 'number' ? ArrayOps.scalar(step) : step;\n            update = update.div(one.sub(BinaryOps.pow(decay, step)));\n        }\n        return v.add(update);\n    };\n    __decorate([\n        doc({ heading: 'Operations', subheading: 'Moving Average' }),\n        operation\n    ], MovingAverageOps, \"movingAverage\", null);\n    return MovingAverageOps;\n}());\nexport { MovingAverageOps };\n//# sourceMappingURL=moving_average.js.map","var __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\n};\nimport { doc } from '../doc';\nimport * as util from '../util';\nimport * as axis_util from './axis_util';\nimport { operation } from './operation';\nimport * as ops from './ops';\nvar NormOps = (function () {\n    function NormOps() {\n    }\n    NormOps.norm = function (x, ord, axis, keepDims) {\n        if (ord === void 0) { ord = 'euclidean'; }\n        if (axis === void 0) { axis = null; }\n        if (keepDims === void 0) { keepDims = false; }\n        util.assertArgumentsAreTensors({ x: x }, 'norm');\n        var norm = normImpl(x, ord, axis);\n        var keepDimsShape = norm.shape;\n        if (keepDims) {\n            var axes = axis_util.parseAxisParam(axis, x.shape);\n            keepDimsShape = axis_util.expandShapeToKeepDim(norm.shape, axes);\n        }\n        return norm.reshape(keepDimsShape);\n    };\n    __decorate([\n        doc({ heading: 'Operations', subheading: 'Matrices' }),\n        operation\n    ], NormOps, \"norm\", null);\n    return NormOps;\n}());\nexport { NormOps };\nfunction normImpl(x, p, axis) {\n    if (axis === void 0) { axis = null; }\n    if (x.rank === 0) {\n        return x.abs();\n    }\n    if (x.rank !== 1 && axis === null) {\n        return normImpl(x.reshape([-1]), p, axis);\n    }\n    if (x.rank === 1 || typeof axis === 'number' ||\n        axis instanceof Array && axis.length === 1) {\n        if (p === 1) {\n            return x.abs().sum(axis);\n        }\n        if (p === Infinity) {\n            return x.abs().max(axis);\n        }\n        if (p === -Infinity) {\n            return x.abs().min(axis);\n        }\n        if (p === 'euclidean' || p === 2) {\n            return x.abs().pow(ops.scalar(2, 'int32')).sum(axis).sqrt();\n        }\n        throw new Error(\"Error in norm: invalid ord value: \" + p);\n    }\n    if (axis instanceof Array && axis.length === 2) {\n        if (p === 1) {\n            return x.abs().sum(axis[0]).max(axis[1] - 1);\n        }\n        if (p === Infinity) {\n            return x.abs().sum(axis[1]).max(axis[0]);\n        }\n        if (p === -Infinity) {\n            return x.abs().sum(axis[1]).min(axis[0]);\n        }\n        if (p === 'fro' || p === 'euclidean') {\n            return x.square().sum(axis).sqrt();\n        }\n        throw new Error(\"Error in norm: invalid ord value: \" + p);\n    }\n    throw new Error(\"Error in norm: invalid axis: \" + axis);\n}\n//# sourceMappingURL=norm.js.map","var __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\n};\nimport { doc } from '../doc';\nimport { ENV } from '../environment';\nimport * as util from '../util';\nimport * as conv_util from './conv_util';\nimport { operation } from './operation';\nvar PoolOps = (function () {\n    function PoolOps() {\n    }\n    PoolOps.maxPool = function (x, filterSize, strides, pad, dimRoundingMode) {\n        util.assertArgumentsAreTensors({ x: x }, 'maxPool');\n        var x4D = x;\n        var reshapedTo4D = false;\n        if (x.rank === 3) {\n            reshapedTo4D = true;\n            x4D = x.as4D(1, x.shape[0], x.shape[1], x.shape[2]);\n        }\n        util.assert(x4D.rank === 4, \"Error in maxPool: input must be rank 4 but got rank \" + x4D.rank + \".\");\n        if (dimRoundingMode != null) {\n            util.assert(util.isInt(pad), \"Error in maxPool: pad must be an integer when using, \" +\n                (\"dimRoundingMode \" + dimRoundingMode + \" but got pad \" + pad + \".\"));\n        }\n        var convInfo = conv_util.computePool2DInfo(x4D.shape, filterSize, strides, pad, dimRoundingMode);\n        var grad = function (dy, saved) {\n            var y4D = saved[0];\n            return {\n                x: function () { return PoolOps.maxPoolBackprop(dy, x4D, y4D, filterSize, strides, pad); }\n            };\n        };\n        var res = ENV.engine.runKernel(function (backend, save) { return save(backend.maxPool(x4D, convInfo)); }, { x: x4D }, grad);\n        if (reshapedTo4D) {\n            return res.as3D(res.shape[1], res.shape[2], res.shape[3]);\n        }\n        return res;\n    };\n    PoolOps.maxPoolBackprop = function (dy, input, output, filterSize, strides, pad, dimRoundingMode) {\n        util.assertArgumentsAreTensors({ dy: dy, input: input, output: output }, 'maxPoolBackprop');\n        util.assert(input.rank === dy.rank, \"Rank of input (\" + input.rank + \") does not match rank of dy (\" + dy.rank + \")\");\n        util.assert(dy.rank === 4, \"Error in maxPoolBackprop: dy must be rank 4 but got rank \" +\n            (dy.rank + \".\"));\n        util.assert(input.rank === 4, \"Error in maxPoolBackprop: input must be rank 4 but got rank \" +\n            (input.rank + \".\"));\n        if (dimRoundingMode != null) {\n            util.assert(util.isInt(pad), \"Error in maxPoolBackprop: pad must be an integer when using, \" +\n                (\"dimRoundingMode \" + dimRoundingMode + \" but got pad \" + pad + \".\"));\n        }\n        var convInfo = conv_util.computePool2DInfo(input.shape, filterSize, strides, pad, dimRoundingMode);\n        var res = ENV.engine.runKernel(function (backend) { return backend.maxPoolBackprop(dy, input, output, convInfo); }, { dy: dy, input: input });\n        return res;\n    };\n    PoolOps.avgPool = function (x, filterSize, strides, pad, dimRoundingMode) {\n        util.assertArgumentsAreTensors({ x: x }, 'avgPool');\n        util.assert(x.dtype === 'float32', 'The input dtype to avgPool must be float32');\n        var x4D = x;\n        var reshapedTo4D = false;\n        if (x.rank === 3) {\n            reshapedTo4D = true;\n            x4D = x.as4D(1, x.shape[0], x.shape[1], x.shape[2]);\n        }\n        util.assert(x4D.rank === 4, \"Error in avgPool: x must be rank 4 but got rank \" + x4D.rank + \".\");\n        if (dimRoundingMode != null) {\n            util.assert(util.isInt(pad), \"Error in avgPool: pad must be an integer when using, \" +\n                (\"dimRoundingMode \" + dimRoundingMode + \" but got pad \" + pad + \".\"));\n        }\n        var convInfo = conv_util.computePool2DInfo(x4D.shape, filterSize, strides, pad);\n        var grad = function (dy) {\n            return {\n                x: function () { return PoolOps.avgPoolBackprop(dy, x4D, filterSize, strides, pad); }\n            };\n        };\n        var res = ENV.engine.runKernel(function (backend) { return backend.avgPool(x4D, convInfo); }, { x: x4D }, grad);\n        res = res.cast(x.dtype);\n        if (reshapedTo4D) {\n            return res.as3D(res.shape[1], res.shape[2], res.shape[3]);\n        }\n        return res;\n    };\n    PoolOps.avgPoolBackprop = function (dy, input, filterSize, strides, pad) {\n        util.assertArgumentsAreTensors({ dy: dy, input: input }, 'avgPoolBackprop');\n        util.assert(input.rank === dy.rank, \"Rank of input (\" + input.rank + \") does not match rank of dy (\" + dy.rank + \")\");\n        var input4D = input;\n        var dy4D = dy;\n        var reshapedTo4D = false;\n        if (input.rank === 3) {\n            reshapedTo4D = true;\n            input4D = input.as4D(1, input.shape[0], input.shape[1], input.shape[2]);\n            dy4D = dy.as4D(1, dy.shape[0], dy.shape[1], dy.shape[2]);\n        }\n        util.assert(dy4D.rank === 4, \"Error in avgPoolBackprop: dy must be rank 4 but got rank \" +\n            (dy4D.rank + \".\"));\n        util.assert(input4D.rank === 4, \"Error in avgPoolBackprop: input must be rank 4 but got rank \" +\n            (input4D.rank + \".\"));\n        var convInfo = conv_util.computePool2DInfo(input4D.shape, filterSize, strides, pad);\n        var res = ENV.engine.runKernel(function (backend) { return backend.avgPoolBackprop(dy4D, input4D, convInfo); }, { dy4D: dy4D, input4D: input4D });\n        if (reshapedTo4D) {\n            return res.as3D(res.shape[1], res.shape[2], res.shape[3]);\n        }\n        return res;\n    };\n    __decorate([\n        doc({ heading: 'Operations', subheading: 'Convolution' }),\n        operation\n    ], PoolOps, \"maxPool\", null);\n    __decorate([\n        operation\n    ], PoolOps, \"maxPoolBackprop\", null);\n    __decorate([\n        doc({ heading: 'Operations', subheading: 'Convolution' }),\n        operation\n    ], PoolOps, \"avgPool\", null);\n    __decorate([\n        operation\n    ], PoolOps, \"avgPoolBackprop\", null);\n    return PoolOps;\n}());\nexport { PoolOps };\n//# sourceMappingURL=pool.js.map","var __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\n};\nimport { doc } from '../doc';\nimport { ENV } from '../environment';\nimport * as util from '../util';\nimport { parseAxisParam } from './axis_util';\nimport { operation } from './operation';\nvar ReverseOps = (function () {\n    function ReverseOps() {\n    }\n    ReverseOps.reverse1d = function (x) {\n        util.assert(x.rank === 1, \"Error in reverse1D: x must be rank 1 but got\\n             rank \" + x.rank + \".\");\n        return ReverseOps.reverse(x, 0);\n    };\n    ReverseOps.reverse2d = function (x, axis) {\n        util.assert(x.rank === 2, \"Error in reverse2D: x must be rank 2 but got\\n             rank \" + x.rank + \".\");\n        return ReverseOps.reverse(x, axis);\n    };\n    ReverseOps.reverse3d = function (x, axis) {\n        util.assert(x.rank === 3, \"Error in reverse3D: x must be rank 3 but got\\n             rank \" + x.rank + \".\");\n        return ReverseOps.reverse(x, axis);\n    };\n    ReverseOps.reverse4d = function (x, axis) {\n        util.assert(x.rank === 4, \"Error in reverse4D: x must be rank 4 but got\\n             rank \" + x.rank + \".\");\n        return ReverseOps.reverse(x, axis);\n    };\n    ReverseOps.reverse = function (x, axis) {\n        util.assertArgumentsAreTensors({ x: x }, 'reverse');\n        if (x.rank === 0) {\n            return x.clone();\n        }\n        var axes = parseAxisParam(axis, x.shape);\n        var grad = function (dy) {\n            return { x: function () { return dy.reverse(axes); } };\n        };\n        var res = ENV.engine.runKernel(function (backend) { return backend.reverse(x, axes); }, { x: x }, grad);\n        return res.reshapeAs(x);\n    };\n    __decorate([\n        doc({ heading: 'Tensors', subheading: 'Slicing and Joining' }),\n        operation\n    ], ReverseOps, \"reverse\", null);\n    return ReverseOps;\n}());\nexport { ReverseOps };\n//# sourceMappingURL=reverse.js.map","import * as util from '../util';\nexport function assertParamsValid(input, begin, size) {\n    util.assert(input.rank === begin.length, \"Error in slice\" + input.rank + \"D: Length of begin \" + begin + \" must \" +\n        (\"match the rank of the array (\" + input.rank + \").\"));\n    util.assert(input.rank === size.length, \"Error in slice\" + input.rank + \"D: Length of size \" + size + \" must \" +\n        (\"match the rank of the array (\" + input.rank + \").\"));\n    for (var i = 0; i < input.rank; ++i) {\n        util.assert(begin[i] + size[i] <= input.shape[i], \"Error in slice\" + input.rank + \"D: begin[\" + i + \"] + size[\" + i + \"] \" +\n            (\"(\" + (begin[i] + size[i]) + \") would overflow input.shape[\" + i + \"] (\" + input.shape[i] + \")\"));\n    }\n}\nexport function getStridedSlicedInfo(shape, begin, end, strides, beginMask, endMask) {\n    if (beginMask === void 0) { beginMask = 0; }\n    if (endMask === void 0) { endMask = 0; }\n    var startIndex = [];\n    var endIndex = [];\n    for (var i = 0; i < shape.length; i++) {\n        startIndex[i] = startForAxis(beginMask, begin, strides, shape, i);\n        endIndex[i] = stopForAxis(endMask, end, strides, shape, i);\n    }\n    var size = new Array(shape.length).fill(0);\n    size = size.map(function (d, i) {\n        var count = 0;\n        for (var start = startIndex[i]; !(strides[i] > 0 ? start >= endIndex[i] : start <= endIndex[i]); start += strides[i]) {\n            count += 1;\n        }\n        return count;\n    });\n    return [startIndex, size];\n}\nexport function startForAxis(beginMask, startIndices, strides, inputShape, axis) {\n    var start = startIndices[axis];\n    if (beginMask & 1 << axis) {\n        if (strides[axis] > 0) {\n            start = Number.MIN_SAFE_INTEGER;\n        }\n        else {\n            start = Number.MAX_SAFE_INTEGER;\n        }\n    }\n    var axisSize = inputShape[axis];\n    if (start < 0) {\n        start += axisSize;\n    }\n    start = util.clamp(0, start, axisSize - 1);\n    return start;\n}\nexport function stopForAxis(endMask, stopIndices, strides, inputShape, axis) {\n    var stop = stopIndices[axis];\n    if (endMask & (1 << axis)) {\n        if (strides[axis] > 0) {\n            stop = Number.MAX_SAFE_INTEGER;\n        }\n        else {\n            stop = Number.MIN_SAFE_INTEGER;\n        }\n    }\n    var axisSize = inputShape[axis];\n    if (stop < 0) {\n        stop += axisSize;\n    }\n    if (strides[axis] > 0) {\n        stop = util.clamp(0, stop, axisSize);\n    }\n    else {\n        stop = util.clamp(-1, stop, axisSize - 1);\n    }\n    return stop;\n}\n//# sourceMappingURL=slice_util.js.map","var __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\n};\nimport { doc } from '../doc';\nimport { ENV } from '../environment';\nimport * as util from '../util';\nimport { operation } from './operation';\nimport * as slice_util from './slice_util';\nvar SliceOps = (function () {\n    function SliceOps() {\n    }\n    SliceOps.slice1d = function (x, begin, size) {\n        util.assert(x.rank === 1, \"slice1d expects a rank-1 tensor, but got a rank-\" + x.rank + \" tensor\");\n        return SliceOps.slice(x, [begin], [size]);\n    };\n    SliceOps.slice2d = function (x, begin, size) {\n        util.assert(x.rank === 2, \"slice1d expects a rank-2 tensor, but got a rank-\" + x.rank + \" tensor\");\n        return SliceOps.slice(x, begin, size);\n    };\n    SliceOps.slice3d = function (x, begin, size) {\n        util.assert(x.rank === 3, \"slice1d expects a rank-3 tensor, but got a rank-\" + x.rank + \" tensor\");\n        return SliceOps.slice(x, begin, size);\n    };\n    SliceOps.slice4d = function (x, begin, size) {\n        util.assert(x.rank === 4, \"slice1d expects a rank-4 tensor, but got a rank-\" + x.rank + \" tensor\");\n        return SliceOps.slice(x, begin, size);\n    };\n    SliceOps.slice = function (x, begin, size) {\n        util.assertArgumentsAreTensors({ x: x }, 'slice');\n        if (x.rank === 0) {\n            throw new Error('Slicing scalar is not possible');\n        }\n        var begin_;\n        if (typeof begin === 'number') {\n            begin_ = [begin].concat(new Array(x.rank - 1).fill(0));\n        }\n        else if (begin.length < x.rank) {\n            begin_ = begin.concat(new Array(x.rank - begin.length).fill(0));\n        }\n        else {\n            begin_ = begin;\n        }\n        var size_;\n        if (size == null) {\n            size_ = new Array(x.rank).fill(-1);\n        }\n        else if (typeof size === 'number') {\n            size_ = [size].concat(new Array(x.rank - 1).fill(-1));\n        }\n        else if (size.length < x.rank) {\n            size_ = size.concat(new Array(x.rank - size.length).fill(-1));\n        }\n        else {\n            size_ = size;\n        }\n        size_ = size_.map(function (d, i) {\n            if (d >= 0) {\n                return d;\n            }\n            else {\n                util.assert(d === -1, 'Bad value in size');\n                return x.shape[i] - begin_[i];\n            }\n        });\n        slice_util.assertParamsValid(x, begin_, size_);\n        var inputShape = x.shape;\n        var grad = function (dy) {\n            var paddings = [];\n            for (var i = 0; i < dy.rank; i++) {\n                paddings.push([begin_[i], inputShape[i] - begin_[i] - size_[i]]);\n            }\n            return { x: function () { return dy.pad(paddings); } };\n        };\n        return ENV.engine.runKernel(function (backend) { return backend.slice(x, begin_, size_); }, { x: x }, grad);\n    };\n    __decorate([\n        doc({ heading: 'Tensors', subheading: 'Slicing and Joining' }),\n        operation\n    ], SliceOps, \"slice\", null);\n    return SliceOps;\n}());\nexport { SliceOps };\n//# sourceMappingURL=slice.js.map","var __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\n};\nimport { doc } from '../doc';\nimport { customGrad } from '../globals';\nimport * as util from '../util';\nimport * as axis_util from './axis_util';\nimport { operation } from './operation';\nimport * as ops from './ops';\nvar SoftmaxOps = (function () {\n    function SoftmaxOps() {\n    }\n    SoftmaxOps.softmax = function (logits, dim) {\n        if (dim === void 0) { dim = -1; }\n        util.assertArgumentsAreTensors({ logits: logits }, 'softmax');\n        if (dim === -1) {\n            dim = logits.rank - 1;\n        }\n        if (dim !== logits.rank - 1) {\n            throw Error('Softmax along a non-last dimension is not yet supported. ' +\n                (\"Logits was rank \" + logits.rank + \" and dim was \" + dim));\n        }\n        var customOp = customGrad(function (logits) {\n            var keepDims = true;\n            var lse = logits.logSumExp([dim], keepDims);\n            var logResult = logits.toFloat().sub(lse);\n            var y = logResult.exp();\n            var gradFunc = function (dy) {\n                var dyTimesY = dy.mul(y);\n                var keepDims = true;\n                return dyTimesY.sub(dyTimesY.sum([dim], keepDims).mul(y));\n            };\n            return { value: y, gradFunc: gradFunc };\n        });\n        return customOp(logits);\n    };\n    SoftmaxOps.softmaxCrossEntropy = function (labels, logits, dim) {\n        if (dim === void 0) { dim = -1; }\n        util.assertArgumentsAreTensors({ labels: labels, logits: logits }, 'softmaxCrossEntropy');\n        util.assertShapesMatch(labels.shape, logits.shape, 'Error in softmaxCrossEntropy: ');\n        if (dim === -1) {\n            dim = logits.rank - 1;\n        }\n        if (dim !== logits.rank - 1) {\n            throw Error(\"Softmax cross entropy along a non-last dimension is not yet \" +\n                (\"supported. Labels / logits was rank \" + logits.rank + \" \") +\n                (\"and dim was \" + dim));\n        }\n        var customOp = customGrad(function (labels, logits) {\n            var predictedProbs = logits.softmax(dim);\n            var costVector = ops.scalar(1e-5).add(predictedProbs).log().mul(labels).neg();\n            var value = costVector.sum([dim]);\n            var gradFunc = function (dy) {\n                var dyShape = axis_util.expandShapeToKeepDim(dy.shape, [dim]);\n                return [\n                    dy.reshape(dyShape).mul(labels.toFloat().sub(predictedProbs)),\n                    dy.reshape(dyShape).mul(predictedProbs.sub(labels.toFloat())),\n                ];\n            };\n            return { value: value, gradFunc: gradFunc };\n        });\n        return customOp(labels, logits);\n    };\n    __decorate([\n        doc({ heading: 'Operations', subheading: 'Normalization' }),\n        operation\n    ], SoftmaxOps, \"softmax\", null);\n    __decorate([\n        doc({ heading: 'Training', subheading: 'Losses', namespace: 'losses' }),\n        operation\n    ], SoftmaxOps, \"softmaxCrossEntropy\", null);\n    return SoftmaxOps;\n}());\nexport { SoftmaxOps };\n//# sourceMappingURL=softmax.js.map","var __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\n};\nimport { doc } from '../doc';\nimport { ENV } from '../environment';\nimport * as util from '../util';\nimport { operation } from './operation';\nvar StridedSliceOps = (function () {\n    function StridedSliceOps() {\n    }\n    StridedSliceOps.stridedSlice = function (x, begin, end, strides, beginMask, endMask) {\n        if (beginMask === void 0) { beginMask = 0; }\n        if (endMask === void 0) { endMask = 0; }\n        util.assertArgumentsAreTensors({ x: x }, 'stridedSlice');\n        return ENV.engine.runKernel(function (backend) { return backend.stridedSlice(x, begin, end, strides, beginMask, endMask); }, { x: x });\n    };\n    __decorate([\n        doc({ heading: 'Operations', subheading: 'Slicing and Joining' }),\n        operation\n    ], StridedSliceOps, \"stridedSlice\", null);\n    return StridedSliceOps;\n}());\nexport { StridedSliceOps };\n//# sourceMappingURL=strided_slice.js.map","var __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\n};\nimport { doc } from '../doc';\nimport { ENV } from '../environment';\nimport * as util from '../util';\nimport * as axis_util from './axis_util';\nimport { operation } from './operation';\nvar TransposeOps = (function () {\n    function TransposeOps() {\n    }\n    TransposeOps.transpose = function (x, perm) {\n        util.assertArgumentsAreTensors({ x: x }, 'transpose');\n        if (perm == null) {\n            perm = x.shape.map(function (s, i) { return i; }).reverse();\n        }\n        util.assert(x.rank === perm.length, \"Error in transpose: rank of input \" + x.rank + \" \" +\n            (\"must match length of perm \" + perm + \".\"));\n        perm.forEach(function (axis) {\n            util.assert(axis >= 0 && axis < x.rank, \"All entries in 'perm' must be between 0 and \" + (x.rank - 1) +\n                (\" but got \" + perm));\n        });\n        if (x.rank <= 1) {\n            return x.clone();\n        }\n        var der = function (dy) {\n            var undoPerm = axis_util.getUndoAxesPermutation(perm);\n            return { x: function () { return dy.transpose(undoPerm); } };\n        };\n        return ENV.engine.runKernel(function (backend) { return backend.transpose(x, perm); }, { x: x }, der);\n    };\n    __decorate([\n        doc({ heading: 'Operations', subheading: 'Matrices' }),\n        operation\n    ], TransposeOps, \"transpose\", null);\n    return TransposeOps;\n}());\nexport { TransposeOps };\n//# sourceMappingURL=transpose.js.map","export var SELU_SCALEALPHA = 1.7580993408473768599402175208123;\nexport var SELU_SCALE = 1.0507009873554804934193349852946;\n//# sourceMappingURL=selu_util.js.map","var __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\n};\nimport { doc } from '../doc';\nimport { ENV } from '../environment';\nimport * as util from '../util';\nimport { operation } from './operation';\nimport * as ops from './ops';\nimport { zerosLike } from './ops';\nimport * as selu_util from './selu_util';\nvar UnaryOps = (function () {\n    function UnaryOps() {\n    }\n    UnaryOps.neg = function (x) {\n        util.assertArgumentsAreTensors({ x: x }, 'neg');\n        var grad = function (dy) {\n            return { x: function () { return dy.neg(); } };\n        };\n        return ENV.engine.runKernel(function (backend) { return backend.neg(x); }, { x: x }, grad);\n    };\n    UnaryOps.ceil = function (x) {\n        util.assertArgumentsAreTensors({ x: x }, 'ceil');\n        var grad = function (dy) {\n            return { x: function () { return ops.zerosLike(dy); } };\n        };\n        return ENV.engine.runKernel(function (backend) { return backend.ceil(x); }, { x: x }, grad);\n    };\n    UnaryOps.floor = function (x) {\n        util.assertArgumentsAreTensors({ x: x }, 'floor');\n        var grad = function (dy) {\n            return { x: function () { return ops.zerosLike(dy); } };\n        };\n        return ENV.engine.runKernel(function (backend) { return backend.floor(x); }, { x: x }, grad);\n    };\n    UnaryOps.sign = function (x) {\n        util.assertArgumentsAreTensors({ x: x }, 'sign');\n        var grad = function (dy) {\n            return { x: function () { return ops.zerosLike(dy); } };\n        };\n        return ENV.engine.runKernel(function (backend) { return backend.sign(x); }, { x: x }, grad);\n    };\n    UnaryOps.round = function (x) {\n        util.assertArgumentsAreTensors({ x: x }, 'round');\n        var grad = function (dy) {\n            return { x: function () { return ops.zerosLike(dy); } };\n        };\n        return ENV.engine.runKernel(function (backend) { return backend.round(x); }, { x: x }, grad);\n    };\n    UnaryOps.exp = function (x) {\n        util.assertArgumentsAreTensors({ x: x }, 'exp');\n        var bck = function (dy, saved) {\n            var y = saved[0];\n            return { x: function () { return dy.mulStrict(y); } };\n        };\n        return ENV.engine.runKernel(function (backend, save) { return save(backend.exp(x)); }, { x: x }, bck);\n    };\n    UnaryOps.expm1 = function (x) {\n        util.assertArgumentsAreTensors({ x: x }, 'expm1');\n        var grad = function (dy) {\n            return { x: function () { return dy.mulStrict(x.exp()); } };\n        };\n        return ENV.engine.runKernel(function (backend) { return backend.expm1(x); }, { x: x }, grad);\n    };\n    UnaryOps.log = function (x) {\n        util.assertArgumentsAreTensors({ x: x }, 'log');\n        var grad = function (dy) {\n            return { x: function () { return dy.divStrict(x.toFloat()); } };\n        };\n        return ENV.engine.runKernel(function (backend) { return backend.log(x); }, { x: x }, grad);\n    };\n    UnaryOps.log1p = function (x) {\n        util.assertArgumentsAreTensors({ x: x }, 'log1p');\n        var grad = function (dy) {\n            return { x: function () { return dy.divStrict(x.add(ops.scalar(1))); } };\n        };\n        return ENV.engine.runKernel(function (backend) { return backend.log1p(x); }, { x: x }, grad);\n    };\n    UnaryOps.sqrt = function (x) {\n        util.assertArgumentsAreTensors({ x: x }, 'sqrt');\n        var grad = function (dy) {\n            return { x: function () { return dy.divStrict(x.toFloat().sqrt().mul(ops.scalar(2))); } };\n        };\n        return ENV.engine.runKernel(function (backend) { return backend.sqrt(x); }, { x: x }, grad);\n    };\n    UnaryOps.rsqrt = function (x) {\n        util.assertArgumentsAreTensors({ x: x }, 'rsqrt');\n        var grad = function (dy) {\n            return {\n                x: function () { return dy.divStrict(x.pow(ops.scalar(1.5)).mul(ops.scalar(2))).neg(); }\n            };\n        };\n        return ENV.engine.runKernel(function (backend) { return backend.rsqrt(x); }, { x: x }, grad);\n    };\n    UnaryOps.square = function (x) {\n        util.assertArgumentsAreTensors({ x: x }, 'square');\n        var grad = function (dy) {\n            return { x: function () { return dy.mulStrict(x.toFloat().mul(ops.scalar(2))); } };\n        };\n        return ENV.engine.runKernel(function (backend) { return backend.square(x); }, { x: x }, grad);\n    };\n    UnaryOps.reciprocal = function (x) {\n        util.assertArgumentsAreTensors({ x: x }, 'reciprocal');\n        var grad = function (dy) {\n            return { x: function () { return dy.divStrict(x.square().neg()); } };\n        };\n        return ENV.engine.runKernel(function (backend) { return backend.reciprocal(x); }, { x: x }, grad);\n    };\n    UnaryOps.abs = function (x) {\n        util.assertArgumentsAreTensors({ x: x }, 'abs');\n        var grad = function (dy) {\n            return { x: function () { return dy.mulStrict(x.toFloat().step(-1)); } };\n        };\n        return ENV.engine.runKernel(function (backend) { return backend.abs(x); }, { x: x }, grad);\n    };\n    UnaryOps.clipByValue = function (x, clipValueMin, clipValueMax) {\n        util.assertArgumentsAreTensors({ x: x }, 'clipByValue');\n        util.assert((clipValueMin <= clipValueMax), \"Error in clip: min (\" + clipValueMin + \") must be \" +\n            (\"less than or equal to max (\" + clipValueMax + \").\"));\n        var grad = function (dy) {\n            return {\n                x: function () { return dy.where(x.greater(ops.scalar(clipValueMin))\n                    .logicalAnd(x.less(ops.scalar(clipValueMax))), zerosLike(dy)); },\n            };\n        };\n        return ENV.engine.runKernel(function (backend) { return backend.clip(x, clipValueMin, clipValueMax); }, { x: x }, grad);\n    };\n    UnaryOps.relu = function (x) {\n        util.assertArgumentsAreTensors({ x: x }, 'relu');\n        if (x.dtype === 'bool') {\n            return x.toInt();\n        }\n        var grad = function (dy) {\n            var stepRes = x.step();\n            return { x: function () { return dy.mulStrict(stepRes.toFloat()); } };\n        };\n        return ENV.engine.runKernel(function (backend) { return backend.relu(x); }, { x: x }, grad);\n    };\n    UnaryOps.elu = function (x) {\n        util.assertArgumentsAreTensors({ x: x }, 'elu');\n        var grad = function (dy, saved) {\n            var y = saved[0];\n            return {\n                x: function () {\n                    return ENV.engine.runKernel(function (backend) { return backend.eluDer(dy, y); }, { dy: dy, y: y });\n                }\n            };\n        };\n        return ENV.engine.runKernel(function (backend, save) { return save(backend.elu(x)); }, { x: x }, grad);\n    };\n    UnaryOps.selu = function (x) {\n        util.assertArgumentsAreTensors({ x: x }, 'selu');\n        var grad = function (dy) {\n            return {\n                x: function () {\n                    var mask = x.greater(ops.scalar(0));\n                    var scaleAlpha = ops.scalar(selu_util.SELU_SCALEALPHA);\n                    var scale = ops.scalar(selu_util.SELU_SCALE);\n                    var greaterThanZeroDer = dy.mul(scale);\n                    var lessEqualZeroDer = dy.mul(scaleAlpha).mul(x.toFloat().exp());\n                    return ops.where(mask, greaterThanZeroDer, lessEqualZeroDer);\n                }\n            };\n        };\n        return ENV.engine.runKernel(function (backend) { return backend.selu(x); }, { x: x }, grad);\n    };\n    UnaryOps.leakyRelu = function (x, alpha) {\n        if (alpha === void 0) { alpha = 0.2; }\n        util.assertArgumentsAreTensors({ x: x }, 'leakyRelu');\n        return ops.maximum(ops.scalar(alpha).mul(x), x);\n    };\n    UnaryOps.prelu = function (x, alpha) {\n        util.assertArgumentsAreTensors({ x: x, alpha: alpha }, 'prelu');\n        var zero = ops.scalar(0);\n        return ops.maximum(zero, x).add(alpha.mul(ops.minimum(zero, x)));\n    };\n    UnaryOps.sigmoid = function (x) {\n        util.assertArgumentsAreTensors({ x: x }, 'sigmoid');\n        var grad = function (dy, saved) {\n            var y = saved[0];\n            return { x: function () { return dy.mulStrict(y.mul(ops.scalar(1).sub(y))); } };\n        };\n        return ENV.engine.runKernel(function (backend, save) { return save(backend.sigmoid(x)); }, { x: x }, grad);\n    };\n    UnaryOps.logSigmoid = function (x) {\n        util.assertArgumentsAreTensors({ x: x }, 'logSigmoid');\n        var grad = function (dy) {\n            return { x: function () { return dy.mulStrict(x.neg().sigmoid()); } };\n        };\n        return ENV.engine.runKernel(function (backend) { return backend.softplus(x.neg()).neg(); }, { x: x }, grad);\n    };\n    UnaryOps.softplus = function (x) {\n        util.assertArgumentsAreTensors({ x: x }, 'softplus');\n        var grad = function (dy) {\n            return { x: function () { return dy.mulStrict(x.sigmoid()); } };\n        };\n        return ENV.engine.runKernel(function (backend) { return backend.softplus(x); }, { x: x }, grad);\n    };\n    UnaryOps.sin = function (x) {\n        util.assertArgumentsAreTensors({ x: x }, 'sin');\n        var grad = function (dy) {\n            return { x: function () { return x.toFloat().cos().mulStrict(dy); } };\n        };\n        return ENV.engine.runKernel(function (backend) { return backend.sin(x); }, { x: x }, grad);\n    };\n    UnaryOps.cos = function (x) {\n        util.assertArgumentsAreTensors({ x: x }, 'cos');\n        var grad = function (dy) {\n            return { x: function () { return x.toFloat().sin().neg().mulStrict(dy); } };\n        };\n        return ENV.engine.runKernel(function (backend) { return backend.cos(x); }, { x: x }, grad);\n    };\n    UnaryOps.tan = function (x) {\n        util.assertArgumentsAreTensors({ x: x }, 'tan');\n        var grad = function (dy) {\n            return { x: function () { return dy.divStrict(x.cos().square()); } };\n        };\n        return ENV.engine.runKernel(function (backend) { return backend.tan(x); }, { x: x }, grad);\n    };\n    UnaryOps.asin = function (x) {\n        util.assertArgumentsAreTensors({ x: x }, 'asin');\n        var grad = function (dy) {\n            return {\n                x: function () {\n                    return dy.divStrict(UnaryOps.sqrt(ops.scalar(1).sub(x.toFloat().square())));\n                }\n            };\n        };\n        return ENV.engine.runKernel(function (backend) { return backend.asin(x); }, { x: x }, grad);\n    };\n    UnaryOps.acos = function (x) {\n        util.assertArgumentsAreTensors({ x: x }, 'acos');\n        var grad = function (dy) {\n            return {\n                x: function () {\n                    return dy.divStrict(UnaryOps.sqrt(ops.scalar(1).sub(x.toFloat().square())))\n                        .neg();\n                }\n            };\n        };\n        return ENV.engine.runKernel(function (backend) { return backend.acos(x); }, { x: x }, grad);\n    };\n    UnaryOps.atan = function (x) {\n        util.assertArgumentsAreTensors({ x: x }, 'atan');\n        var grad = function (dy) {\n            return { x: function () { return dy.divStrict(ops.scalar(1).add(x.toFloat().square())); } };\n        };\n        return ENV.engine.runKernel(function (backend) { return backend.atan(x); }, { x: x }, grad);\n    };\n    UnaryOps.sinh = function (x) {\n        util.assertArgumentsAreTensors({ x: x }, 'sinh');\n        var grad = function (dy) {\n            return { x: function () { return x.toFloat().cosh().mulStrict(dy); } };\n        };\n        return ENV.engine.runKernel(function (backend) { return backend.sinh(x); }, { x: x }, grad);\n    };\n    UnaryOps.cosh = function (x) {\n        util.assertArgumentsAreTensors({ x: x }, 'cosh');\n        var grad = function (dy) {\n            return { x: function () { return x.toFloat().sinh().mulStrict(dy); } };\n        };\n        return ENV.engine.runKernel(function (backend) { return backend.cosh(x); }, { x: x }, grad);\n    };\n    UnaryOps.tanh = function (x) {\n        util.assertArgumentsAreTensors({ x: x }, 'tanh');\n        var grad = function (dy, saved) {\n            var y = saved[0];\n            return { x: function () { return ops.scalar(1).sub(y.square()).mulStrict(dy); } };\n        };\n        return ENV.engine.runKernel(function (backend, save) { return save(backend.tanh(x)); }, { x: x }, grad);\n    };\n    UnaryOps.asinh = function (x) {\n        util.assertArgumentsAreTensors({ x: x }, 'asinh');\n        var grad = function (dy) {\n            return {\n                x: function () {\n                    return dy.divStrict(UnaryOps.sqrt(ops.scalar(1).add(x.toFloat().square())));\n                }\n            };\n        };\n        return ENV.engine.runKernel(function (backend) { return backend.asinh(x); }, { x: x }, grad);\n    };\n    UnaryOps.acosh = function (x) {\n        util.assertArgumentsAreTensors({ x: x }, 'acosh');\n        var grad = function (dy) {\n            return {\n                x: function () {\n                    return dy.divStrict(UnaryOps.sqrt(x.toFloat().square().sub(ops.scalar(1))));\n                }\n            };\n        };\n        return ENV.engine.runKernel(function (backend) { return backend.acosh(x); }, { x: x }, grad);\n    };\n    UnaryOps.atanh = function (x) {\n        util.assertArgumentsAreTensors({ x: x }, 'atanh');\n        var grad = function (dy) {\n            return { x: function () { return dy.divStrict(ops.scalar(1).sub(x.toFloat().square())); } };\n        };\n        return ENV.engine.runKernel(function (backend) { return backend.atanh(x); }, { x: x }, grad);\n    };\n    UnaryOps.erf = function (x) {\n        util.assert(x.dtype === 'int32' || x.dtype === 'float32', 'Input dtype must be `int32` or `float32`.');\n        if (x.dtype === 'int32') {\n            x = x.toFloat();\n        }\n        var grad = function (dy) {\n            return {\n                x: function () {\n                    return dy.mulStrict(ops.scalar(2 / Math.sqrt(Math.PI))\n                        .mul(x.square().neg().exp()));\n                }\n            };\n        };\n        return ENV.engine.runKernel(function (backend) { return backend.erf(x); }, { x: x }, grad);\n    };\n    UnaryOps.step = function (x, alpha) {\n        if (alpha === void 0) { alpha = 0.0; }\n        util.assertArgumentsAreTensors({ x: x }, 'step');\n        var grad = function (dy) {\n            return { x: function () { return ops.zerosLike(dy); } };\n        };\n        return ENV.engine.runKernel(function (backend) { return backend.step(x, alpha); }, { x: x }, grad);\n    };\n    __decorate([\n        doc({ heading: 'Operations', subheading: 'Basic math' }),\n        operation\n    ], UnaryOps, \"neg\", null);\n    __decorate([\n        doc({ heading: 'Operations', subheading: 'Basic math' }),\n        operation\n    ], UnaryOps, \"ceil\", null);\n    __decorate([\n        doc({ heading: 'Operations', subheading: 'Basic math' }),\n        operation\n    ], UnaryOps, \"floor\", null);\n    __decorate([\n        doc({ heading: 'Operations', subheading: 'Basic math' }),\n        operation\n    ], UnaryOps, \"sign\", null);\n    __decorate([\n        doc({ heading: 'Operations', subheading: 'Basic math' }),\n        operation\n    ], UnaryOps, \"round\", null);\n    __decorate([\n        doc({ heading: 'Operations', subheading: 'Basic math' }),\n        operation\n    ], UnaryOps, \"exp\", null);\n    __decorate([\n        doc({ heading: 'Operations', subheading: 'Basic math' }),\n        operation\n    ], UnaryOps, \"expm1\", null);\n    __decorate([\n        doc({ heading: 'Operations', subheading: 'Basic math' }),\n        operation\n    ], UnaryOps, \"log\", null);\n    __decorate([\n        doc({ heading: 'Operations', subheading: 'Basic math' }),\n        operation\n    ], UnaryOps, \"log1p\", null);\n    __decorate([\n        doc({ heading: 'Operations', subheading: 'Basic math' }),\n        operation\n    ], UnaryOps, \"sqrt\", null);\n    __decorate([\n        doc({ heading: 'Operations', subheading: 'Basic math' }),\n        operation\n    ], UnaryOps, \"rsqrt\", null);\n    __decorate([\n        doc({ heading: 'Operations', subheading: 'Basic math' }),\n        operation\n    ], UnaryOps, \"square\", null);\n    __decorate([\n        doc({ heading: 'Operations', subheading: 'Basic math' }),\n        operation\n    ], UnaryOps, \"reciprocal\", null);\n    __decorate([\n        doc({ heading: 'Operations', subheading: 'Basic math' }),\n        operation\n    ], UnaryOps, \"abs\", null);\n    __decorate([\n        doc({ heading: 'Operations', subheading: 'Basic math' }),\n        operation\n    ], UnaryOps, \"clipByValue\", null);\n    __decorate([\n        doc({ heading: 'Operations', subheading: 'Basic math' }),\n        operation\n    ], UnaryOps, \"relu\", null);\n    __decorate([\n        doc({ heading: 'Operations', subheading: 'Basic math' }),\n        operation\n    ], UnaryOps, \"elu\", null);\n    __decorate([\n        doc({ heading: 'Operations', subheading: 'Basic math' }),\n        operation\n    ], UnaryOps, \"selu\", null);\n    __decorate([\n        doc({ heading: 'Operations', subheading: 'Basic math' }),\n        operation\n    ], UnaryOps, \"leakyRelu\", null);\n    __decorate([\n        doc({ heading: 'Operations', subheading: 'Basic math' }),\n        operation\n    ], UnaryOps, \"prelu\", null);\n    __decorate([\n        doc({ heading: 'Operations', subheading: 'Basic math' }),\n        operation\n    ], UnaryOps, \"sigmoid\", null);\n    __decorate([\n        doc({ heading: 'Operations', subheading: 'Basic math' }),\n        operation\n    ], UnaryOps, \"logSigmoid\", null);\n    __decorate([\n        doc({ heading: 'Operations', subheading: 'Basic math' }),\n        operation\n    ], UnaryOps, \"softplus\", null);\n    __decorate([\n        doc({ heading: 'Operations', subheading: 'Basic math' }),\n        operation\n    ], UnaryOps, \"sin\", null);\n    __decorate([\n        doc({ heading: 'Operations', subheading: 'Basic math' }),\n        operation\n    ], UnaryOps, \"cos\", null);\n    __decorate([\n        doc({ heading: 'Operations', subheading: 'Basic math' }),\n        operation\n    ], UnaryOps, \"tan\", null);\n    __decorate([\n        doc({ heading: 'Operations', subheading: 'Basic math' }),\n        operation\n    ], UnaryOps, \"asin\", null);\n    __decorate([\n        doc({ heading: 'Operations', subheading: 'Basic math' }),\n        operation\n    ], UnaryOps, \"acos\", null);\n    __decorate([\n        doc({ heading: 'Operations', subheading: 'Basic math' }),\n        operation\n    ], UnaryOps, \"atan\", null);\n    __decorate([\n        doc({ heading: 'Operations', subheading: 'Basic math' }),\n        operation\n    ], UnaryOps, \"sinh\", null);\n    __decorate([\n        doc({ heading: 'Operations', subheading: 'Basic math' }),\n        operation\n    ], UnaryOps, \"cosh\", null);\n    __decorate([\n        doc({ heading: 'Operations', subheading: 'Basic math' }),\n        operation\n    ], UnaryOps, \"tanh\", null);\n    __decorate([\n        doc({ heading: 'Operations', subheading: 'Basic math' }),\n        operation\n    ], UnaryOps, \"asinh\", null);\n    __decorate([\n        doc({ heading: 'Operations', subheading: 'Basic math' }),\n        operation\n    ], UnaryOps, \"acosh\", null);\n    __decorate([\n        doc({ heading: 'Operations', subheading: 'Basic math' }),\n        operation\n    ], UnaryOps, \"atanh\", null);\n    __decorate([\n        doc({ heading: 'Operations', subheading: 'Basic math' }),\n        operation\n    ], UnaryOps, \"erf\", null);\n    __decorate([\n        doc({ heading: 'Operations', subheading: 'Basic math' }),\n        operation\n    ], UnaryOps, \"step\", null);\n    return UnaryOps;\n}());\nexport { UnaryOps };\n//# sourceMappingURL=unary_ops.js.map","import { ArrayOps } from './array_ops';\nimport { BatchNormOps } from './batchnorm';\nimport { BinaryOps } from './binary_ops';\nimport { CompareOps } from './compare';\nimport { ConcatOps } from './concat';\nimport { ConvOps } from './conv';\nimport { ImageOps } from './image_ops';\nimport { LinalgOps } from './linalg_ops';\nimport { LogicalOps } from './logical_ops';\nimport { LossOps, Reduction } from './loss_ops';\nimport { LRNOps } from './lrn';\nimport { LSTMOps } from './lstm';\nimport { MatmulOps } from './matmul';\nimport { MovingAverageOps } from './moving_average';\nimport { NormOps } from './norm';\nimport { PoolOps } from './pool';\nimport { ReductionOps } from './reduction_ops';\nimport { ReverseOps } from './reverse';\nimport { SliceOps } from './slice';\nimport { SoftmaxOps } from './softmax';\nimport { StridedSliceOps } from './strided_slice';\nimport { TransposeOps } from './transpose';\nimport { UnaryOps } from './unary_ops';\nexport var batchNormalization = BatchNormOps.batchNormalization;\nexport var batchNormalization2d = BatchNormOps.batchNormalization2d;\nexport var batchNormalization3d = BatchNormOps.batchNormalization3d;\nexport var batchNormalization4d = BatchNormOps.batchNormalization4d;\nexport var concat = ConcatOps.concat;\nexport var concat1d = ConcatOps.concat1d;\nexport var concat2d = ConcatOps.concat2d;\nexport var concat3d = ConcatOps.concat3d;\nexport var concat4d = ConcatOps.concat4d;\nexport var conv1d = ConvOps.conv1d;\nexport var conv2d = ConvOps.conv2d;\nexport var conv2dTranspose = ConvOps.conv2dTranspose;\nexport var depthwiseConv2d = ConvOps.depthwiseConv2d;\nexport var separableConv2d = ConvOps.separableConv2d;\nexport var matMul = MatmulOps.matMul;\nexport var matrixTimesVector = MatmulOps.matrixTimesVector;\nexport var outerProduct = MatmulOps.outerProduct;\nexport var vectorTimesMatrix = MatmulOps.vectorTimesMatrix;\nexport var avgPool = PoolOps.avgPool;\nexport var maxPool = PoolOps.maxPool;\nexport var transpose = TransposeOps.transpose;\nexport var reverse = ReverseOps.reverse;\nexport var reverse1d = ReverseOps.reverse1d;\nexport var reverse2d = ReverseOps.reverse2d;\nexport var reverse3d = ReverseOps.reverse3d;\nexport var reverse4d = ReverseOps.reverse4d;\nexport var slice = SliceOps.slice;\nexport var slice1d = SliceOps.slice1d;\nexport var slice2d = SliceOps.slice2d;\nexport var slice3d = SliceOps.slice3d;\nexport var slice4d = SliceOps.slice4d;\nexport var stridedSlice = StridedSliceOps.stridedSlice;\nexport var argMax = ReductionOps.argMax;\nexport var argMin = ReductionOps.argMin;\nexport var logSumExp = ReductionOps.logSumExp;\nexport var max = ReductionOps.max;\nexport var mean = ReductionOps.mean;\nexport var min = ReductionOps.min;\nexport var moments = ReductionOps.moments;\nexport var sum = ReductionOps.sum;\nexport var unsortedSegmentSum = ReductionOps.unsortedSegmentSum;\nexport var equal = CompareOps.equal;\nexport var equalStrict = CompareOps.equalStrict;\nexport var greater = CompareOps.greater;\nexport var greaterStrict = CompareOps.greaterStrict;\nexport var greaterEqual = CompareOps.greaterEqual;\nexport var greaterEqualStrict = CompareOps.greaterEqualStrict;\nexport var less = CompareOps.less;\nexport var lessStrict = CompareOps.lessStrict;\nexport var lessEqual = CompareOps.lessEqual;\nexport var lessEqualStrict = CompareOps.lessEqualStrict;\nexport var notEqual = CompareOps.notEqual;\nexport var notEqualStrict = CompareOps.notEqualStrict;\nexport var logicalNot = LogicalOps.logicalNot;\nexport var logicalAnd = LogicalOps.logicalAnd;\nexport var logicalOr = LogicalOps.logicalOr;\nexport var logicalXor = LogicalOps.logicalXor;\nexport var where = LogicalOps.where;\nexport var abs = UnaryOps.abs;\nexport var acos = UnaryOps.acos;\nexport var acosh = UnaryOps.acosh;\nexport var asin = UnaryOps.asin;\nexport var asinh = UnaryOps.asinh;\nexport var atan = UnaryOps.atan;\nexport var atanh = UnaryOps.atanh;\nexport var ceil = UnaryOps.ceil;\nexport var clipByValue = UnaryOps.clipByValue;\nexport var cos = UnaryOps.cos;\nexport var cosh = UnaryOps.cosh;\nexport var elu = UnaryOps.elu;\nexport var exp = UnaryOps.exp;\nexport var expm1 = UnaryOps.expm1;\nexport var floor = UnaryOps.floor;\nexport var sign = UnaryOps.sign;\nexport var leakyRelu = UnaryOps.leakyRelu;\nexport var log = UnaryOps.log;\nexport var log1p = UnaryOps.log1p;\nexport var logSigmoid = UnaryOps.logSigmoid;\nexport var neg = UnaryOps.neg;\nexport var prelu = UnaryOps.prelu;\nexport var relu = UnaryOps.relu;\nexport var reciprocal = UnaryOps.reciprocal;\nexport var round = UnaryOps.round;\nexport var selu = UnaryOps.selu;\nexport var sigmoid = UnaryOps.sigmoid;\nexport var sin = UnaryOps.sin;\nexport var sinh = UnaryOps.sinh;\nexport var softplus = UnaryOps.softplus;\nexport var sqrt = UnaryOps.sqrt;\nexport var rsqrt = UnaryOps.rsqrt;\nexport var square = UnaryOps.square;\nexport var step = UnaryOps.step;\nexport var tan = UnaryOps.tan;\nexport var tanh = UnaryOps.tanh;\nexport var erf = UnaryOps.erf;\nexport var add = BinaryOps.add;\nexport var addStrict = BinaryOps.addStrict;\nexport var atan2 = BinaryOps.atan2;\nexport var div = BinaryOps.div;\nexport var divStrict = BinaryOps.divStrict;\nexport var maximum = BinaryOps.maximum;\nexport var maximumStrict = BinaryOps.maximumStrict;\nexport var minimum = BinaryOps.minimum;\nexport var minimumStrict = BinaryOps.minimumStrict;\nexport var mod = BinaryOps.mod;\nexport var modStrict = BinaryOps.modStrict;\nexport var mul = BinaryOps.mul;\nexport var mulStrict = BinaryOps.mulStrict;\nexport var pow = BinaryOps.pow;\nexport var powStrict = BinaryOps.powStrict;\nexport var sub = BinaryOps.sub;\nexport var subStrict = BinaryOps.subStrict;\nexport var squaredDifference = BinaryOps.squaredDifference;\nexport var squaredDifferenceStrict = BinaryOps.squaredDifferenceStrict;\nexport var norm = NormOps.norm;\nexport var cast = ArrayOps.cast;\nexport var clone = ArrayOps.clone;\nexport var fromPixels = ArrayOps.fromPixels;\nexport var toPixels = ArrayOps.toPixels;\nexport var ones = ArrayOps.ones;\nexport var onesLike = ArrayOps.onesLike;\nexport var zeros = ArrayOps.zeros;\nexport var zerosLike = ArrayOps.zerosLike;\nexport var eye = ArrayOps.eye;\nexport var rand = ArrayOps.rand;\nexport var randomNormal = ArrayOps.randomNormal;\nexport var truncatedNormal = ArrayOps.truncatedNormal;\nexport var randomUniform = ArrayOps.randomUniform;\nexport var multinomial = ArrayOps.multinomial;\nexport var reshape = ArrayOps.reshape;\nexport var squeeze = ArrayOps.squeeze;\nexport var tile = ArrayOps.tile;\nexport var gather = ArrayOps.gather;\nexport var oneHot = ArrayOps.oneHot;\nexport var linspace = ArrayOps.linspace;\nexport var range = ArrayOps.range;\nexport var buffer = ArrayOps.buffer;\nexport var fill = ArrayOps.fill;\nexport var tensor = ArrayOps.tensor;\nexport var scalar = ArrayOps.scalar;\nexport var tensor1d = ArrayOps.tensor1d;\nexport var tensor2d = ArrayOps.tensor2d;\nexport var tensor3d = ArrayOps.tensor3d;\nexport var tensor4d = ArrayOps.tensor4d;\nexport var print = ArrayOps.print;\nexport var expandDims = ArrayOps.expandDims;\nexport var stack = ArrayOps.stack;\nexport var unstack = ArrayOps.unstack;\nexport var split = ArrayOps.split;\nexport var cumsum = ArrayOps.cumsum;\nexport var pad = ArrayOps.pad;\nexport var pad1d = ArrayOps.pad1d;\nexport var pad2d = ArrayOps.pad2d;\nexport var pad3d = ArrayOps.pad3d;\nexport var pad4d = ArrayOps.pad4d;\nexport var movingAverage = MovingAverageOps.movingAverage;\nexport var basicLSTMCell = LSTMOps.basicLSTMCell;\nexport var multiRNNCell = LSTMOps.multiRNNCell;\nexport var softmax = SoftmaxOps.softmax;\nexport var localResponseNormalization = LRNOps.localResponseNormalization;\nexport var linalg = LinalgOps;\nexport { operation } from './operation';\nimport { Tensor } from '../tensor';\nimport { Rank } from '../types';\n[Tensor, Rank];\n[Reduction];\nexport var losses = {\n    absoluteDifference: LossOps.absoluteDifference,\n    computeWeightedLoss: LossOps.computeWeightedLoss,\n    cosineDistance: LossOps.cosineDistance,\n    hingeLoss: LossOps.hingeLoss,\n    logLoss: LossOps.logLoss,\n    meanSquaredError: LossOps.meanSquaredError,\n    softmaxCrossEntropy: SoftmaxOps.softmaxCrossEntropy\n};\nexport var image = {\n    resizeBilinear: ImageOps.resizeBilinear,\n    resizeNearestNeighbor: ImageOps.resizeNearestNeighbor,\n};\n//# sourceMappingURL=ops.js.map","var __extends = (this && this.__extends) || (function () {\n    var extendStatics = Object.setPrototypeOf ||\n        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n        function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nvar __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\n};\nvar __awaiter = (this && this.__awaiter) || function (thisArg, _arguments, P, generator) {\n    return new (P || (P = Promise))(function (resolve, reject) {\n        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\n        function rejected(value) { try { step(generator[\"throw\"](value)); } catch (e) { reject(e); } }\n        function step(result) { result.done ? resolve(result.value) : new P(function (resolve) { resolve(result.value); }).then(fulfilled, rejected); }\n        step((generator = generator.apply(thisArg, _arguments || [])).next());\n    });\n};\nvar __generator = (this && this.__generator) || function (thisArg, body) {\n    var _ = { label: 0, sent: function() { if (t[0] & 1) throw t[1]; return t[1]; }, trys: [], ops: [] }, f, y, t, g;\n    return g = { next: verb(0), \"throw\": verb(1), \"return\": verb(2) }, typeof Symbol === \"function\" && (g[Symbol.iterator] = function() { return this; }), g;\n    function verb(n) { return function (v) { return step([n, v]); }; }\n    function step(op) {\n        if (f) throw new TypeError(\"Generator is already executing.\");\n        while (_) try {\n            if (f = 1, y && (t = y[op[0] & 2 ? \"return\" : op[0] ? \"throw\" : \"next\"]) && !(t = t.call(y, op[1])).done) return t;\n            if (y = 0, t) op = [0, t.value];\n            switch (op[0]) {\n                case 0: case 1: t = op; break;\n                case 4: _.label++; return { value: op[1], done: false };\n                case 5: _.label++; y = op[1]; op = [0]; continue;\n                case 7: op = _.ops.pop(); _.trys.pop(); continue;\n                default:\n                    if (!(t = _.trys, t = t.length > 0 && t[t.length - 1]) && (op[0] === 6 || op[0] === 2)) { _ = 0; continue; }\n                    if (op[0] === 3 && (!t || (op[1] > t[0] && op[1] < t[3]))) { _.label = op[1]; break; }\n                    if (op[0] === 6 && _.label < t[1]) { _.label = t[1]; t = op; break; }\n                    if (t && _.label < t[2]) { _.label = t[2]; _.ops.push(op); break; }\n                    if (t[2]) _.ops.pop();\n                    _.trys.pop(); continue;\n            }\n            op = body.call(thisArg, _);\n        } catch (e) { op = [6, e]; y = 0; } finally { f = t = 0; }\n        if (op[0] & 5) throw op[1]; return { value: op[0] ? op[1] : void 0, done: true };\n    }\n};\nimport { doc } from './doc';\nimport { ENV } from './environment';\nimport * as ops from './ops/ops';\nimport * as tensor_util from './tensor_util';\nimport * as util from './util';\nvar TensorBuffer = (function () {\n    function TensorBuffer(shape, dtype, values) {\n        this.dtype = dtype;\n        if (values != null) {\n            var n = values.length;\n            var size = util.sizeFromShape(shape);\n            util.assert(n === size, \"Length of values '\" + n + \"' does not match the size \" +\n                (\"inferred by the shape '\" + size + \"'\"));\n        }\n        this.shape = shape.slice();\n        this.values =\n            values || util.getTypedArrayFromDType(dtype, util.sizeFromShape(shape));\n        this.strides = computeStrides(shape);\n        this.size = util.sizeFromShape(shape);\n    }\n    TensorBuffer.prototype.set = function (value) {\n        var locs = [];\n        for (var _i = 1; _i < arguments.length; _i++) {\n            locs[_i - 1] = arguments[_i];\n        }\n        if (locs.length === 0) {\n            locs = [0];\n        }\n        util.assert(locs.length === this.rank, \"The number of provided coordinates (\" + locs.length + \") must \" +\n            (\"match the rank (\" + this.rank + \")\"));\n        var index = this.locToIndex(locs);\n        this.values[index] = value;\n    };\n    TensorBuffer.prototype.get = function () {\n        var locs = [];\n        for (var _i = 0; _i < arguments.length; _i++) {\n            locs[_i] = arguments[_i];\n        }\n        if (locs.length === 0) {\n            locs = [0];\n        }\n        var index = locs[locs.length - 1];\n        for (var i = 0; i < locs.length - 1; ++i) {\n            index += this.strides[i] * locs[i];\n        }\n        return this.values[index];\n    };\n    TensorBuffer.prototype.locToIndex = function (locs) {\n        if (this.rank === 0) {\n            return 0;\n        }\n        else if (this.rank === 1) {\n            return locs[0];\n        }\n        var index = locs[locs.length - 1];\n        for (var i = 0; i < locs.length - 1; ++i) {\n            index += this.strides[i] * locs[i];\n        }\n        return index;\n    };\n    TensorBuffer.prototype.indexToLoc = function (index) {\n        if (this.rank === 0) {\n            return [];\n        }\n        else if (this.rank === 1) {\n            return [index];\n        }\n        var locs = new Array(this.shape.length);\n        for (var i = 0; i < locs.length - 1; ++i) {\n            locs[i] = Math.floor(index / this.strides[i]);\n            index -= locs[i] * this.strides[i];\n        }\n        locs[locs.length - 1] = index;\n        return locs;\n    };\n    Object.defineProperty(TensorBuffer.prototype, \"rank\", {\n        get: function () {\n            return this.shape.length;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    TensorBuffer.prototype.toTensor = function () {\n        return Tensor.make(this.shape, { values: this.values }, this.dtype);\n    };\n    __decorate([\n        doc({ heading: 'Tensors', subheading: 'Creation' })\n    ], TensorBuffer.prototype, \"set\", null);\n    __decorate([\n        doc({ heading: 'Tensors', subheading: 'Creation' })\n    ], TensorBuffer.prototype, \"get\", null);\n    __decorate([\n        doc({ heading: 'Tensors', subheading: 'Creation' })\n    ], TensorBuffer.prototype, \"toTensor\", null);\n    TensorBuffer = __decorate([\n        doc({ heading: 'Tensors', subheading: 'Classes' })\n    ], TensorBuffer);\n    return TensorBuffer;\n}());\nexport { TensorBuffer };\nvar Tensor = (function () {\n    function Tensor(shape, dtype, values, dataId) {\n        this.isDisposed = false;\n        this.size = util.sizeFromShape(shape);\n        if (values != null) {\n            util.assert(this.size === values.length, \"Constructing tensor of shape (\" + this.size + \") should match the \" +\n                (\"length of values (\" + values.length + \")\"));\n        }\n        this.shape = shape.slice();\n        this.dtype = dtype || 'float32';\n        this.strides = computeStrides(shape);\n        this.dataId = dataId != null ? dataId : {};\n        this.id = Tensor_1.nextId++;\n        this.rankType = (this.rank < 5 ? this.rank.toString() : 'higher');\n        ENV.engine.registerTensor(this);\n        if (values != null) {\n            ENV.engine.write(this.dataId, values);\n        }\n    }\n    Tensor_1 = Tensor;\n    Tensor.make = function (shape, data, dtype) {\n        return new Tensor_1(shape, dtype, data.values, data.dataId);\n    };\n    Tensor.prototype.flatten = function () {\n        this.throwIfDisposed();\n        return this.as1D();\n    };\n    Tensor.prototype.asScalar = function () {\n        this.throwIfDisposed();\n        util.assert(this.size === 1, 'The array must have only 1 element.');\n        return this.reshape([]);\n    };\n    Tensor.prototype.as1D = function () {\n        this.throwIfDisposed();\n        return this.reshape([this.size]);\n    };\n    Tensor.prototype.as2D = function (rows, columns) {\n        this.throwIfDisposed();\n        return this.reshape([rows, columns]);\n    };\n    Tensor.prototype.as3D = function (rows, columns, depth) {\n        this.throwIfDisposed();\n        return this.reshape([rows, columns, depth]);\n    };\n    Tensor.prototype.as4D = function (rows, columns, depth, depth2) {\n        this.throwIfDisposed();\n        return this.reshape([rows, columns, depth, depth2]);\n    };\n    Tensor.prototype.asType = function (dtype) {\n        this.throwIfDisposed();\n        return ops.cast(this, dtype);\n    };\n    Object.defineProperty(Tensor.prototype, \"rank\", {\n        get: function () {\n            return this.shape.length;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Tensor.prototype.get = function () {\n        var locs = [];\n        for (var _i = 0; _i < arguments.length; _i++) {\n            locs[_i] = arguments[_i];\n        }\n        util.assert(locs.length === this.rank, 'Number of coordinates in get() must match the rank of the tensor');\n        this.throwIfDisposed();\n        if (locs.length === 0) {\n            locs = [0];\n        }\n        var index = locs[locs.length - 1];\n        for (var i = 0; i < locs.length - 1; ++i) {\n            index += this.strides[i] * locs[i];\n        }\n        return this.dataSync()[index];\n    };\n    Tensor.prototype.buffer = function () {\n        return ops.buffer(this.shape, this.dtype, this.dataSync());\n    };\n    Tensor.prototype.data = function () {\n        return __awaiter(this, void 0, void 0, function () {\n            return __generator(this, function (_a) {\n                this.throwIfDisposed();\n                return [2, ENV.engine.read(this.dataId)];\n            });\n        });\n    };\n    Tensor.prototype.dataSync = function () {\n        this.throwIfDisposed();\n        return ENV.engine.readSync(this.dataId);\n    };\n    Tensor.prototype.dispose = function () {\n        if (this.isDisposed) {\n            return;\n        }\n        this.isDisposed = true;\n        ENV.engine.disposeTensor(this);\n    };\n    Tensor.prototype.throwIfDisposed = function () {\n        if (this.isDisposed) {\n            throw new Error(\"Tensor is disposed.\");\n        }\n    };\n    Tensor.prototype.toFloat = function () {\n        return this.asType('float32');\n    };\n    Tensor.prototype.toInt = function () {\n        return this.asType('int32');\n    };\n    Tensor.prototype.toBool = function () {\n        return this.asType('bool');\n    };\n    Tensor.prototype.print = function (verbose) {\n        if (verbose === void 0) { verbose = false; }\n        return ops.print(this, verbose);\n    };\n    Tensor.prototype.reshape = function (newShape) {\n        this.throwIfDisposed();\n        return ops.reshape(this, newShape);\n    };\n    Tensor.prototype.reshapeAs = function (x) {\n        this.throwIfDisposed();\n        return this.reshape(x.shape);\n    };\n    Tensor.prototype.expandDims = function (axis) {\n        if (axis === void 0) { axis = 0; }\n        return ops.expandDims(this, axis);\n    };\n    Tensor.prototype.cumsum = function (axis, exclusive, reverse) {\n        if (axis === void 0) { axis = 0; }\n        if (exclusive === void 0) { exclusive = false; }\n        if (reverse === void 0) { reverse = false; }\n        return ops.cumsum(this, axis, exclusive, reverse);\n    };\n    Tensor.prototype.squeeze = function (axis) {\n        this.throwIfDisposed();\n        return ops.squeeze(this, axis);\n    };\n    Tensor.prototype.clone = function () {\n        this.throwIfDisposed();\n        return ops.clone(this);\n    };\n    Tensor.prototype.toString = function (verbose) {\n        if (verbose === void 0) { verbose = false; }\n        return tensor_util.tensorToString(this, verbose);\n    };\n    Tensor.prototype.tile = function (reps) {\n        this.throwIfDisposed();\n        return ops.tile(this, reps);\n    };\n    Tensor.prototype.gather = function (indices, axis) {\n        if (axis === void 0) { axis = 0; }\n        this.throwIfDisposed();\n        return ops.gather(this, indices, axis);\n    };\n    Tensor.prototype.matMul = function (b, transposeA, transposeB) {\n        if (transposeA === void 0) { transposeA = false; }\n        if (transposeB === void 0) { transposeB = false; }\n        this.throwIfDisposed();\n        return ops.matMul(this, b, transposeA, transposeB);\n    };\n    Tensor.prototype.norm = function (ord, axis, keepDims) {\n        if (ord === void 0) { ord = 'euclidean'; }\n        if (axis === void 0) { axis = null; }\n        if (keepDims === void 0) { keepDims = false; }\n        this.throwIfDisposed();\n        return ops.norm(this, ord, axis, keepDims);\n    };\n    Tensor.prototype.slice = function (begin, size) {\n        this.throwIfDisposed();\n        return ops.slice(this, begin, size);\n    };\n    Tensor.prototype.reverse = function (axis) {\n        this.throwIfDisposed();\n        return ops.reverse(this, axis);\n    };\n    Tensor.prototype.concat = function (x, axis) {\n        if (axis === void 0) { axis = 0; }\n        this.throwIfDisposed();\n        return ops.concat([this, x], axis);\n    };\n    Tensor.prototype.stack = function (x, axis) {\n        if (axis === void 0) { axis = 0; }\n        return ops.stack([this, x], axis);\n    };\n    Tensor.prototype.unstack = function (x, axis) {\n        if (axis === void 0) { axis = 0; }\n        return ops.unstack(this, axis);\n    };\n    Tensor.prototype.pad = function (paddings, constantValue) {\n        if (constantValue === void 0) { constantValue = 0; }\n        return ops.pad(this, paddings, constantValue);\n    };\n    Tensor.prototype.batchNormalization = function (mean, variance, varianceEpsilon, scale, offset) {\n        if (varianceEpsilon === void 0) { varianceEpsilon = .001; }\n        this.throwIfDisposed();\n        return ops.batchNormalization(this, mean, variance, varianceEpsilon, scale, offset);\n    };\n    Tensor.prototype.logSumExp = function (axis, keepDims) {\n        if (axis === void 0) { axis = null; }\n        if (keepDims === void 0) { keepDims = false; }\n        this.throwIfDisposed();\n        return ops.logSumExp(this, axis, keepDims);\n    };\n    Tensor.prototype.sum = function (axis, keepDims) {\n        if (axis === void 0) { axis = null; }\n        if (keepDims === void 0) { keepDims = false; }\n        this.throwIfDisposed();\n        return ops.sum(this, axis, keepDims);\n    };\n    Tensor.prototype.mean = function (axis, keepDims) {\n        if (axis === void 0) { axis = null; }\n        if (keepDims === void 0) { keepDims = false; }\n        this.throwIfDisposed();\n        return ops.mean(this, axis, keepDims);\n    };\n    Tensor.prototype.min = function (axis, keepDims) {\n        if (axis === void 0) { axis = null; }\n        if (keepDims === void 0) { keepDims = false; }\n        this.throwIfDisposed();\n        return ops.min(this, axis, keepDims);\n    };\n    Tensor.prototype.max = function (axis, keepDims) {\n        if (axis === void 0) { axis = null; }\n        if (keepDims === void 0) { keepDims = false; }\n        this.throwIfDisposed();\n        return ops.max(this, axis, keepDims);\n    };\n    Tensor.prototype.argMin = function (axis) {\n        if (axis === void 0) { axis = null; }\n        this.throwIfDisposed();\n        return ops.argMin(this, axis);\n    };\n    Tensor.prototype.argMax = function (axis) {\n        if (axis === void 0) { axis = null; }\n        this.throwIfDisposed();\n        return ops.argMax(this, axis);\n    };\n    Tensor.prototype.cast = function (dtype) {\n        this.throwIfDisposed();\n        return ops.cast(this, dtype);\n    };\n    Tensor.prototype.add = function (x) {\n        this.throwIfDisposed();\n        return ops.add(this, x);\n    };\n    Tensor.prototype.addStrict = function (x) {\n        this.throwIfDisposed();\n        return ops.addStrict(this, x);\n    };\n    Tensor.prototype.sub = function (x) {\n        this.throwIfDisposed();\n        return ops.sub(this, x);\n    };\n    Tensor.prototype.subStrict = function (x) {\n        this.throwIfDisposed();\n        return ops.subStrict(this, x);\n    };\n    Tensor.prototype.pow = function (exp) {\n        this.throwIfDisposed();\n        return ops.pow(this, exp);\n    };\n    Tensor.prototype.powStrict = function (exp) {\n        this.throwIfDisposed();\n        return ops.powStrict(this, exp);\n    };\n    Tensor.prototype.mul = function (x) {\n        this.throwIfDisposed();\n        return ops.mul(this, x);\n    };\n    Tensor.prototype.mulStrict = function (x) {\n        this.throwIfDisposed();\n        return ops.mulStrict(this, x);\n    };\n    Tensor.prototype.div = function (x) {\n        this.throwIfDisposed();\n        return ops.div(this, x);\n    };\n    Tensor.prototype.divStrict = function (x) {\n        this.throwIfDisposed();\n        return ops.divStrict(this, x);\n    };\n    Tensor.prototype.minimum = function (x) {\n        this.throwIfDisposed();\n        return ops.minimum(this, x);\n    };\n    Tensor.prototype.minimumStrict = function (x) {\n        this.throwIfDisposed();\n        return ops.minimumStrict(this, x);\n    };\n    Tensor.prototype.maximum = function (x) {\n        this.throwIfDisposed();\n        return ops.maximum(this, x);\n    };\n    Tensor.prototype.maximumStrict = function (x) {\n        this.throwIfDisposed();\n        return ops.maximumStrict(this, x);\n    };\n    Tensor.prototype.mod = function (x) {\n        this.throwIfDisposed();\n        return ops.mod(this, x);\n    };\n    Tensor.prototype.modStrict = function (x) {\n        this.throwIfDisposed();\n        return ops.modStrict(this, x);\n    };\n    Tensor.prototype.squaredDifference = function (x) {\n        this.throwIfDisposed();\n        return ops.squaredDifference(this, x);\n    };\n    Tensor.prototype.squaredDifferenceStrict = function (x) {\n        this.throwIfDisposed();\n        return ops.squaredDifferenceStrict(this, x);\n    };\n    Tensor.prototype.transpose = function (perm) {\n        this.throwIfDisposed();\n        return ops.transpose(this, perm);\n    };\n    Tensor.prototype.notEqual = function (x) {\n        this.throwIfDisposed();\n        return ops.notEqual(this, x);\n    };\n    Tensor.prototype.notEqualStrict = function (x) {\n        this.throwIfDisposed();\n        return ops.notEqualStrict(this, x);\n    };\n    Tensor.prototype.less = function (x) {\n        this.throwIfDisposed();\n        return ops.less(this, x);\n    };\n    Tensor.prototype.lessStrict = function (x) {\n        this.throwIfDisposed();\n        return ops.lessStrict(this, x);\n    };\n    Tensor.prototype.equal = function (x) {\n        this.throwIfDisposed();\n        return ops.equal(this, x);\n    };\n    Tensor.prototype.equalStrict = function (x) {\n        this.throwIfDisposed();\n        return ops.equalStrict(this, x);\n    };\n    Tensor.prototype.lessEqual = function (x) {\n        this.throwIfDisposed();\n        return ops.lessEqual(this, x);\n    };\n    Tensor.prototype.lessEqualStrict = function (x) {\n        this.throwIfDisposed();\n        return ops.lessEqualStrict(this, x);\n    };\n    Tensor.prototype.greater = function (x) {\n        this.throwIfDisposed();\n        return ops.greater(this, x);\n    };\n    Tensor.prototype.greaterStrict = function (x) {\n        this.throwIfDisposed();\n        return ops.greaterStrict(this, x);\n    };\n    Tensor.prototype.greaterEqual = function (x) {\n        this.throwIfDisposed();\n        return ops.greaterEqual(this, x);\n    };\n    Tensor.prototype.greaterEqualStrict = function (x) {\n        this.throwIfDisposed();\n        return ops.greaterEqualStrict(this, x);\n    };\n    Tensor.prototype.logicalAnd = function (x) {\n        this.throwIfDisposed();\n        return ops.logicalAnd(this, x);\n    };\n    Tensor.prototype.logicalOr = function (x) {\n        this.throwIfDisposed();\n        return ops.logicalOr(this, x);\n    };\n    Tensor.prototype.logicalNot = function () {\n        this.throwIfDisposed();\n        return ops.logicalNot(this);\n    };\n    Tensor.prototype.logicalXor = function (x) {\n        this.throwIfDisposed();\n        return ops.logicalXor(this, x);\n    };\n    Tensor.prototype.where = function (condition, x) {\n        this.throwIfDisposed();\n        return ops.where(condition, this, x);\n    };\n    Tensor.prototype.neg = function () {\n        this.throwIfDisposed();\n        return ops.neg(this);\n    };\n    Tensor.prototype.ceil = function () {\n        this.throwIfDisposed();\n        return ops.ceil(this);\n    };\n    Tensor.prototype.floor = function () {\n        this.throwIfDisposed();\n        return ops.floor(this);\n    };\n    Tensor.prototype.sign = function () {\n        this.throwIfDisposed();\n        return ops.sign(this);\n    };\n    Tensor.prototype.exp = function () {\n        this.throwIfDisposed();\n        return ops.exp(this);\n    };\n    Tensor.prototype.expm1 = function () {\n        this.throwIfDisposed();\n        return ops.expm1(this);\n    };\n    Tensor.prototype.log = function () {\n        this.throwIfDisposed();\n        return ops.log(this);\n    };\n    Tensor.prototype.log1p = function () {\n        this.throwIfDisposed();\n        return ops.log1p(this);\n    };\n    Tensor.prototype.sqrt = function () {\n        this.throwIfDisposed();\n        return ops.sqrt(this);\n    };\n    Tensor.prototype.rsqrt = function () {\n        this.throwIfDisposed();\n        return ops.rsqrt(this);\n    };\n    Tensor.prototype.square = function () {\n        this.throwIfDisposed();\n        return ops.square(this);\n    };\n    Tensor.prototype.reciprocal = function () {\n        this.throwIfDisposed();\n        return ops.reciprocal(this);\n    };\n    Tensor.prototype.abs = function () {\n        this.throwIfDisposed();\n        return ops.abs(this);\n    };\n    Tensor.prototype.clipByValue = function (min, max) {\n        this.throwIfDisposed();\n        return ops.clipByValue(this, min, max);\n    };\n    Tensor.prototype.relu = function () {\n        this.throwIfDisposed();\n        return ops.relu(this);\n    };\n    Tensor.prototype.elu = function () {\n        this.throwIfDisposed();\n        return ops.elu(this);\n    };\n    Tensor.prototype.selu = function () {\n        this.throwIfDisposed();\n        return ops.selu(this);\n    };\n    Tensor.prototype.leakyRelu = function (alpha) {\n        if (alpha === void 0) { alpha = 0.2; }\n        this.throwIfDisposed();\n        return ops.leakyRelu(this, alpha);\n    };\n    Tensor.prototype.prelu = function (alpha) {\n        this.throwIfDisposed();\n        return ops.prelu(this, alpha);\n    };\n    Tensor.prototype.sigmoid = function () {\n        this.throwIfDisposed();\n        return ops.sigmoid(this);\n    };\n    Tensor.prototype.logSigmoid = function () {\n        this.throwIfDisposed();\n        return ops.logSigmoid(this);\n    };\n    Tensor.prototype.softplus = function () {\n        this.throwIfDisposed();\n        return ops.softplus(this);\n    };\n    Tensor.prototype.sin = function () {\n        this.throwIfDisposed();\n        return ops.sin(this);\n    };\n    Tensor.prototype.cos = function () {\n        this.throwIfDisposed();\n        return ops.cos(this);\n    };\n    Tensor.prototype.tan = function () {\n        this.throwIfDisposed();\n        return ops.tan(this);\n    };\n    Tensor.prototype.asin = function () {\n        this.throwIfDisposed();\n        return ops.asin(this);\n    };\n    Tensor.prototype.acos = function () {\n        this.throwIfDisposed();\n        return ops.acos(this);\n    };\n    Tensor.prototype.atan = function () {\n        this.throwIfDisposed();\n        return ops.atan(this);\n    };\n    Tensor.prototype.sinh = function () {\n        this.throwIfDisposed();\n        return ops.sinh(this);\n    };\n    Tensor.prototype.cosh = function () {\n        this.throwIfDisposed();\n        return ops.cosh(this);\n    };\n    Tensor.prototype.tanh = function () {\n        this.throwIfDisposed();\n        return ops.tanh(this);\n    };\n    Tensor.prototype.asinh = function () {\n        this.throwIfDisposed();\n        return ops.asinh(this);\n    };\n    Tensor.prototype.acosh = function () {\n        this.throwIfDisposed();\n        return ops.acosh(this);\n    };\n    Tensor.prototype.atanh = function () {\n        this.throwIfDisposed();\n        return ops.atanh(this);\n    };\n    Tensor.prototype.erf = function () {\n        this.throwIfDisposed();\n        return ops.erf(this);\n    };\n    Tensor.prototype.round = function () {\n        this.throwIfDisposed();\n        return ops.round(this);\n    };\n    Tensor.prototype.step = function (alpha) {\n        if (alpha === void 0) { alpha = 0.0; }\n        this.throwIfDisposed();\n        return ops.step(this, alpha);\n    };\n    Tensor.prototype.softmax = function (dim) {\n        if (dim === void 0) { dim = -1; }\n        this.throwIfDisposed();\n        return ops.softmax(this, dim);\n    };\n    Tensor.prototype.resizeBilinear = function (newShape2D, alignCorners) {\n        if (alignCorners === void 0) { alignCorners = false; }\n        this.throwIfDisposed();\n        return ops.image.resizeBilinear(this, newShape2D, alignCorners);\n    };\n    Tensor.prototype.resizeNearestNeighbor = function (newShape2D, alignCorners) {\n        if (alignCorners === void 0) { alignCorners = false; }\n        this.throwIfDisposed();\n        return ops.image.resizeNearestNeighbor(this, newShape2D, alignCorners);\n    };\n    Tensor.prototype.conv1d = function (filter, stride, pad, dataFormat, dilation, dimRoundingMode) {\n        if (dataFormat === void 0) { dataFormat = 'NWC'; }\n        if (dilation === void 0) { dilation = 1; }\n        this.throwIfDisposed();\n        return ops.conv1d(this, filter, stride, pad, dataFormat, dilation, dimRoundingMode);\n    };\n    Tensor.prototype.conv2d = function (filter, strides, pad, dataFormat, dilations, dimRoundingMode) {\n        if (dataFormat === void 0) { dataFormat = 'NHWC'; }\n        if (dilations === void 0) { dilations = [1, 1]; }\n        this.throwIfDisposed();\n        return ops.conv2d(this, filter, strides, pad, dataFormat, dilations, dimRoundingMode);\n    };\n    Tensor.prototype.conv2dTranspose = function (filter, outputShape, strides, pad, dimRoundingMode) {\n        this.throwIfDisposed();\n        return ops.conv2dTranspose(this, filter, outputShape, strides, pad, dimRoundingMode);\n    };\n    Tensor.prototype.depthwiseConv2D = function (filter, strides, pad, dataFormat, dilations, dimRoundingMode) {\n        if (dataFormat === void 0) { dataFormat = 'NHWC'; }\n        if (dilations === void 0) { dilations = [1, 1]; }\n        this.throwIfDisposed();\n        return ops.depthwiseConv2d(this, filter, strides, pad, dataFormat, dilations, dimRoundingMode);\n    };\n    Tensor.prototype.avgPool = function (filterSize, strides, pad, dimRoundingMode) {\n        this.throwIfDisposed();\n        return ops.avgPool(this, filterSize, strides, pad, dimRoundingMode);\n    };\n    Tensor.prototype.maxPool = function (filterSize, strides, pad, dimRoundingMode) {\n        this.throwIfDisposed();\n        return ops.maxPool(this, filterSize, strides, pad, dimRoundingMode);\n    };\n    Tensor.prototype.localResponseNormalization = function (radius, bias, alpha, beta) {\n        if (radius === void 0) { radius = 5; }\n        if (bias === void 0) { bias = 1; }\n        if (alpha === void 0) { alpha = 1; }\n        if (beta === void 0) { beta = 0.5; }\n        return ops.localResponseNormalization(this, radius, bias, alpha, beta);\n    };\n    Tensor.prototype.variable = function (trainable, name, dtype) {\n        if (trainable === void 0) { trainable = true; }\n        this.throwIfDisposed();\n        return Variable.variable(this, trainable, name, dtype);\n    };\n    Tensor.prototype.unsortedSegmentSum = function (segmentIds, numSegments, axis) {\n        if (axis === void 0) { axis = 0; }\n        this.throwIfDisposed();\n        return ops.unsortedSegmentSum(this, segmentIds, numSegments, axis);\n    };\n    Tensor.nextId = 0;\n    __decorate([\n        doc({ heading: 'Tensors', subheading: 'Classes' })\n    ], Tensor.prototype, \"flatten\", null);\n    __decorate([\n        doc({ heading: 'Tensors', subheading: 'Classes' })\n    ], Tensor.prototype, \"asScalar\", null);\n    __decorate([\n        doc({ heading: 'Tensors', subheading: 'Classes' })\n    ], Tensor.prototype, \"as1D\", null);\n    __decorate([\n        doc({ heading: 'Tensors', subheading: 'Classes' })\n    ], Tensor.prototype, \"as2D\", null);\n    __decorate([\n        doc({ heading: 'Tensors', subheading: 'Classes' })\n    ], Tensor.prototype, \"as3D\", null);\n    __decorate([\n        doc({ heading: 'Tensors', subheading: 'Classes' })\n    ], Tensor.prototype, \"as4D\", null);\n    __decorate([\n        doc({ heading: 'Tensors', subheading: 'Classes' })\n    ], Tensor.prototype, \"asType\", null);\n    __decorate([\n        doc({ heading: 'Tensors', subheading: 'Classes' })\n    ], Tensor.prototype, \"buffer\", null);\n    __decorate([\n        doc({ heading: 'Tensors', subheading: 'Classes' })\n    ], Tensor.prototype, \"data\", null);\n    __decorate([\n        doc({ heading: 'Tensors', subheading: 'Classes' })\n    ], Tensor.prototype, \"dataSync\", null);\n    __decorate([\n        doc({ heading: 'Tensors', subheading: 'Classes' })\n    ], Tensor.prototype, \"dispose\", null);\n    __decorate([\n        doc({ heading: 'Tensors', subheading: 'Classes' })\n    ], Tensor.prototype, \"toFloat\", null);\n    __decorate([\n        doc({ heading: 'Tensors', subheading: 'Classes' })\n    ], Tensor.prototype, \"toInt\", null);\n    __decorate([\n        doc({ heading: 'Tensors', subheading: 'Classes' })\n    ], Tensor.prototype, \"toBool\", null);\n    __decorate([\n        doc({ heading: 'Tensors', subheading: 'Classes' })\n    ], Tensor.prototype, \"print\", null);\n    __decorate([\n        doc({ heading: 'Tensors', subheading: 'Classes' })\n    ], Tensor.prototype, \"reshape\", null);\n    __decorate([\n        doc({ heading: 'Tensors', subheading: 'Classes' })\n    ], Tensor.prototype, \"reshapeAs\", null);\n    __decorate([\n        doc({ heading: 'Tensors', subheading: 'Classes' })\n    ], Tensor.prototype, \"expandDims\", null);\n    __decorate([\n        doc({ heading: 'Tensors', subheading: 'Classes' })\n    ], Tensor.prototype, \"cumsum\", null);\n    __decorate([\n        doc({ heading: 'Tensors', subheading: 'Classes' })\n    ], Tensor.prototype, \"squeeze\", null);\n    __decorate([\n        doc({ heading: 'Tensors', subheading: 'Classes' })\n    ], Tensor.prototype, \"clone\", null);\n    __decorate([\n        doc({ heading: 'Tensors', subheading: 'Classes' })\n    ], Tensor.prototype, \"toString\", null);\n    Tensor = Tensor_1 = __decorate([\n        doc({ heading: 'Tensors', subheading: 'Classes' })\n    ], Tensor);\n    return Tensor;\n    var Tensor_1;\n}());\nexport { Tensor };\nvar Variable = (function (_super) {\n    __extends(Variable, _super);\n    function Variable(initialValue, trainable, name) {\n        if (trainable === void 0) { trainable = true; }\n        var _this = _super.call(this, initialValue.shape, initialValue.dtype, null, initialValue.dataId) || this;\n        _this.trainable = trainable;\n        _this.name = name;\n        if (_this.name == null) {\n            _this.name = Variable_1.nextVarId.toString();\n            Variable_1.nextVarId++;\n        }\n        ENV.engine.registerVariable(_this);\n        return _this;\n    }\n    Variable_1 = Variable;\n    Variable.variable = function (initialValue, trainable, name, dtype) {\n        if (trainable === void 0) { trainable = true; }\n        if (dtype != null && dtype !== initialValue.dtype) {\n            initialValue = initialValue.asType(dtype);\n        }\n        return new Variable_1(initialValue, trainable, name);\n    };\n    Variable.prototype.assign = function (newValue) {\n        if (newValue.dtype !== this.dtype) {\n            throw new Error(\"dtype of the new value (\" + newValue.dtype + \") and \" +\n                (\"previous value (\" + this.dtype + \") must match\"));\n        }\n        if (!util.arraysEqual(newValue.shape, this.shape)) {\n            throw new Error(\"shape of the new value (\" + newValue.shape + \") and \" +\n                (\"previous value (\" + this.shape + \") must match\"));\n        }\n        ENV.engine.disposeTensor(this);\n        this.dataId = newValue.dataId;\n        ENV.engine.registerTensor(this);\n    };\n    Variable.nextVarId = 0;\n    __decorate([\n        doc({ heading: 'Tensors', subheading: 'Classes' })\n    ], Variable.prototype, \"assign\", null);\n    __decorate([\n        doc({ heading: 'Tensors', subheading: 'Creation' })\n    ], Variable, \"variable\", null);\n    Variable = Variable_1 = __decorate([\n        doc({ heading: 'Tensors', subheading: 'Classes' })\n    ], Variable);\n    return Variable;\n    var Variable_1;\n}(Tensor));\nexport { Variable };\nvar variable = Variable.variable;\nexport { variable };\nfunction computeStrides(shape) {\n    var rank = shape.length;\n    if (rank < 2) {\n        return [];\n    }\n    var strides = new Array(rank - 1);\n    strides[rank - 2] = shape[rank - 1];\n    for (var i = rank - 3; i >= 0; --i) {\n        strides[i] = strides[i + 1] * shape[i + 1];\n    }\n    return strides;\n}\n//# sourceMappingURL=tensor.js.map","var __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\n};\nimport { doc } from './doc';\nimport { ENV } from './environment';\nimport { tidy } from './globals';\nimport { Tensor, Variable } from './tensor';\nimport * as util from './util';\nvar Gradients = (function () {\n    function Gradients() {\n    }\n    Gradients.gradScope = function (nameOrScopeFn, scopeFn) {\n        return tidy(nameOrScopeFn, scopeFn, true);\n    };\n    Gradients.grad = function (f) {\n        util.assert(util.isFunction(f), 'The f passed in grad(f) must be a function');\n        return function (x, dy) {\n            util.assert(x instanceof Tensor, 'The x passed in grad(f)(x) must be a tensor');\n            util.assert(dy == null || dy instanceof Tensor, 'The dy passed in grad(f)(x, dy) must be a tensor');\n            return tidy(function () {\n                var _a = ENV.engine.gradients(function () { return f(x); }, [x], dy), value = _a.value, grads = _a.grads;\n                if (dy != null) {\n                    util.assertShapesMatch(value.shape, dy.shape, 'The shape of dy passed in grad(f)(x, dy) must match the shape ' +\n                        'returned by f(x)');\n                }\n                checkGrads(grads);\n                return grads[0];\n            });\n        };\n    };\n    Gradients.grads = function (f) {\n        util.assert(util.isFunction(f), 'The f passed in grads(f) must be a function');\n        return function (args, dy) {\n            util.assert(Array.isArray(args) && args.every(function (arg) { return arg instanceof Tensor; }), 'The args passed in grads(f)(args) must be an array of tensors');\n            util.assert(dy == null || dy instanceof Tensor, 'The dy passed in grads(f)(args, dy) must be a tensor');\n            return tidy(function () {\n                var _a = ENV.engine.gradients(function () { return f.apply(void 0, args); }, args, dy), value = _a.value, grads = _a.grads;\n                if (dy != null) {\n                    util.assertShapesMatch(value.shape, dy.shape, 'The shape of dy passed in grads(f)([x1,...], dy) must ' +\n                        'match the shape returned by f([x1,...])');\n                }\n                checkGrads(grads);\n                return grads;\n            });\n        };\n    };\n    Gradients.valueAndGrad = function (f) {\n        util.assert(util.isFunction(f), 'The f passed in valueAndGrad(f) must be a function');\n        return function (x, dy) {\n            util.assert(x instanceof Tensor, 'The x passed in valueAndGrad(f)(x) must be a tensor');\n            util.assert(dy == null || dy instanceof Tensor, 'The dy passed in valueAndGrad(f)(x, dy) must be a tensor');\n            var _a = ENV.engine.gradients(function () { return f(x); }, [x], dy), grads = _a.grads, value = _a.value;\n            checkGrads(grads);\n            return { grad: grads[0], value: value };\n        };\n    };\n    Gradients.valueAndGrads = function (f) {\n        util.assert(util.isFunction(f), 'The f passed in valueAndGrads(f) must be a function');\n        return function (args, dy) {\n            util.assert(Array.isArray(args) && args.every(function (arg) { return arg instanceof Tensor; }), 'The args passed in valueAndGrads(f)(args) must be array of tensors');\n            util.assert(dy == null || dy instanceof Tensor, 'The dy passed in valueAndGrads(f)(args, dy) must be a tensor');\n            var res = ENV.engine.gradients(function () { return f.apply(void 0, args); }, args, dy);\n            if (dy != null) {\n                util.assertShapesMatch(res.value.shape, dy.shape, 'The shape of dy passed in valueAndGrads(f)([x1,...], dy) must ' +\n                    'match the shape returned by f([x1,...])');\n            }\n            checkGrads(res.grads);\n            return res;\n        };\n    };\n    Gradients.variableGrads = function (f, varList) {\n        util.assert(util.isFunction(f), 'The f passed in variableGrads(f) must be a function');\n        util.assert(varList == null ||\n            Array.isArray(varList) && varList.every(function (v) { return v instanceof Variable; }), 'The varList passed in variableGrads(f, varList) must be an array ' +\n            'of variables');\n        if (varList == null) {\n            varList = [];\n            for (var varName in ENV.engine.registeredVariables) {\n                varList.push(ENV.engine.registeredVariables[varName]);\n            }\n        }\n        var originalVarCount = varList.length;\n        varList = varList.filter(function (variable) { return variable.trainable; });\n        util.assert(varList.length > 0, \"variableGrads() expects at least one of the input variables to be \" +\n            (\"trainable, but none of the \" + originalVarCount + \" variables is \") +\n            \"trainable.\");\n        var allowNoGradients = true;\n        var _a = ENV.engine.gradients(f, varList, null, allowNoGradients), value = _a.value, grads = _a.grads;\n        util.assert(grads.some(function (g) { return g != null; }), 'Cannot find a connection between any variable and the result of the ' +\n            'loss function y=f(x). Please make sure the operations that use ' +\n            'variables are inside the function f passed to minimize().');\n        util.assert(value.rank === 0, \"The f passed in variableGrads(f) must return a scalar, but it \" +\n            (\"returned a rank-\" + value.rank + \" tensor\"));\n        var namedGrads = {};\n        varList.forEach(function (v, i) {\n            if (grads[i] != null) {\n                namedGrads[v.name] = grads[i];\n            }\n        });\n        return { value: value, grads: namedGrads };\n    };\n    Gradients.customGrad = function (f) {\n        return ENV.engine.customGrad(f);\n    };\n    __decorate([\n        doc({ heading: 'Training', subheading: 'Gradients' })\n    ], Gradients, \"grad\", null);\n    __decorate([\n        doc({ heading: 'Training', subheading: 'Gradients' })\n    ], Gradients, \"grads\", null);\n    __decorate([\n        doc({ heading: 'Training', subheading: 'Gradients' })\n    ], Gradients, \"valueAndGrad\", null);\n    __decorate([\n        doc({ heading: 'Training', subheading: 'Gradients' })\n    ], Gradients, \"valueAndGrads\", null);\n    __decorate([\n        doc({ heading: 'Training', subheading: 'Gradients' })\n    ], Gradients, \"variableGrads\", null);\n    __decorate([\n        doc({ heading: 'Training', subheading: 'Gradients' })\n    ], Gradients, \"customGrad\", null);\n    return Gradients;\n}());\nexport { Gradients };\nfunction checkGrads(grads) {\n    var numNullGradients = grads.filter(function (g) { return g == null; }).length;\n    if (numNullGradients > 0) {\n        throw new Error(\"Cannot compute gradient of y=f(x) with respect to x. Make sure that\\n    the f you passed encloses all operations that lead from x to y.\");\n    }\n}\n//# sourceMappingURL=gradients.js.map","import { Gradients } from './gradients';\nimport { Tracking } from './tracking';\nexport var tidy = Tracking.tidy;\nexport var keep = Tracking.keep;\nexport var dispose = Tracking.dispose;\nexport var time = Tracking.time;\nexport var grad = Gradients.grad;\nexport var valueAndGrad = Gradients.valueAndGrad;\nexport var grads = Gradients.grads;\nexport var valueAndGrads = Gradients.valueAndGrads;\nexport var variableGrads = Gradients.variableGrads;\nexport var customGrad = Gradients.customGrad;\n//# sourceMappingURL=globals.js.map","import * as util from './util';\nvar Profiler = (function () {\n    function Profiler(backendTimer, logger) {\n        this.backendTimer = backendTimer;\n        this.logger = logger;\n        if (logger == null) {\n            this.logger = new Logger();\n        }\n    }\n    Profiler.prototype.profileKernel = function (name, f) {\n        var _this = this;\n        var result;\n        var holdResultWrapperFn = function () {\n            result = f();\n        };\n        var timer = this.backendTimer.time(holdResultWrapperFn);\n        var vals = result.dataSync();\n        util.checkForNaN(vals, result.dtype, name);\n        timer.then(function (timing) {\n            _this.logger.logKernelProfile(name, result, vals, timing.kernelMs);\n        });\n        return result;\n    };\n    return Profiler;\n}());\nexport { Profiler };\nvar Logger = (function () {\n    function Logger() {\n    }\n    Logger.prototype.logKernelProfile = function (name, result, vals, timeMs) {\n        var time = util.rightPad(timeMs + \"ms\", 9);\n        var paddedName = util.rightPad(name, 25);\n        var rank = result.rank;\n        var size = result.size;\n        var shape = util.rightPad(result.shape.toString(), 14);\n        console.log(\"%c\" + paddedName + \"\\t%c\" + time + \"\\t%c\" + rank + \"D \" + shape + \"\\t%c\" + size, 'font-weight:bold', 'color:red', 'color:blue', 'color: orange');\n    };\n    return Logger;\n}());\nexport { Logger };\n//# sourceMappingURL=profiler.js.map","import * as util from './util';\nexport function getFilteredNodesXToY(tape, xs, y) {\n    var tensorsFromX = {};\n    var nodesFromX = {};\n    for (var i = 0; i < xs.length; i++) {\n        tensorsFromX[xs[i].id] = true;\n    }\n    for (var i = 0; i < tape.length; i++) {\n        var node = tape[i];\n        var nodeInputs = node.inputs;\n        for (var inputName in nodeInputs) {\n            var input = nodeInputs[inputName];\n            var anyInputFromX = false;\n            for (var j = 0; j < xs.length; j++) {\n                if (tensorsFromX[input.id]) {\n                    tensorsFromX[node.output.id] = true;\n                    anyInputFromX = true;\n                    nodesFromX[node.id] = true;\n                    break;\n                }\n            }\n            if (anyInputFromX) {\n                break;\n            }\n        }\n    }\n    var tensorsLeadToY = {};\n    tensorsLeadToY[y.id] = true;\n    var nodesToY = {};\n    for (var i = tape.length - 1; i >= 0; i--) {\n        var node = tape[i];\n        var nodeInputs = node.inputs;\n        var outputs = [];\n        outputs.push(node.output);\n        for (var j = 0; j < outputs.length; j++) {\n            if (tensorsLeadToY[outputs[j].id]) {\n                for (var inputName in nodeInputs) {\n                    tensorsLeadToY[nodeInputs[inputName].id] = true;\n                    nodesToY[node.id] = true;\n                }\n                break;\n            }\n        }\n    }\n    var filteredTape = [];\n    for (var i = 0; i < tape.length; i++) {\n        var node = tape[i];\n        if (nodesFromX[node.id] && nodesToY[node.id]) {\n            var prunedInputs = {};\n            for (var inputName in node.inputs) {\n                var nodeInput = node.inputs[inputName];\n                if (tensorsFromX[nodeInput.id]) {\n                    prunedInputs[inputName] = nodeInput;\n                }\n            }\n            var prunedNode = Object.assign({}, node);\n            prunedNode.inputs = prunedInputs;\n            prunedNode.output = node.output;\n            filteredTape.push(prunedNode);\n        }\n    }\n    return filteredTape;\n}\nexport function backpropagateGradients(tensorAccumulatedGradientMap, filteredTape) {\n    for (var i = filteredTape.length - 1; i >= 0; i--) {\n        var node = filteredTape[i];\n        var dy = tensorAccumulatedGradientMap[node.output.id];\n        if (node.gradient == null) {\n            throw new Error(\"Cannot compute gradient: gradient function not found \" +\n                (\"for \" + node.name + \".\"));\n        }\n        var inputGradients = node.gradient(dy);\n        for (var inputName in node.inputs) {\n            if (!(inputName in inputGradients)) {\n                throw new Error(\"Cannot backprop through input \" + inputName + \". \" +\n                    (\"Available gradients found: \" + Object.keys(inputGradients) + \".\"));\n            }\n            var dx = inputGradients[inputName]();\n            var x = node.inputs[inputName];\n            if (!util.arraysEqual(dx.shape, x.shape)) {\n                throw new Error(\"Error in gradient for op \" + node.name + \". The gradient of input \" +\n                    (\"'\" + inputName + \"' has shape '\" + dx.shape + \"', which does not match \") +\n                    (\"the shape of the input '\" + x.shape + \"'\"));\n            }\n            if (tensorAccumulatedGradientMap[x.id] == null) {\n                tensorAccumulatedGradientMap[x.id] = dx;\n            }\n            else {\n                var curGradient = tensorAccumulatedGradientMap[x.id];\n                tensorAccumulatedGradientMap[x.id] = curGradient.add(dx);\n                curGradient.dispose();\n            }\n        }\n    }\n}\n//# sourceMappingURL=tape.js.map","var __awaiter = (this && this.__awaiter) || function (thisArg, _arguments, P, generator) {\n    return new (P || (P = Promise))(function (resolve, reject) {\n        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\n        function rejected(value) { try { step(generator[\"throw\"](value)); } catch (e) { reject(e); } }\n        function step(result) { result.done ? resolve(result.value) : new P(function (resolve) { resolve(result.value); }).then(fulfilled, rejected); }\n        step((generator = generator.apply(thisArg, _arguments || [])).next());\n    });\n};\nvar __generator = (this && this.__generator) || function (thisArg, body) {\n    var _ = { label: 0, sent: function() { if (t[0] & 1) throw t[1]; return t[1]; }, trys: [], ops: [] }, f, y, t, g;\n    return g = { next: verb(0), \"throw\": verb(1), \"return\": verb(2) }, typeof Symbol === \"function\" && (g[Symbol.iterator] = function() { return this; }), g;\n    function verb(n) { return function (v) { return step([n, v]); }; }\n    function step(op) {\n        if (f) throw new TypeError(\"Generator is already executing.\");\n        while (_) try {\n            if (f = 1, y && (t = y[op[0] & 2 ? \"return\" : op[0] ? \"throw\" : \"next\"]) && !(t = t.call(y, op[1])).done) return t;\n            if (y = 0, t) op = [0, t.value];\n            switch (op[0]) {\n                case 0: case 1: t = op; break;\n                case 4: _.label++; return { value: op[1], done: false };\n                case 5: _.label++; y = op[1]; op = [0]; continue;\n                case 7: op = _.ops.pop(); _.trys.pop(); continue;\n                default:\n                    if (!(t = _.trys, t = t.length > 0 && t[t.length - 1]) && (op[0] === 6 || op[0] === 2)) { _ = 0; continue; }\n                    if (op[0] === 3 && (!t || (op[1] > t[0] && op[1] < t[3]))) { _.label = op[1]; break; }\n                    if (op[0] === 6 && _.label < t[1]) { _.label = t[1]; t = op; break; }\n                    if (t && _.label < t[2]) { _.label = t[2]; _.ops.push(op); break; }\n                    if (t[2]) _.ops.pop();\n                    _.trys.pop(); continue;\n            }\n            op = body.call(thisArg, _);\n        } catch (e) { op = [6, e]; y = 0; } finally { f = t = 0; }\n        if (op[0] & 5) throw op[1]; return { value: op[0] ? op[1] : void 0, done: true };\n    }\n};\nimport { ENV } from './environment';\nimport { tidy } from './globals';\nimport * as ops from './ops/ops';\nimport { Profiler } from './profiler';\nimport { backpropagateGradients, getFilteredNodesXToY } from './tape';\nimport { Tensor, Variable } from './tensor';\nimport * as util from './util';\nvar Engine = (function () {\n    function Engine(backend, safeMode) {\n        this.backend = backend;\n        this.safeMode = safeMode;\n        this.registeredVariables = {};\n        this.refCounter = new WeakMap();\n        this.nextTapeNodeId = 0;\n        this.numBytes = 0;\n        this.numTensors = 0;\n        this.numDataBuffers = 0;\n        this.gradientScopeCount = 0;\n        this.customGradientDepth = 0;\n        this.activeScope = { keep: [], track: [] };\n        this.scopeStack = [this.activeScope];\n        this.profiler = new Profiler(backend);\n    }\n    Engine.prototype.runKernel = function (forwardFunc, inputs, backwardsFunc) {\n        var _this = this;\n        var result;\n        var saved = [];\n        var saveFunc = function (x) {\n            saved.push(x);\n            return x;\n        };\n        var scopeName = this.activeScope.name;\n        this.customGradientDepth++;\n        if (!ENV.get('DEBUG')) {\n            result = forwardFunc(this.backend, saveFunc);\n        }\n        else {\n            result = this.profiler.profileKernel(scopeName, function () { return forwardFunc(_this.backend, saveFunc); });\n        }\n        this.customGradientDepth--;\n        if (this.shouldRecord()) {\n            var tapeNode = {\n                id: this.nextTapeNodeId++,\n                name: scopeName,\n                inputs: inputs,\n                output: result,\n            };\n            if (backwardsFunc != null) {\n                tapeNode.gradient = function (dy) { return backwardsFunc(dy, saved); };\n            }\n            this.activeTape.push(tapeNode);\n        }\n        return result;\n    };\n    Engine.prototype.registerTensor = function (a) {\n        var refCount = this.refCounter.has(a.dataId) ? this.refCounter.get(a.dataId) : 0;\n        this.numTensors++;\n        if (refCount === 0) {\n            this.numDataBuffers++;\n            this.numBytes +=\n                util.sizeFromShape(a.shape) * util.bytesPerElement(a.dtype);\n            this.backend.register(a.dataId, a.shape, a.dtype);\n        }\n        this.refCounter.set(a.dataId, refCount + 1);\n        if (!(a instanceof Variable)) {\n            this.track(a);\n        }\n    };\n    Engine.prototype.registerVariable = function (v) {\n        if (this.registeredVariables[v.name] != null) {\n            throw new Error(\"Variable with name \" + v.name + \" was already registered\");\n        }\n        this.registeredVariables[v.name] = v;\n    };\n    Engine.prototype.disposeTensor = function (a) {\n        if (!this.refCounter.has(a.dataId)) {\n            return;\n        }\n        this.numTensors--;\n        var refCount = this.refCounter.get(a.dataId);\n        if (refCount <= 1) {\n            this.refCounter.delete(a.dataId);\n            this.backend.disposeData(a.dataId);\n            this.numDataBuffers--;\n            this.numBytes -=\n                util.sizeFromShape(a.shape) * util.bytesPerElement(a.dtype);\n        }\n        else {\n            this.refCounter.set(a.dataId, refCount - 1);\n        }\n    };\n    Engine.prototype.disposeVariables = function () {\n        for (var varName in this.registeredVariables) {\n            var v = this.registeredVariables[varName];\n            this.disposeTensor(v);\n            delete this.registeredVariables[varName];\n        }\n    };\n    Engine.prototype.memory = function () {\n        var info = this.backend.memory();\n        info.numTensors = this.numTensors;\n        info.numDataBuffers = this.numDataBuffers;\n        info.numBytes = this.numBytes;\n        return info;\n    };\n    Engine.prototype.shouldRecord = function () {\n        return this.activeTape != null && this.customGradientDepth === 0;\n    };\n    Engine.prototype.addTapeNode = function (inputs, result, gradientsFunc) {\n        var inputsMap = {};\n        inputs.forEach(function (input, idx) {\n            inputsMap[idx] = input;\n        });\n        var gradient = function (dy) {\n            var res = gradientsFunc(dy);\n            var resMap = {};\n            res.forEach(function (r, idx) {\n                resMap[idx] = function () { return r; };\n            });\n            return resMap;\n        };\n        var tapeNode = {\n            id: this.nextTapeNodeId++,\n            name: this.activeScope.name,\n            inputs: inputsMap,\n            output: result,\n            gradient: gradient\n        };\n        this.activeTape.push(tapeNode);\n    };\n    Engine.prototype.keep = function (result) {\n        if (this.scopeStack.length === 1 && ENV.engine.safeMode) {\n            throw new Error('Safe mode is ON. Enclose all tensor operations inside tf.tidy(): ' +\n                'tf.tidy(() => {...}) to avoid memory leaks.');\n        }\n        this.activeScope.keep.push(result);\n        return result;\n    };\n    Engine.prototype.startScope = function (name, gradientsMode) {\n        if (gradientsMode === void 0) { gradientsMode = false; }\n        if (gradientsMode && this.gradientScopeCount === 0) {\n            this.activeTape = [];\n        }\n        if (gradientsMode) {\n            this.gradientScopeCount++;\n        }\n        var scopeInfo = { keep: [], track: [] };\n        if (name) {\n            scopeInfo.name = name;\n        }\n        this.scopeStack.push(scopeInfo);\n        this.activeScope = scopeInfo;\n    };\n    Engine.prototype.endScope = function (result, gradientsMode) {\n        var _this = this;\n        if (gradientsMode === void 0) { gradientsMode = false; }\n        if (gradientsMode) {\n            this.gradientScopeCount--;\n            if (this.gradientScopeCount === 0) {\n                this.activeTape = null;\n            }\n        }\n        var tensorsToKeep = this.activeScope.keep;\n        var tensorsToTrackInParent = util.extractTensorsFromContainer(result);\n        tensorsToKeep = tensorsToKeep.concat(tensorsToTrackInParent);\n        for (var i = 0; i < this.activeScope.track.length; i++) {\n            var tensor = this.activeScope.track[i];\n            if (util.isTensorInList(tensor, tensorsToKeep)) {\n                continue;\n            }\n            if (this.activeTape != null) {\n                tensorsToTrackInParent.push(tensor);\n            }\n            else {\n                tensor.dispose();\n            }\n        }\n        this.scopeStack.pop();\n        this.activeScope = this.scopeStack.length === 0 ?\n            { keep: [], track: [] } :\n            this.scopeStack[this.scopeStack.length - 1];\n        tensorsToTrackInParent.forEach(function (tensor) {\n            if (!util.isTensorInList(tensor, _this.activeScope.keep)) {\n                _this.track(tensor);\n            }\n        });\n    };\n    Engine.prototype.dispose = function () { };\n    Engine.prototype.gradients = function (f, xs, dy, allowNoGradients) {\n        var _this = this;\n        if (allowNoGradients === void 0) { allowNoGradients = false; }\n        util.assert(xs.length > 0, 'gradients() received an empty list of xs.');\n        return tidy('gradients', function () {\n            var y = f();\n            util.assert(y instanceof Tensor, 'The result y returned by f() must be a tensor.');\n            var filteredTape = getFilteredNodesXToY(_this.activeTape, xs, y);\n            if (!allowNoGradients && filteredTape.length === 0 && xs.length > 0) {\n                throw new Error('Cannot compute gradient of y=f(x) with respect to x. Make sure ' +\n                    'that the f you passed encloses all operations that lead from x ' +\n                    'to y.');\n            }\n            var accumulatedGradientMap = {};\n            accumulatedGradientMap[y.id] = (dy == null) ? ops.ones(y.shape) : dy;\n            backpropagateGradients(accumulatedGradientMap, filteredTape);\n            var grads = xs.map(function (x) { return accumulatedGradientMap[x.id]; });\n            return { value: y, grads: grads };\n        }, true);\n    };\n    Engine.prototype.customGrad = function (f) {\n        var _this = this;\n        util.assert(util.isFunction(f), 'The f passed in customGrad(f) must be a function.');\n        return function () {\n            var inputs = [];\n            for (var _i = 0; _i < arguments.length; _i++) {\n                inputs[_i] = arguments[_i];\n            }\n            util.assert(inputs.every(function (t) { return t instanceof Tensor; }), 'The args passed in customGrad(f)(x1, x2,...) must all be tensors');\n            _this.customGradientDepth++;\n            var gradientsFunc;\n            var gradientsMode = true;\n            var result = tidy(f.name, function () {\n                var _a = f.apply(void 0, inputs), value = _a.value, gradFunc = _a.gradFunc;\n                util.assert(value instanceof Tensor, 'The function f passed in customGrad(f) must return an object ' +\n                    'where `obj.value` is a tensor');\n                util.assert(util.isFunction(gradFunc), 'The function f passed in customGrad(f) must return an object ' +\n                    'where `obj.gradFunc` is a function.');\n                gradientsFunc = gradFunc;\n                return value;\n            }, gradientsMode);\n            _this.customGradientDepth--;\n            if (_this.shouldRecord()) {\n                var gradFunc = function (dy) {\n                    var res = gradientsFunc(dy);\n                    var grads = Array.isArray(res) ? res : [res];\n                    util.assert(grads.length === inputs.length, 'The function f passed in customGrad(f) must return an object ' +\n                        'where `obj.gradFunc` is a function that returns the same ' +\n                        'number of tensors as inputs passed to f(...).');\n                    util.assert(grads.every(function (t) { return t instanceof Tensor; }), 'The function f passed in customGrad(f) must return an object ' +\n                        'where `obj.gradFunc` is a function that returns a list of ' +\n                        'only tensors.');\n                    return grads;\n                };\n                _this.addTapeNode(inputs, result, gradFunc);\n            }\n            return result;\n        };\n    };\n    Engine.prototype.write = function (dataId, values) {\n        this.backend.write(dataId, values);\n    };\n    Engine.prototype.readSync = function (dataId) {\n        return this.backend.readSync(dataId);\n    };\n    Engine.prototype.read = function (dataId) {\n        return this.backend.read(dataId);\n    };\n    Engine.prototype.fromPixels = function (pixels, numChannels) {\n        return this.backend.fromPixels(pixels, numChannels);\n    };\n    Engine.prototype.time = function (query) {\n        return __awaiter(this, void 0, void 0, function () {\n            var start, timingInfo;\n            return __generator(this, function (_a) {\n                switch (_a.label) {\n                    case 0:\n                        start = performance.now();\n                        return [4, this.backend.time(query)];\n                    case 1:\n                        timingInfo = _a.sent();\n                        timingInfo.wallMs = performance.now() - start;\n                        return [2, timingInfo];\n                }\n            });\n        });\n    };\n    Engine.prototype.track = function (result) {\n        if (this.scopeStack.length === 1 && this.safeMode) {\n            throw new Error('Safe mode is ON. Enclose all tensor operations inside tf.tidy(): ' +\n                'tf.tidy(() => {op();...}); to avoid memory leaks.');\n        }\n        this.activeScope.track.push(result);\n        return result;\n    };\n    return Engine;\n}());\nexport { Engine };\n//# sourceMappingURL=engine.js.map","var __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\n};\nimport * as device_util from './device_util';\nimport { doc } from './doc';\nimport { Engine } from './engine';\nimport * as util from './util';\nexport var Type;\n(function (Type) {\n    Type[Type[\"NUMBER\"] = 0] = \"NUMBER\";\n    Type[Type[\"BOOLEAN\"] = 1] = \"BOOLEAN\";\n    Type[Type[\"STRING\"] = 2] = \"STRING\";\n})(Type || (Type = {}));\nexport var URL_PROPERTIES = [\n    { name: 'DEBUG', type: Type.BOOLEAN }, { name: 'IS_BROWSER', type: Type.BOOLEAN },\n    { name: 'WEBGL_DISJOINT_QUERY_TIMER_EXTENSION_VERSION', type: Type.NUMBER },\n    { name: 'WEBGL_DISJOINT_QUERY_TIMER_EXTENSION_RELIABLE', type: Type.BOOLEAN },\n    { name: 'WEBGL_VERSION', type: Type.NUMBER },\n    { name: 'WEBGL_FLOAT_TEXTURE_ENABLED', type: Type.BOOLEAN }, {\n        name: 'WEBGL_GET_BUFFER_SUB_DATA_ASYNC_EXTENSION_ENABLED',\n        type: Type.BOOLEAN\n    },\n    { name: 'BACKEND', type: Type.STRING }\n];\nfunction hasExtension(gl, extensionName) {\n    var ext = gl.getExtension(extensionName);\n    return ext != null;\n}\nfunction getWebGLRenderingContext(webGLVersion) {\n    if (webGLVersion === 0) {\n        throw new Error('Cannot get WebGL rendering context, WebGL is disabled.');\n    }\n    var tempCanvas = document.createElement('canvas');\n    if (webGLVersion === 1) {\n        return (tempCanvas.getContext('webgl') ||\n            tempCanvas.getContext('experimental-webgl'));\n    }\n    return tempCanvas.getContext('webgl2');\n}\nfunction loseContext(gl) {\n    if (gl != null) {\n        var loseContextExtension = gl.getExtension('WEBGL_lose_context');\n        if (loseContextExtension == null) {\n            throw new Error('Extension WEBGL_lose_context not supported on this browser.');\n        }\n        loseContextExtension.loseContext();\n    }\n}\nfunction isWebGLVersionEnabled(webGLVersion) {\n    var gl = getWebGLRenderingContext(webGLVersion);\n    if (gl != null) {\n        loseContext(gl);\n        return true;\n    }\n    return false;\n}\nfunction getWebGLDisjointQueryTimerVersion(webGLVersion) {\n    if (webGLVersion === 0) {\n        return 0;\n    }\n    var queryTimerVersion;\n    var gl = getWebGLRenderingContext(webGLVersion);\n    if (hasExtension(gl, 'EXT_disjoint_timer_query_webgl2') &&\n        webGLVersion === 2) {\n        queryTimerVersion = 2;\n    }\n    else if (hasExtension(gl, 'EXT_disjoint_timer_query')) {\n        queryTimerVersion = 1;\n    }\n    else {\n        queryTimerVersion = 0;\n    }\n    if (gl != null) {\n        loseContext(gl);\n    }\n    return queryTimerVersion;\n}\nfunction isFloatTextureReadPixelsEnabled(webGLVersion) {\n    if (webGLVersion === 0) {\n        return false;\n    }\n    var gl = getWebGLRenderingContext(webGLVersion);\n    if (webGLVersion === 1) {\n        if (!hasExtension(gl, 'OES_texture_float')) {\n            return false;\n        }\n    }\n    else {\n        if (!hasExtension(gl, 'EXT_color_buffer_float')) {\n            return false;\n        }\n    }\n    var frameBuffer = gl.createFramebuffer();\n    var texture = gl.createTexture();\n    gl.bindTexture(gl.TEXTURE_2D, texture);\n    var internalFormat = webGLVersion === 2 ? gl.RGBA32F : gl.RGBA;\n    gl.texImage2D(gl.TEXTURE_2D, 0, internalFormat, 1, 1, 0, gl.RGBA, gl.FLOAT, null);\n    gl.bindFramebuffer(gl.FRAMEBUFFER, frameBuffer);\n    gl.framebufferTexture2D(gl.FRAMEBUFFER, gl.COLOR_ATTACHMENT0, gl.TEXTURE_2D, texture, 0);\n    var frameBufferComplete = (gl.checkFramebufferStatus(gl.FRAMEBUFFER) === gl.FRAMEBUFFER_COMPLETE);\n    gl.readPixels(0, 0, 1, 1, gl.RGBA, gl.FLOAT, new Float32Array(4));\n    var readPixelsNoError = gl.getError() === gl.NO_ERROR;\n    loseContext(gl);\n    return frameBufferComplete && readPixelsNoError;\n}\nfunction isWebGLGetBufferSubDataAsyncExtensionEnabled(webGLVersion) {\n    if (webGLVersion > 0) {\n        return false;\n    }\n    if (webGLVersion !== 2) {\n        return false;\n    }\n    var gl = getWebGLRenderingContext(webGLVersion);\n    var isEnabled = hasExtension(gl, 'WEBGL_get_buffer_sub_data_async');\n    loseContext(gl);\n    return isEnabled;\n}\nvar Environment = (function () {\n    function Environment(features) {\n        this.features = {};\n        this.registry = {};\n        if (features != null) {\n            this.features = features;\n        }\n        if (this.get('DEBUG')) {\n            console.warn('Debugging mode is ON. The output of every math call will ' +\n                'be downloaded to CPU and checked for NaNs. ' +\n                'This significantly impacts performance.');\n        }\n    }\n    Environment.setBackend = function (backendType, safeMode) {\n        if (safeMode === void 0) { safeMode = false; }\n        if (!(backendType in ENV.registry)) {\n            throw new Error(\"Backend type '\" + backendType + \"' not found in registry\");\n        }\n        ENV.initBackend(backendType, safeMode);\n    };\n    Environment.getBackend = function () {\n        ENV.initDefaultBackend();\n        return ENV.currentBackend;\n    };\n    Environment.disposeVariables = function () {\n        ENV.engine.disposeVariables();\n    };\n    Environment.memory = function () {\n        return ENV.engine.memory();\n    };\n    Environment.prototype.get = function (feature) {\n        if (feature in this.features) {\n            return this.features[feature];\n        }\n        this.features[feature] = this.evaluateFeature(feature);\n        return this.features[feature];\n    };\n    Environment.prototype.set = function (feature, value) {\n        this.features[feature] = value;\n    };\n    Environment.prototype.getBestBackendType = function () {\n        var _this = this;\n        if (Object.keys(this.registry).length === 0) {\n            throw new Error('No backend found in registry.');\n        }\n        var sortedBackends = Object.keys(this.registry)\n            .map(function (name) {\n            return { name: name, entry: _this.registry[name] };\n        })\n            .sort(function (a, b) {\n            return b.entry.priority - a.entry.priority;\n        });\n        return sortedBackends[0].name;\n    };\n    Environment.prototype.evaluateFeature = function (feature) {\n        if (feature === 'DEBUG') {\n            return false;\n        }\n        else if (feature === 'IS_BROWSER') {\n            return typeof window !== 'undefined';\n        }\n        else if (feature === 'BACKEND') {\n            return this.getBestBackendType();\n        }\n        else if (feature === 'WEBGL_DISJOINT_QUERY_TIMER_EXTENSION_VERSION') {\n            var webGLVersion = this.get('WEBGL_VERSION');\n            if (webGLVersion === 0) {\n                return 0;\n            }\n            return getWebGLDisjointQueryTimerVersion(webGLVersion);\n        }\n        else if (feature === 'WEBGL_DISJOINT_QUERY_TIMER_EXTENSION_RELIABLE') {\n            return this.get('WEBGL_DISJOINT_QUERY_TIMER_EXTENSION_VERSION') > 0 &&\n                !device_util.isMobile();\n        }\n        else if (feature === 'WEBGL_VERSION') {\n            if (isWebGLVersionEnabled(2)) {\n                return 2;\n            }\n            else if (isWebGLVersionEnabled(1)) {\n                return 1;\n            }\n            return 0;\n        }\n        else if (feature === 'WEBGL_FLOAT_TEXTURE_ENABLED') {\n            return isFloatTextureReadPixelsEnabled(this.get('WEBGL_VERSION'));\n        }\n        else if (feature === 'WEBGL_GET_BUFFER_SUB_DATA_ASYNC_EXTENSION_ENABLED') {\n            return isWebGLGetBufferSubDataAsyncExtensionEnabled(this.get('WEBGL_VERSION'));\n        }\n        throw new Error(\"Unknown feature \" + feature + \".\");\n    };\n    Environment.prototype.setFeatures = function (features) {\n        this.features = features;\n    };\n    Environment.prototype.reset = function () {\n        this.features = getFeaturesFromURL();\n        if (this.globalEngine != null) {\n            this.globalEngine.dispose();\n            this.globalEngine = null;\n        }\n    };\n    Environment.prototype.initBackend = function (backendType, safeMode) {\n        if (safeMode === void 0) { safeMode = false; }\n        this.currentBackend = backendType;\n        if (this.globalEngine != null) {\n            this.globalEngine.dispose();\n        }\n        var backend = ENV.findBackend(backendType);\n        this.globalEngine = new Engine(backend, safeMode);\n    };\n    Environment.prototype.findBackend = function (name) {\n        if (!(name in this.registry)) {\n            return null;\n        }\n        return this.registry[name].backend;\n    };\n    Environment.prototype.registerBackend = function (name, factory, priority) {\n        if (priority === void 0) { priority = 1; }\n        if (name in this.registry) {\n            console.warn(name + \" backend was already registered\");\n        }\n        try {\n            var backend = factory();\n            this.registry[name] = { backend: backend, priority: priority };\n            return true;\n        }\n        catch (err) {\n            console.warn(err.message);\n            return false;\n        }\n    };\n    Environment.prototype.removeBackend = function (name) {\n        if (!(name in this.registry)) {\n            throw new Error(name + \" backend not found in registry\");\n        }\n        this.registry[name].backend.dispose();\n        delete this.registry[name];\n    };\n    Object.defineProperty(Environment.prototype, \"engine\", {\n        get: function () {\n            this.initDefaultBackend();\n            return this.globalEngine;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Environment.prototype.initDefaultBackend = function () {\n        if (this.globalEngine == null) {\n            this.initBackend(ENV.get('BACKEND'), false);\n        }\n    };\n    __decorate([\n        doc({ heading: 'Environment' })\n    ], Environment, \"setBackend\", null);\n    __decorate([\n        doc({ heading: 'Environment' })\n    ], Environment, \"getBackend\", null);\n    __decorate([\n        doc({ heading: 'Environment' })\n    ], Environment, \"disposeVariables\", null);\n    __decorate([\n        doc({ heading: 'Performance', subheading: 'Memory' })\n    ], Environment, \"memory\", null);\n    return Environment;\n}());\nexport { Environment };\nvar TENSORFLOWJS_FLAGS_PREFIX = 'tfjsflags';\nfunction getFeaturesFromURL() {\n    var features = {};\n    if (typeof window === 'undefined' || typeof window.location === 'undefined') {\n        return features;\n    }\n    var urlParams = util.getQueryParams(window.location.search);\n    if (TENSORFLOWJS_FLAGS_PREFIX in urlParams) {\n        var urlFlags_1 = {};\n        var keyValues = urlParams[TENSORFLOWJS_FLAGS_PREFIX].split(',');\n        keyValues.forEach(function (keyValue) {\n            var _a = keyValue.split(':'), key = _a[0], value = _a[1];\n            urlFlags_1[key] = value;\n        });\n        URL_PROPERTIES.forEach(function (urlProperty) {\n            if (urlProperty.name in urlFlags_1) {\n                console.log(\"Setting feature override from URL \" + urlProperty.name + \": \" +\n                    (\"\" + urlFlags_1[urlProperty.name]));\n                if (urlProperty.type === Type.NUMBER) {\n                    features[urlProperty.name] = +urlFlags_1[urlProperty.name];\n                }\n                else if (urlProperty.type === Type.BOOLEAN) {\n                    features[urlProperty.name] = urlFlags_1[urlProperty.name] === 'true';\n                }\n                else if (urlProperty.type === Type.STRING) {\n                    features[urlProperty.name] = urlFlags_1[urlProperty.name];\n                }\n                else {\n                    console.warn(\"Unknown URL param: \" + urlProperty.name + \".\");\n                }\n            }\n        });\n    }\n    return features;\n}\nfunction getGlobalNamespace() {\n    var ns;\n    if (typeof (window) !== 'undefined') {\n        ns = window;\n    }\n    else if (typeof (global) !== 'undefined') {\n        ns = global;\n    }\n    else {\n        throw new Error('Could not find a global object');\n    }\n    return ns;\n}\nfunction getOrMakeEnvironment() {\n    var ns = getGlobalNamespace();\n    ns.ENV = ns.ENV || new Environment(getFeaturesFromURL());\n    return ns.ENV;\n}\nexport var ENV = getOrMakeEnvironment();\n//# sourceMappingURL=environment.js.map","export var PARALLELIZE_THRESHOLD = 30;\nexport function computeOptimalWindowSize(inSize) {\n    if (inSize <= PARALLELIZE_THRESHOLD) {\n        return inSize;\n    }\n    return nearestDivisor(inSize, Math.floor(Math.sqrt(inSize)));\n}\nfunction nearestDivisor(size, start) {\n    for (var i = start; i < size; ++i) {\n        if (size % i === 0) {\n            return i;\n        }\n    }\n    return size;\n}\n//# sourceMappingURL=reduce_util.js.map","import { Tensor, util } from '..';\nimport { ArrayOps } from '../ops/array_ops';\nexport function castTensor(x, dtype, backend) {\n    if (!util.hasEncodingLoss(x.dtype, dtype)) {\n        return Tensor.make(x.shape, { dataId: x.dataId }, dtype);\n    }\n    if (dtype === 'int32') {\n        return backend.int(x);\n    }\n    else if (dtype === 'bool') {\n        return backend.notEqual(x, ArrayOps.scalar(0, x.dtype));\n    }\n    else {\n        throw new Error(\"Error in Cast: unknown dtype argument (\" + dtype + \")\");\n    }\n}\nexport function reshapeTensor(x, shape) {\n    return Tensor.make(shape, { dataId: x.dataId }, x.dtype);\n}\n//# sourceMappingURL=backend_util.js.map","var ArgMinMaxProgram = (function () {\n    function ArgMinMaxProgram(reduceInfo, op, firstPass) {\n        this.variableNames = ['A'];\n        var windowSize = reduceInfo.windowSize;\n        var batchSize = reduceInfo.batchSize;\n        var inSize = reduceInfo.inSize;\n        var outSize = Math.ceil(inSize / windowSize);\n        if (!firstPass) {\n            this.variableNames.push('bestIndicesA');\n        }\n        this.outputShape = [batchSize, outSize];\n        var compOp = (op === 'max') ? '>' : '<';\n        var indexSnippet = firstPass ?\n            'inOffset + i;' :\n            'round(getBestIndicesA(batch, inOffset + i));';\n        this.userCode = \"\\n      void main() {\\n        ivec2 coords = getOutputCoords();\\n        int batch = coords[0];\\n        int outIdx = coords[1];\\n        int inOffset = outIdx * \" + windowSize + \";\\n\\n        int bestIndex = 0;\\n        float bestValue = getA(batch, inOffset);\\n\\n        for (int i = 0; i < \" + windowSize + \"; i++) {\\n          int inIdx = \" + indexSnippet + \";\\n          float candidate = getA(batch, inIdx);\\n          if (candidate \" + compOp + \" bestValue) {\\n            bestValue = candidate;\\n            bestIndex = inIdx;\\n          }\\n        }\\n        setOutput(float(bestIndex));\\n      }\\n    \";\n    }\n    return ArgMinMaxProgram;\n}());\nexport { ArgMinMaxProgram };\n//# sourceMappingURL=argminmax_gpu.js.map","var AvgPool2DBackpropProgram = (function () {\n    function AvgPool2DBackpropProgram(convInfo) {\n        this.variableNames = ['dy'];\n        this.outputShape = convInfo.inShape;\n        var filterHeight = convInfo.filterHeight;\n        var filterWidth = convInfo.filterWidth;\n        var strideHeight = convInfo.strideHeight;\n        var strideWidth = convInfo.strideWidth;\n        var padTop = filterHeight - 1 - convInfo.padInfo.top;\n        var padLeft = filterWidth - 1 - convInfo.padInfo.left;\n        var avgMultiplier = 1 / (filterHeight * filterWidth);\n        this.userCode = \"\\n      const ivec2 pads = ivec2(\" + padTop + \", \" + padLeft + \");\\n      const float avgMultiplier = float(\" + avgMultiplier + \");\\n\\n      void main() {\\n        ivec4 coords = getOutputCoords();\\n        int b = coords[0];\\n        int d = coords[3];\\n\\n        ivec2 dyRCCorner = coords.yz - pads;\\n        int dyRCorner = dyRCCorner.x;\\n        int dyCCorner = dyRCCorner.y;\\n\\n        // Convolve dy(?, ?, d) with pos mask(:, :, d) to get dx(xR, xC, d).\\n        // ? = to be determined. : = across all values in that axis.\\n        float dotProd = 0.0;\\n        for (int wR = 0; wR < \" + filterHeight + \"; wR++) {\\n          float dyR = float(dyRCorner + wR) / \" + strideHeight + \".0;\\n\\n          if (dyR < 0.0 || dyR >= \" + convInfo.outHeight + \".0 || fract(dyR) > 0.0) {\\n            continue;\\n          }\\n          int idyR = int(dyR);\\n\\n          for (int wC = 0; wC < \" + filterWidth + \"; wC++) {\\n            float dyC = float(dyCCorner + wC) / \" + strideWidth + \".0;\\n\\n            if (dyC < 0.0 || dyC >= \" + convInfo.outWidth + \".0 ||\\n                fract(dyC) > 0.0) {\\n              continue;\\n            }\\n            int idyC = int(dyC);\\n\\n            float dyValue = getDy(b, idyR, idyC, d);\\n\\n            dotProd += dyValue * avgMultiplier;\\n          }\\n        }\\n        setOutput(dotProd);\\n      }\\n    \";\n    }\n    return AvgPool2DBackpropProgram;\n}());\nexport { AvgPool2DBackpropProgram };\n//# sourceMappingURL=avg_pool_backprop_gpu.js.map","import * as broadcast_util from '../../ops/broadcast_util';\nvar BatchNormProgram = (function () {\n    function BatchNormProgram(xShape, meanShape, varianceShape, offsetShape, scaleShape, varianceEpsilon) {\n        this.outputShape = [];\n        this.supportsBroadcasting = true;\n        this.variableNames = ['x', 'mean', 'variance'];\n        broadcast_util.assertAndGetBroadcastShape(xShape, meanShape);\n        broadcast_util.assertAndGetBroadcastShape(xShape, varianceShape);\n        var offsetSnippet = '0.0';\n        if (offsetShape != null) {\n            broadcast_util.assertAndGetBroadcastShape(xShape, offsetShape);\n            this.variableNames.push('offset');\n            offsetSnippet = 'getOffsetAtOutCoords()';\n        }\n        var scaleSnippet = '1.0';\n        if (scaleShape != null) {\n            broadcast_util.assertAndGetBroadcastShape(xShape, scaleShape);\n            this.variableNames.push('scale');\n            scaleSnippet = 'getScaleAtOutCoords()';\n        }\n        this.outputShape = xShape;\n        this.userCode = \"\\n      void main() {\\n        float x = getXAtOutCoords();\\n        float mean = getMeanAtOutCoords();\\n        float variance = getVarianceAtOutCoords();\\n        float offset = \" + offsetSnippet + \";\\n        float scale = \" + scaleSnippet + \";\\n        float inv = scale * inversesqrt(variance + float(\" + varianceEpsilon + \"));\\n        setOutput((x - mean) * inv + offset);\\n      }\\n    \";\n    }\n    return BatchNormProgram;\n}());\nexport { BatchNormProgram };\n//# sourceMappingURL=batchnorm_gpu.js.map","import * as broadcast_util from '../../ops/broadcast_util';\nvar CHECK_NAN_SNIPPET = \"\\n  if (isNaN(a)) return a;\\n  if (isNaN(b)) return b;\\n\";\nexport var ADD = 'return a + b;';\nexport var SUB = 'return a - b;';\nexport var MUL = 'return a * b;';\nexport var DIV = 'return a / b;';\nexport var INT_DIV = \"\\n  float resultSign = sign(a) * sign(b);\\n  int ia = round(a);\\n  int ib = round(b);\\n  int result = ia / ib;\\n  int amodb = ia - ib * result;\\n\\n  if (resultSign < 0.0 && amodb != 0) {\\n    result -= 1;\\n  }\\n  return float(result);\\n\";\nexport var POW = \"\\n  return (round(mod(b, 2.0)) == 0 || round(mod(b, 2.0)) == 2) ?\\n      pow(abs(a), b) : sign(a) * pow(abs(a), b);\\n\";\nexport var SQUARED_DIFFERENCE = 'return (a - b) * (a - b);';\nexport var EQUAL = \"return float(a == b);\";\nexport var NOT_EQUAL = \"return float(a != b);\";\nexport var LESS = \"return float(a < b);\";\nexport var LESS_EQUAL = \"return float(a <= b);\";\nexport var GREATER = \"return float(a > b);\";\nexport var GREATER_EQUAL = \"return float(a >= b);\";\nexport var LOGICAL_AND = \"return float(a >= 1.0 && b >= 1.0);\";\nexport var LOGICAL_OR = \"return float(a >= 1.0 || b >= 1.0);\";\nexport var MAX = CHECK_NAN_SNIPPET + \"\\n  return max(a, b);\\n\";\nexport var MIN = CHECK_NAN_SNIPPET + \"\\n  return min(a, b);\\n\";\nexport var MOD = \"return mod(a, b);\";\nexport var ATAN2 = CHECK_NAN_SNIPPET + \"\\n  return atan(a, b);\\n\";\nexport var ELU_DER = \"return (b >= 1.0) ? a : a * (b + 1.0);\";\nvar BinaryOpProgram = (function () {\n    function BinaryOpProgram(op, aShape, bShape) {\n        this.variableNames = ['A', 'B'];\n        this.supportsBroadcasting = true;\n        this.outputShape =\n            broadcast_util.assertAndGetBroadcastShape(aShape, bShape);\n        this.userCode = \"\\n      float binaryOperation(float a, float b) {\\n        \" + op + \"\\n      }\\n\\n      void main() {\\n        float a = getAAtOutCoords();\\n        float b = getBAtOutCoords();\\n        setOutput(binaryOperation(a, b));\\n      }\\n    \";\n    }\n    return BinaryOpProgram;\n}());\nexport { BinaryOpProgram };\n//# sourceMappingURL=binaryop_gpu.js.map","var ClipProgram = (function () {\n    function ClipProgram(aShape, min, max) {\n        this.variableNames = ['A'];\n        this.outputShape = aShape;\n        var minFixed = min.toFixed(20);\n        var maxFixed = max.toFixed(20);\n        this.userCode = \"\\n      void main() {\\n        float value = getAAtOutCoords();\\n        if (isNaN(value)) {\\n          setOutput(value);\\n          return;\\n        }\\n\\n        setOutput(clamp(value, \" + minFixed + \", \" + maxFixed + \"));\\n      }\\n    \";\n    }\n    return ClipProgram;\n}());\nexport { ClipProgram };\n//# sourceMappingURL=clip_gpu.js.map","import * as concat_util from '../../ops/concat_util';\nvar ConcatProgram = (function () {\n    function ConcatProgram(aShape, bShape) {\n        this.variableNames = ['A', 'B'];\n        this.outputShape = [];\n        this.outputShape =\n            concat_util.computeOutShape(aShape, bShape, 1);\n        this.userCode = \"\\n      void main() {\\n        ivec2 coords = getOutputCoords();\\n        int yR = coords.x;\\n        int yC = coords.y;\\n\\n        float value = 0.0;\\n        if (yC < \" + aShape[1] + \") {\\n          value = getA(yR, yC);\\n        } else {\\n          yC -= \" + aShape[1] + \";\\n          value = getB(yR, yC);\\n        }\\n\\n        setOutput(value);\\n      }\\n    \";\n    }\n    return ConcatProgram;\n}());\nexport { ConcatProgram };\n//# sourceMappingURL=concat_gpu.js.map","var Conv2DDerFilterProgram = (function () {\n    function Conv2DDerFilterProgram(convInfo) {\n        this.variableNames = ['x', 'dy'];\n        this.outputShape = convInfo.filterShape;\n        var strideHeight = convInfo.strideHeight;\n        var strideWidth = convInfo.strideWidth;\n        var padTop = convInfo.padInfo.top;\n        var padLeft = convInfo.padInfo.left;\n        this.userCode = \"\\n      void main() {\\n        ivec4 coords = getOutputCoords();\\n        int wR = coords.x;\\n        int wC = coords.y;\\n        int d1 = coords.z;\\n        int d2 = coords.w;\\n\\n        // Convolve x(?, ?, d1) with dy(:, :, d2) to get dw(wR, wC, d1, d2).\\n        // ? = to be determined. : = across all values in that axis.\\n        float dotProd = 0.0;\\n\\n        for (int b = 0; b < \" + convInfo.batchSize + \"; b++) {\\n          for (int yR = 0; yR < \" + convInfo.outHeight + \"; yR++) {\\n            int xR = wR + yR * \" + strideHeight + \" - \" + padTop + \";\\n\\n            if (xR < 0 || xR >= \" + convInfo.inHeight + \") {\\n              continue;\\n            }\\n\\n            for (int yC = 0; yC < \" + convInfo.outWidth + \"; yC++) {\\n              int xC = wC + yC * \" + strideWidth + \" - \" + padLeft + \";\\n\\n              if (xC < 0 || xC >= \" + convInfo.inWidth + \") {\\n                continue;\\n              }\\n\\n              float dyValue = getDy(b, yR, yC, d2);\\n              float xValue = getX(b, xR, xC, d1);\\n              dotProd += (xValue * dyValue);\\n            }\\n          }\\n        }\\n        setOutput(dotProd);\\n      }\\n    \";\n    }\n    return Conv2DDerFilterProgram;\n}());\nexport { Conv2DDerFilterProgram };\nvar Conv2DDerInputProgram = (function () {\n    function Conv2DDerInputProgram(convInfo) {\n        this.variableNames = ['dy', 'W'];\n        this.outputShape = convInfo.inShape;\n        var filterHeight = convInfo.filterHeight;\n        var filterWidth = convInfo.filterWidth;\n        var strideHeight = convInfo.strideHeight;\n        var strideWidth = convInfo.strideWidth;\n        var padTop = filterHeight - 1 - convInfo.padInfo.top;\n        var padLeft = filterWidth - 1 - convInfo.padInfo.left;\n        this.userCode = \"\\n      const ivec2 pads = ivec2(\" + padTop + \", \" + padLeft + \");\\n\\n      void main() {\\n        ivec4 coords = getOutputCoords();\\n        int batch = coords[0];\\n        int d1 = coords[3];\\n\\n        ivec2 dyCorner = coords.yz - pads;\\n        int dyRCorner = dyCorner.x;\\n        int dyCCorner = dyCorner.y;\\n\\n        // Convolve dy(?, ?, d2) with w(:, :, d1, d2) to compute dx(xR, xC, d1).\\n        // ? = to be determined. : = across all values in that axis.\\n        float dotProd = 0.0;\\n        for (int wR = 0; wR < \" + filterHeight + \"; wR++) {\\n          float dyR = float(dyRCorner + wR) / \" + strideHeight + \".0;\\n\\n          if (dyR < 0.0 || dyR >= \" + convInfo.outHeight + \".0 || fract(dyR) > 0.0) {\\n            continue;\\n          }\\n          int idyR = int(dyR);\\n\\n          int wRPerm = \" + filterHeight + \" - 1 - wR;\\n\\n          for (int wC = 0; wC < \" + filterWidth + \"; wC++) {\\n            float dyC = float(dyCCorner + wC) / \" + strideWidth + \".0;\\n\\n            if (dyC < 0.0 || dyC >= \" + convInfo.outWidth + \".0 ||\\n                fract(dyC) > 0.0) {\\n              continue;\\n            }\\n            int idyC = int(dyC);\\n\\n            int wCPerm = \" + filterWidth + \" - 1 - wC;\\n\\n            for (int d2 = 0; d2 < \" + convInfo.outChannels + \"; d2++) {\\n              float xValue = getDy(batch, idyR, idyC, d2);\\n              float wValue = getW(wRPerm, wCPerm, d1, d2);\\n              dotProd += xValue * wValue;\\n            }\\n          }\\n        }\\n        setOutput(dotProd);\\n      }\\n    \";\n    }\n    return Conv2DDerInputProgram;\n}());\nexport { Conv2DDerInputProgram };\n//# sourceMappingURL=conv_backprop_gpu.js.map","var Conv2DProgram = (function () {\n    function Conv2DProgram(convInfo) {\n        this.variableNames = ['x', 'W'];\n        this.outputShape = convInfo.outShape;\n        var padTop = convInfo.padInfo.top;\n        var padLeft = convInfo.padInfo.left;\n        var strideHeight = convInfo.strideHeight;\n        var strideWidth = convInfo.strideWidth;\n        var dilationHeight = convInfo.dilationHeight;\n        var dilationWidth = convInfo.dilationWidth;\n        var filterHeight = convInfo.filterHeight;\n        var filterWidth = convInfo.filterWidth;\n        var inputDepthNearestVec4 = Math.floor(convInfo.inChannels / 4) * 4;\n        var inputDepthVec4Remainder = convInfo.inChannels % 4;\n        this.userCode = \"\\n      const ivec2 strides = ivec2(\" + strideHeight + \", \" + strideWidth + \");\\n      const ivec2 pads = ivec2(\" + padTop + \", \" + padLeft + \");\\n\\n      void main() {\\n        ivec4 coords = getOutputCoords();\\n        int batch = coords[0];\\n        int d2 = coords[3];\\n\\n        ivec2 xRCCorner = coords.yz * strides - pads;\\n        int xRCorner = xRCCorner.x;\\n        int xCCorner = xRCCorner.y;\\n\\n        // Convolve x(?, ?, d1) with w(:, :, d1, d2) to get y(yR, yC, d2).\\n        // ? = to be determined. : = across all values in that axis.\\n        float dotProd = 0.0;\\n        for (int wR = 0; wR < \" + filterHeight + \"; wR++) {\\n          int xR = xRCorner + wR * \" + dilationHeight + \";\\n\\n          if (xR < 0 || xR >= \" + convInfo.inHeight + \") {\\n            continue;\\n          }\\n\\n          for (int wC = 0; wC < \" + filterWidth + \"; wC++) {\\n            int xC = xCCorner + wC * \" + dilationWidth + \";\\n\\n            if (xC < 0 || xC >= \" + convInfo.inWidth + \") {\\n              continue;\\n            }\\n\\n            for (int d1 = 0; d1 < \" + inputDepthNearestVec4 + \"; d1 += 4) {\\n              vec4 xValues = vec4(\\n                getX(batch, xR, xC, d1),\\n                getX(batch, xR, xC, d1 + 1),\\n                getX(batch, xR, xC, d1 + 2),\\n                getX(batch, xR, xC, d1 + 3)\\n              );\\n              vec4 wValues = vec4(\\n                getW(wR, wC, d1, d2),\\n                getW(wR, wC, d1 + 1, d2),\\n                getW(wR, wC, d1 + 2, d2),\\n                getW(wR, wC, d1 + 3, d2)\\n              );\\n\\n              dotProd += dot(xValues, wValues);\\n            }\\n\\n            if (\" + (inputDepthVec4Remainder === 1) + \") {\\n              dotProd +=\\n                getX(batch, xR, xC, \" + inputDepthNearestVec4 + \") *\\n                getW(wR, wC, \" + inputDepthNearestVec4 + \", d2);\\n            } else if (\" + (inputDepthVec4Remainder === 2) + \") {\\n              vec2 xValues = vec2(\\n                getX(batch, xR, xC, \" + inputDepthNearestVec4 + \"),\\n                getX(batch, xR, xC, \" + inputDepthNearestVec4 + \" + 1)\\n              );\\n              vec2 wValues = vec2(\\n                getW(wR, wC, \" + inputDepthNearestVec4 + \", d2),\\n                getW(wR, wC, \" + inputDepthNearestVec4 + \" + 1, d2)\\n              );\\n              dotProd += dot(xValues, wValues);\\n            } else if (\" + (inputDepthVec4Remainder === 3) + \") {\\n              vec3 xValues = vec3(\\n                getX(batch, xR, xC, \" + inputDepthNearestVec4 + \"),\\n                getX(batch, xR, xC, \" + inputDepthNearestVec4 + \" + 1),\\n                getX(batch, xR, xC, \" + inputDepthNearestVec4 + \" + 2)\\n              );\\n              vec3 wValues = vec3(\\n                getW(wR, wC, \" + inputDepthNearestVec4 + \", d2),\\n                getW(wR, wC, \" + inputDepthNearestVec4 + \" + 1, d2),\\n                getW(wR, wC, \" + inputDepthNearestVec4 + \" + 2, d2)\\n              );\\n              dotProd += dot(xValues, wValues);\\n            }\\n          }\\n        }\\n        setOutput(dotProd);\\n      }\\n    \";\n    }\n    return Conv2DProgram;\n}());\nexport { Conv2DProgram };\n//# sourceMappingURL=conv_gpu.js.map","export var TextureType;\n(function (TextureType) {\n    TextureType[TextureType[\"FLOAT\"] = 0] = \"FLOAT\";\n    TextureType[TextureType[\"UNSIGNED_BYTE\"] = 1] = \"UNSIGNED_BYTE\";\n})(TextureType || (TextureType = {}));\nexport function getUnpackedMatrixTextureShapeWidthHeight(rows, columns) {\n    return [columns, rows];\n}\nexport function getUnpackedArraySizeFromMatrixSize(matrixSize, channelsPerTexture) {\n    return matrixSize * channelsPerTexture;\n}\nexport function getColorMatrixTextureShapeWidthHeight(rows, columns) {\n    return [columns * 4, rows];\n}\nexport function getMatrixSizeFromUnpackedArraySize(unpackedSize, channelsPerTexture) {\n    if (unpackedSize % channelsPerTexture !== 0) {\n        throw new Error(\"unpackedSize (\" + unpackedSize + \") must be a multiple of \" +\n            (\"\" + channelsPerTexture));\n    }\n    return unpackedSize / channelsPerTexture;\n}\nexport function encodeMatrixToUnpackedArray(matrix, unpackedArray, channelsPerTexture) {\n    var requiredSize = getUnpackedArraySizeFromMatrixSize(matrix.length, channelsPerTexture);\n    if (unpackedArray.length < requiredSize) {\n        throw new Error(\"unpackedArray length (\" + unpackedArray.length + \") must be >= \" +\n            (\"\" + requiredSize));\n    }\n    var dst = 0;\n    for (var src = 0; src < matrix.length; ++src) {\n        unpackedArray[dst] = matrix[src];\n        dst += channelsPerTexture;\n    }\n}\nexport var FLOAT_MAX = 20000;\nexport var FLOAT_MIN = -FLOAT_MAX;\nvar FLOAT_RANGE = (FLOAT_MAX - FLOAT_MIN) / 255;\nvar FLOAT_DELTAS = [1, 1 / 255, 1 / (255 * 255), 1 / (255 * 255 * 255)];\nvar FLOAT_POWERS = [1, 255, 255 * 255];\nexport var BYTE_NAN_VALUE = 0;\nexport function encodeFloatArray(floatArray) {\n    var uintArray = new Uint8Array(floatArray.length * 4);\n    var _loop_1 = function (i) {\n        var value = floatArray[i / 4];\n        if (isNaN(value)) {\n            uintArray[i] = BYTE_NAN_VALUE;\n            uintArray[i + 1] = BYTE_NAN_VALUE;\n            uintArray[i + 2] = BYTE_NAN_VALUE;\n            uintArray[i + 3] = BYTE_NAN_VALUE;\n            return \"continue\";\n        }\n        var normalizedValue = (value - FLOAT_MIN) / FLOAT_RANGE;\n        var enc = FLOAT_POWERS.map(function (pow) { return pow * normalizedValue; });\n        var buckets = enc.map(function (value) { return Math.floor((value % 1) * 255); });\n        uintArray[i] = Math.floor(normalizedValue);\n        uintArray[i + 1] = buckets[0];\n        uintArray[i + 2] = buckets[1];\n        uintArray[i + 3] = buckets[2];\n    };\n    for (var i = 0; i < uintArray.length; i += 4) {\n        _loop_1(i);\n    }\n    return uintArray;\n}\nexport function decodeToFloatArray(uintArray) {\n    var floatArray = new Float32Array(uintArray.length / 4);\n    var _loop_2 = function (i) {\n        if (uintArray[i] === BYTE_NAN_VALUE &&\n            uintArray[i + 1] === BYTE_NAN_VALUE &&\n            uintArray[i + 2] === BYTE_NAN_VALUE &&\n            uintArray[i + 3] === BYTE_NAN_VALUE) {\n            floatArray[i / 4] = NaN;\n            return \"continue\";\n        }\n        var dot = 0;\n        FLOAT_DELTAS.forEach(function (delta, j) {\n            dot += delta * uintArray[i + j];\n        });\n        var value = dot * FLOAT_RANGE + FLOAT_MIN;\n        floatArray[i / 4] = value;\n    };\n    for (var i = 0; i < uintArray.length; i += 4) {\n        _loop_2(i);\n    }\n    return floatArray;\n}\nexport function decodeMatrixFromUnpackedArray(unpackedArray, matrix, channelsPerTexture) {\n    var requiredSize = getMatrixSizeFromUnpackedArraySize(unpackedArray.length, channelsPerTexture);\n    if (matrix.length < requiredSize) {\n        throw new Error(\"matrix length (\" + matrix.length + \") must be >= \" + requiredSize);\n    }\n    var dst = 0;\n    for (var src = 0; src < unpackedArray.length; src += channelsPerTexture) {\n        matrix[dst++] = unpackedArray[src];\n    }\n}\nexport function decodeMatrixFromUnpackedColorRGBAArray(unpackedArray, matrix, channels) {\n    var requiredSize = unpackedArray.length * channels / 4;\n    if (matrix.length < requiredSize) {\n        throw new Error(\"matrix length (\" + matrix.length + \") must be >= \" + requiredSize);\n    }\n    var dst = 0;\n    for (var src = 0; src < unpackedArray.length; src += 4) {\n        for (var c = 0; c < channels; c++) {\n            matrix[dst++] = unpackedArray[src + c];\n        }\n    }\n}\nexport function getPackedMatrixTextureShapeWidthHeight(rows, columns) {\n    return [Math.ceil(columns / 2), Math.ceil(rows / 2)];\n}\nexport function getPackedRGBAArraySizeFromMatrixShape(rows, columns) {\n    var _a = getPackedMatrixTextureShapeWidthHeight(rows, columns), w = _a[0], h = _a[1];\n    return w * h * 4;\n}\nexport function encodeMatrixToPackedRGBA(matrix, rows, columns, packedRGBA) {\n    var requiredSize = getPackedRGBAArraySizeFromMatrixShape(rows, columns);\n    if (packedRGBA.length < requiredSize) {\n        throw new Error(\"packedRGBA length (\" + packedRGBA.length + \") must be >= \" + requiredSize);\n    }\n    var _a = getPackedMatrixTextureShapeWidthHeight(rows, columns), textureWidth = _a[0], textureHeight = _a[1];\n    var oddWidth = (columns % 2) === 1;\n    var oddHeight = (rows % 2) === 1;\n    var widthInFullBlocks = Math.floor(columns / 2);\n    var heightInFullBlocks = Math.floor(rows / 2);\n    {\n        var dstStride = (oddWidth ? 4 : 0);\n        var oneRow = columns;\n        var dst = 0;\n        for (var blockY = 0; blockY < heightInFullBlocks; ++blockY) {\n            var matrixSrcRow = (blockY * 2 * columns);\n            for (var blockX = 0; blockX < widthInFullBlocks; ++blockX) {\n                var matrixSrcCol = blockX * 2;\n                var src = matrixSrcRow + matrixSrcCol;\n                packedRGBA[dst] = matrix[src];\n                packedRGBA[dst + 1] = matrix[src + 1];\n                packedRGBA[dst + 2] = matrix[src + oneRow];\n                packedRGBA[dst + 3] = matrix[src + oneRow + 1];\n                dst += 4;\n            }\n            dst += dstStride;\n        }\n    }\n    if (oddWidth) {\n        var src = columns - 1;\n        var dst = (textureWidth - 1) * 4;\n        var srcStride = 2 * columns;\n        var dstStride = textureWidth * 4;\n        for (var blockY = 0; blockY < heightInFullBlocks; ++blockY) {\n            packedRGBA[dst] = matrix[src];\n            packedRGBA[dst + 2] = matrix[src + columns];\n            src += srcStride;\n            dst += dstStride;\n        }\n    }\n    if (oddHeight) {\n        var src = (rows - 1) * columns;\n        var dst = (textureHeight - 1) * textureWidth * 4;\n        for (var blockX = 0; blockX < widthInFullBlocks; ++blockX) {\n            packedRGBA[dst++] = matrix[src++];\n            packedRGBA[dst++] = matrix[src++];\n            dst += 2;\n        }\n    }\n    if (oddWidth && oddHeight) {\n        packedRGBA[packedRGBA.length - 4] = matrix[matrix.length - 1];\n    }\n    return packedRGBA;\n}\nexport function decodeMatrixFromPackedRGBA(packedRGBA, rows, columns, matrix) {\n    var requiredSize = rows * columns;\n    if (requiredSize < matrix.length) {\n        throw new Error(\"matrix length (\" + matrix.length + \") must be >= \" + requiredSize);\n    }\n    var oddWidth = (columns % 2) === 1;\n    var oddHeight = (rows % 2) === 1;\n    var widthInFullBlocks = Math.floor(columns / 2);\n    var heightInFullBlocks = Math.floor(rows / 2);\n    var _a = getPackedMatrixTextureShapeWidthHeight(rows, columns), textureWidth = _a[0], textureHeight = _a[1];\n    {\n        var srcStride = oddWidth ? 4 : 0;\n        var dstStride = columns + (oddWidth ? 1 : 0);\n        var src = 0;\n        var dstRow1 = 0;\n        var dstRow2 = columns;\n        for (var blockY = 0; blockY < heightInFullBlocks; ++blockY) {\n            for (var blockX = 0; blockX < widthInFullBlocks; ++blockX) {\n                matrix[dstRow1++] = packedRGBA[src++];\n                matrix[dstRow1++] = packedRGBA[src++];\n                matrix[dstRow2++] = packedRGBA[src++];\n                matrix[dstRow2++] = packedRGBA[src++];\n            }\n            src += srcStride;\n            dstRow1 += dstStride;\n            dstRow2 += dstStride;\n        }\n    }\n    if (oddWidth) {\n        var src = (textureWidth - 1) * 4;\n        var dst = columns - 1;\n        var srcStride = textureWidth * 4;\n        var dstStride = 2 * columns;\n        for (var blockY = 0; blockY < heightInFullBlocks; ++blockY) {\n            matrix[dst] = packedRGBA[src];\n            matrix[dst + columns] = packedRGBA[src + 2];\n            src += srcStride;\n            dst += dstStride;\n        }\n    }\n    if (oddHeight) {\n        var src = (textureHeight - 1) * textureWidth * 4;\n        var dst = (rows - 1) * columns;\n        for (var blockX = 0; blockX < widthInFullBlocks; ++blockX) {\n            matrix[dst++] = packedRGBA[src++];\n            matrix[dst++] = packedRGBA[src++];\n            src += 2;\n        }\n    }\n    if (oddWidth && oddHeight) {\n        matrix[matrix.length - 1] = packedRGBA[packedRGBA.length - 4];\n    }\n    return matrix;\n}\n//# sourceMappingURL=tex_util.js.map","import { ENV } from '../../environment';\nimport * as util from '../../util';\nimport * as broadcast_util from '../../ops/broadcast_util';\nimport * as tex_util from './tex_util';\nexport function makeShader(inputsInfo, outputShape, userCode, broadcast) {\n    var sampleSnippet = getSampleSnippet();\n    var setOutputSnippet = getSetOutputSnippet();\n    var inputPrefixSnippet = inputsInfo.map(function (x) { return \"uniform sampler2D \" + x.name + \";\"; }).join('\\n');\n    var inputSamplingSnippet = inputsInfo.map(function (x) { return getInputSamplingSnippet(x, outputShape, broadcast); })\n        .join('\\n');\n    var outTexShape = outputShape.texShape;\n    var outputSamplingSnippet = getOutputSamplingSnippet(outputShape.logicalShape, outTexShape);\n    var source = [\n        SHADER_PREFIX, sampleSnippet, setOutputSnippet, inputPrefixSnippet,\n        outputSamplingSnippet, inputSamplingSnippet, userCode\n    ].join('\\n');\n    return source;\n}\nfunction getSampleSnippet() {\n    return ENV.get('WEBGL_FLOAT_TEXTURE_ENABLED') ?\n        FLOAT_TEXTURE_SAMPLE_SNIPPET :\n        UNSIGNED_BYTE_TEXTURE_SAMPLE_SNIPPET;\n}\nfunction getSetOutputSnippet() {\n    return ENV.get('WEBGL_FLOAT_TEXTURE_ENABLED') ?\n        FLOAT_TEXTURE_SETOUTPUT_SNIPPET :\n        UNSIGNED_BYTE_TEXTURE_SETOUTPUT_SNIPPET;\n}\nfunction getSamplerFromInInfo(inInfo) {\n    var shape = inInfo.shapeInfo.logicalShape;\n    switch (shape.length) {\n        case 0:\n            return getSamplerScalar(inInfo);\n        case 1:\n            return getSampler1D(inInfo);\n        case 2:\n            return getSampler2D(inInfo);\n        case 3:\n            return getSampler3D(inInfo);\n        case 4:\n            return getSampler4D(inInfo);\n        default:\n            throw new Error(shape.length + \"-D input sampling\" +\n                \" is not yet supported\");\n    }\n}\nfunction getInputSamplingSnippet(inInfo, outShapeInfo, broadcast) {\n    var res = getSamplerFlat(inInfo);\n    res += getSamplerFromInInfo(inInfo);\n    if (broadcast ||\n        util.arraysEqual(inInfo.shapeInfo.logicalShape, outShapeInfo.logicalShape)) {\n        res += getSamplerAtOutputCoords(inInfo, outShapeInfo, broadcast);\n    }\n    return res;\n}\nfunction getOutputSamplingSnippet(outShape, outTexShape) {\n    switch (outShape.length) {\n        case 0:\n            return getOutputScalarCoords();\n        case 1:\n            return getOutput1DCoords(outShape, outTexShape);\n        case 2:\n            return getOutput2DCoords(outShape, outTexShape);\n        case 3:\n            return getOutput3DCoords(outShape, outTexShape);\n        case 4:\n            return getOutput4DCoords(outShape, outTexShape);\n        default:\n            throw new Error(outShape.length + \"-D output sampling is not yet supported\");\n    }\n}\nvar SAMPLE_1D_SNIPPET = \"\\nvec2 UVfrom1D(int texNumR, int texNumC, int index) {\\n  int texR = index / texNumC;\\n  int texC = index - texR * texNumC;\\n  return (vec2(texC, texR) + halfCR) / vec2(texNumC, texNumR);\\n}\\n\";\nvar SAMPLE_2D_SNIPPET = \"\\nvec2 UVfrom2D(int texNumR, int texNumC, int numC, int row, int col) {\\n  int index = row * numC + col;\\n  int texR = index / texNumC;\\n  int texC = index - texR * texNumC;\\n  return (vec2(texC, texR) + halfCR) / vec2(texNumC, texNumR);\\n}\\n\";\nvar SAMPLE_3D_SNIPPET = \"\\nvec2 UVfrom3D(int texNumR, int texNumC, int stride0,\\n    int stride1, int row, int col, int depth) {\\n  // Explicitly use integer operations as dot() only works on floats.\\n  int index = row * stride0 + col * stride1 + depth;\\n  int texR = index / texNumC;\\n  int texC = index - texR * texNumC;\\n  return (vec2(texC, texR) + halfCR) / vec2(texNumC, texNumR);\\n}\\n\";\nvar SAMPLE_4D_SNIPPET = \"\\nvec2 UVfrom4D(int texNumR, int texNumC, int stride0,\\n    int stride1, int stride2, int row, int col, int depth,\\n    int depth2) {\\n  // Explicitly use integer operations as dot() only works on floats.\\n  int index = row * stride0 + col * stride1 + depth * stride2 + depth2;\\n  int texR = index / texNumC;\\n  int texC = index - texR * texNumC;\\n  return (vec2(texC, texR) + halfCR) / vec2(texNumC, texNumR);\\n}\\n\";\nvar UNSIGNED_BYTE_TEXTURE_SAMPLE_SNIPPET = \"\\n  uniform float NaN;\\n\\n  const vec4 floatDeltas = vec4(\\n      1.0,\\n      1.0 / 255.0,\\n      1.0 / (255.0 * 255.0),\\n      1.0 / (255.0 * 255.0 * 255.0)\\n  );\\n  const float minValue = \" + tex_util.FLOAT_MIN + \".0;\\n  const float maxValue = \" + tex_util.FLOAT_MAX + \".0;\\n  const float range = (maxValue - minValue) / 255.0;\\n  const vec2 dotRange = vec2(1.0, range);\\n\\n  float sampleTexture(sampler2D textureSampler, vec2 uv) {\\n    vec4 sampleValue = texture2D(textureSampler, uv);\\n    if (all(equal(sampleValue, vec4(\" + tex_util.BYTE_NAN_VALUE + \")))) {\\n      return NaN;\\n    }\\n\\n    vec4 encValue = floor(sampleValue * 255.0 + 0.5);\\n    float decodedValue = dot(encValue, floatDeltas);\\n    return dot(vec2(minValue, decodedValue), dotRange);\\n  }\\n\";\nvar UNSIGNED_BYTE_TEXTURE_SETOUTPUT_SNIPPET = \"\\n  const vec4 floatPowers = vec4(\\n    1.0,\\n    255.0,\\n    255.0 * 255.0,\\n    255.0 * 255.0 * 255.0\\n  );\\n  const vec2 recipRange = vec2(1.0/range);\\n  const vec2 recipRange255 = vec2(1.0/(maxValue - minValue));\\n\\n  void setOutput(float decodedValue) {\\n    if (isNaN(decodedValue)) {\\n      gl_FragColor = vec4(\" + tex_util.BYTE_NAN_VALUE + \");\\n      return;\\n    }\\n\\n    float a = dot(vec2(decodedValue, -minValue), recipRange);\\n    float b = fract(a) * 255.0;\\n    float c = fract(b) * 255.0;\\n    float d = fract(c) * 255.0;\\n    gl_FragColor = floor(vec4(a, b, c, d)) / 255.0;\\n\\n    // TODO(dsmilkov): Version above gets better accuracy but probably slower\\n    // than the version below. Benchmark to determine if the accuracy is worth\\n    // the cost.\\n\\n    // float normValue = dot(vec2(decodedValue, -minValue), recipRange255);\\n    // vec4 f = normValue * floatPowers;\\n    // gl_FragColor = floor(fract(f) * 255.0) / 255.0;\\n  }\\n\";\nvar FLOAT_TEXTURE_SAMPLE_SNIPPET = \"\\n  float sampleTexture(sampler2D textureSampler, vec2 uv) {\\n    return texture2D(textureSampler, uv).r;\\n  }\\n\";\nvar FLOAT_TEXTURE_SETOUTPUT_SNIPPET = \"\\n  void setOutput(float val) {\\n    gl_FragColor = vec4(val, 0, 0, 0);\\n  }\\n\";\nvar SHADER_PREFIX = \"\\n  precision highp float;\\n  precision highp int;\\n  varying vec2 resultUV;\\n  const vec2 halfCR = vec2(0.5, 0.5);\\n\\n  bool isNaN(float val) {\\n    float v1 = val * val;\\n    float v2 = val * val;\\n    return v1 == v2 ? false : true;\\n  }\\n\\n  bool hasNaN(vec4 values) {\\n    vec4 v1 = values * values;\\n    vec4 v2 = values * values;\\n    return any(notEqual(v1, v2));\\n  }\\n\\n  float getNaN(vec4 values) {\\n    return dot(vec4(1), values);\\n  }\\n\\n  int round(float value) {\\n    return int(floor(value + 0.5));\\n  }\\n\\n  int imod(int x, int y) {\\n    return x - y * (x / y);\\n  }\\n\\n  //Based on the work of Dave Hoskins\\n  //https://www.shadertoy.com/view/4djSRW\\n  #define HASHSCALE1 443.8975\\n  float random(float seed){\\n    vec2 p = resultUV * seed;\\n    vec3 p3  = fract(vec3(p.xyx) * HASHSCALE1);\\n    p3 += dot(p3, p3.yzx + 19.19);\\n    return fract((p3.x + p3.y) * p3.z);\\n  }\\n\\n  \" + SAMPLE_1D_SNIPPET + \"\\n  \" + SAMPLE_2D_SNIPPET + \"\\n  \" + SAMPLE_3D_SNIPPET + \"\\n  \" + SAMPLE_4D_SNIPPET + \"\\n\";\nfunction getOutputScalarCoords() {\n    return \"\\n    int getOutputCoords() {\\n      return 0;\\n    }\\n  \";\n}\nfunction getOutput1DCoords(shape, texShape) {\n    if (texShape[0] === 1) {\n        return \"\\n      int getOutputCoords() {\\n        return int(resultUV.x * \" + texShape[1] + \".0);\\n      }\\n    \";\n    }\n    if (texShape[1] === 1) {\n        return \"\\n      int getOutputCoords() {\\n        return int(resultUV.y * \" + texShape[0] + \".0);\\n      }\\n    \";\n    }\n    return \"\\n    int getOutputCoords() {\\n      ivec2 resTexRC = ivec2(resultUV.yx *\\n                             vec2(\" + texShape[0] + \", \" + texShape[1] + \"));\\n      return resTexRC.x * \" + texShape[1] + \" + resTexRC.y;\\n    }\\n  \";\n}\nfunction getOutput3DCoords(shape, texShape) {\n    var stride0 = shape[1] * shape[2];\n    var stride1 = shape[2];\n    return \"\\n    ivec3 getOutputCoords() {\\n      ivec2 resTexRC = ivec2(resultUV.yx *\\n                             vec2(\" + texShape[0] + \", \" + texShape[1] + \"));\\n      int index = resTexRC.x * \" + texShape[1] + \" + resTexRC.y;\\n      int r = index / \" + stride0 + \";\\n      index -= r * \" + stride0 + \";\\n      int c = index / \" + stride1 + \";\\n      int d = index - c * \" + stride1 + \";\\n      return ivec3(r, c, d);\\n    }\\n  \";\n}\nfunction getOutput4DCoords(shape, texShape) {\n    var stride2 = shape[3];\n    var stride1 = shape[2] * stride2;\n    var stride0 = shape[1] * stride1;\n    return \"\\n    ivec4 getOutputCoords() {\\n      ivec2 resTexRC = ivec2(resultUV.yx *\\n        vec2(\" + texShape[0] + \", \" + texShape[1] + \"));\\n      int index = resTexRC.x * \" + texShape[1] + \" + resTexRC.y;\\n\\n      int r = index / \" + stride0 + \";\\n      index -= r * \" + stride0 + \";\\n\\n      int c = index / \" + stride1 + \";\\n      index -= c * \" + stride1 + \";\\n\\n      int d = index / \" + stride2 + \";\\n      int d2 = index - d * \" + stride2 + \";\\n\\n      return ivec4(r, c, d, d2);\\n    }\\n  \";\n}\nfunction getOutput2DCoords(shape, texShape) {\n    if (util.arraysEqual(shape, texShape)) {\n        return \"\\n      ivec2 getOutputCoords() {\\n        return ivec2(resultUV.yx * vec2(\" + texShape[0] + \", \" + texShape[1] + \"));\\n      }\\n    \";\n    }\n    if (shape[1] === 1) {\n        return \"\\n      ivec2 getOutputCoords() {\\n        ivec2 resTexRC = ivec2(resultUV.yx *\\n                               vec2(\" + texShape[0] + \", \" + texShape[1] + \"));\\n        int index = resTexRC.x * \" + texShape[1] + \" + resTexRC.y;\\n        return ivec2(index, 0);\\n      }\\n    \";\n    }\n    if (shape[0] === 1) {\n        return \"\\n      ivec2 getOutputCoords() {\\n        ivec2 resTexRC = ivec2(resultUV.yx *\\n                               vec2(\" + texShape[0] + \", \" + texShape[1] + \"));\\n        int index = resTexRC.x * \" + texShape[1] + \" + resTexRC.y;\\n        return ivec2(0, index);\\n      }\\n    \";\n    }\n    return \"\\n    ivec2 getOutputCoords() {\\n      ivec2 resTexRC = ivec2(resultUV.yx *\\n                             vec2(\" + texShape[0] + \", \" + texShape[1] + \"));\\n      int index = resTexRC.x * \" + texShape[1] + \" + resTexRC.y;\\n      int r = index / \" + shape[1] + \";\\n      int c = index - r * \" + shape[1] + \";\\n      return ivec2(r, c);\\n    }\\n  \";\n}\nfunction getSamplerScalar(inputInfo) {\n    var texName = inputInfo.name;\n    var funcName = 'get' + texName.charAt(0).toUpperCase() + texName.slice(1);\n    return \"\\n    float \" + funcName + \"() {\\n      return sampleTexture(\" + texName + \", halfCR);\\n    }\\n  \";\n}\nfunction getSampler1D(inputInfo) {\n    var texName = inputInfo.name;\n    var funcName = 'get' + texName.charAt(0).toUpperCase() + texName.slice(1);\n    return \"\\n    float \" + funcName + \"(int index) {\\n      return \" + funcName + \"Flat(index);\\n    }\\n  \";\n}\nfunction getSampler2D(inputInfo) {\n    var shape = inputInfo.shapeInfo.logicalShape;\n    var texShape = inputInfo.shapeInfo.texShape;\n    var texName = inputInfo.name;\n    var funcName = 'get' + texName.charAt(0).toUpperCase() + texName.slice(1);\n    var texNumR = texShape[0];\n    var texNumC = texShape[1];\n    if (util.arraysEqual(shape, texShape)) {\n        return \"\\n    float \" + funcName + \"(int row, int col) {\\n      vec2 uv = (vec2(col, row) + halfCR) / vec2(\" + texNumC + \".0, \" + texNumR + \".0);\\n      return sampleTexture(\" + texName + \", uv);\\n    }\\n  \";\n    }\n    var _a = util.squeezeShape(shape), newShape = _a.newShape, keptDims = _a.keptDims;\n    var squeezedShape = newShape;\n    if (squeezedShape.length < shape.length) {\n        var newInputInfo = squeezeInputInfo(inputInfo, squeezedShape);\n        var params = ['row', 'col'];\n        return \"\\n      \" + getSamplerFromInInfo(newInputInfo) + \"\\n      float \" + funcName + \"(int row, int col) {\\n        return \" + funcName + \"(\" + getSqueezedParams(params, keptDims) + \");\\n      }\\n    \";\n    }\n    if (texNumC === 1) {\n        return \"\\n    float \" + funcName + \"(int row, int col) {\\n      int index = row * \" + shape[1] + \" + col;\\n      vec2 uv = vec2(0.5, (float(index) + 0.5) / \" + texNumR + \".0);\\n      return sampleTexture(\" + texName + \", uv);\\n    }\\n  \";\n    }\n    if (texNumR === 1) {\n        return \"\\n    float \" + funcName + \"(int row, int col) {\\n      int index = row * \" + shape[1] + \" + col;\\n      vec2 uv = vec2((float(index) + 0.5) / \" + texNumC + \".0, 0.5);\\n      return sampleTexture(\" + texName + \", uv);\\n    }\\n  \";\n    }\n    return \"\\n  float \" + funcName + \"(int row, int col) {\\n    vec2 uv = UVfrom2D(\" + texNumR + \", \" + texNumC + \", \" + shape[1] + \", row, col);\\n    return sampleTexture(\" + texName + \", uv);\\n  }\\n\";\n}\nfunction getSampler3D(inputInfo) {\n    var texShape = inputInfo.shapeInfo.texShape;\n    var shape = inputInfo.shapeInfo.logicalShape;\n    var texName = inputInfo.name;\n    var funcName = 'get' + texName.charAt(0).toUpperCase() + texName.slice(1);\n    var texNumR = texShape[0];\n    var texNumC = texShape[1];\n    var stride0 = shape[1] * shape[2];\n    var stride1 = shape[2];\n    var _a = util.squeezeShape(shape), newShape = _a.newShape, keptDims = _a.keptDims;\n    var squeezedShape = newShape;\n    if (squeezedShape.length < shape.length) {\n        var newInputInfo = squeezeInputInfo(inputInfo, squeezedShape);\n        var params = ['row', 'col', 'depth'];\n        return \"\\n        \" + getSamplerFromInInfo(newInputInfo) + \"\\n        float \" + funcName + \"(int row, int col, int depth) {\\n          return \" + funcName + \"(\" + getSqueezedParams(params, keptDims) + \");\\n        }\\n      \";\n    }\n    if (texNumC === stride0) {\n        return \"\\n        float \" + funcName + \"(int row, int col, int depth) {\\n          int texR = row;\\n          int texC = col * \" + stride1 + \" + depth;\\n          vec2 uv = (vec2(texC, texR) + halfCR) /\\n                     vec2(\" + texNumC + \".0, \" + texNumR + \".0);\\n          return sampleTexture(\" + texName + \", uv);\\n        }\\n      \";\n    }\n    if (texNumC === stride1) {\n        return \"\\n    float \" + funcName + \"(int row, int col, int depth) {\\n      int texR = row * \" + shape[1] + \" + col;\\n      int texC = depth;\\n      vec2 uv = (vec2(texC, texR) + halfCR) / vec2(\" + texNumC + \".0, \" + texNumR + \".0);\\n      return sampleTexture(\" + texName + \", uv);\\n    }\\n  \";\n    }\n    return \"\\n      float \" + funcName + \"(int row, int col, int depth) {\\n        vec2 uv = UVfrom3D(\\n            \" + texNumR + \", \" + texNumC + \", \" + stride0 + \", \" + stride1 + \", row, col, depth);\\n        return sampleTexture(\" + texName + \", uv);\\n      }\\n  \";\n}\nfunction getSampler4D(inputInfo) {\n    var shape = inputInfo.shapeInfo.logicalShape;\n    var texShape = inputInfo.shapeInfo.texShape;\n    var texName = inputInfo.name;\n    var funcName = 'get' + texName.charAt(0).toUpperCase() + texName.slice(1);\n    var texNumR = texShape[0];\n    var texNumC = texShape[1];\n    var stride2 = shape[3];\n    var stride1 = shape[2] * stride2;\n    var stride0 = shape[1] * stride1;\n    var _a = util.squeezeShape(shape), newShape = _a.newShape, keptDims = _a.keptDims;\n    if (newShape.length < shape.length) {\n        var newInputInfo = squeezeInputInfo(inputInfo, newShape);\n        var params = ['row', 'col', 'depth', 'depth2'];\n        return \"\\n      \" + getSamplerFromInInfo(newInputInfo) + \"\\n      float \" + funcName + \"(int row, int col, int depth, int depth2) {\\n        return \" + funcName + \"(\" + getSqueezedParams(params, keptDims) + \");\\n      }\\n    \";\n    }\n    if (texNumC === stride0) {\n        return \"\\n      float \" + funcName + \"(int row, int col, int depth, int depth2) {\\n        int texR = row;\\n        int texC = col * \" + stride1 + \" + depth * \" + stride2 + \" + depth2;\\n        vec2 uv = (vec2(texC, texR) + halfCR) /\\n                   vec2(\" + texNumC + \".0, \" + texNumR + \".0);\\n        return sampleTexture(\" + texName + \", uv);\\n      }\\n    \";\n    }\n    if (texNumC === stride2) {\n        return \"\\n      float \" + funcName + \"(int row, int col, int depth, int depth2) {\\n        int texR = row * \" + shape[1] * shape[2] + \" + col * \" + shape[2] + \" + depth;\\n        int texC = depth2;\\n        vec2 uv = (vec2(texC, texR) + halfCR) /\\n                  vec2(\" + texNumC + \".0, \" + texNumR + \".0);\\n        return sampleTexture(\" + texName + \", uv);\\n      }\\n    \";\n    }\n    return \"\\n    float \" + funcName + \"(int row, int col, int depth, int depth2) {\\n      vec2 uv = UVfrom4D(\" + texNumR + \", \" + texNumC + \", \" + stride0 + \", \" + stride1 + \",\\n          \" + stride2 + \", row, col, depth, depth2);\\n      return sampleTexture(\" + texName + \", uv);\\n    }\\n  \";\n}\nfunction getSamplerFlat(inputInfo) {\n    var texName = inputInfo.name;\n    var texShape = inputInfo.shapeInfo.texShape;\n    var funcName = 'get' + texName.charAt(0).toUpperCase() + texName.slice(1) + 'Flat';\n    var tNumR = texShape[0];\n    var tNumC = texShape[1];\n    if (tNumC === 1 && tNumR === 1) {\n        return \"\\n      float \" + funcName + \"(int index) {\\n        return sampleTexture(\" + texName + \", halfCR);\\n      }\\n    \";\n    }\n    if (tNumC === 1) {\n        return \"\\n      float \" + funcName + \"(int index) {\\n        vec2 uv = vec2(0.5, (float(index) + 0.5) / \" + tNumR + \".0);\\n        return sampleTexture(\" + texName + \", uv);\\n      }\\n    \";\n    }\n    if (tNumR === 1) {\n        return \"\\n      float \" + funcName + \"(int index) {\\n        vec2 uv = vec2((float(index) + 0.5) / \" + tNumC + \".0, 0.5);\\n        return sampleTexture(\" + texName + \", uv);\\n      }\\n    \";\n    }\n    return \"\\n    float \" + funcName + \"(int index) {\\n      vec2 uv = UVfrom1D(\" + tNumR + \", \" + tNumC + \", index);\\n      return sampleTexture(\" + texName + \", uv);\\n    }\\n  \";\n}\nfunction getBroadcastOutputCoordsSampler(inputInfo, outShapeInfo, texFuncSnippet, funcName) {\n    var inRank = inputInfo.shapeInfo.logicalShape.length;\n    var outRank = outShapeInfo.logicalShape.length;\n    var type = 'int';\n    if (outRank === 2) {\n        type = 'ivec2';\n    }\n    else if (outRank === 3) {\n        type = 'ivec3';\n    }\n    else if (outRank === 4) {\n        type = 'ivec4';\n    }\n    var broadcastDims = broadcast_util.getBroadcastDims(inputInfo.shapeInfo.logicalShape, outShapeInfo.logicalShape);\n    var rankDiff = outRank - inRank;\n    var coordsSnippet;\n    if (inRank === 0) {\n        coordsSnippet = '';\n    }\n    else if (outRank < 2 && broadcastDims.length >= 1) {\n        coordsSnippet = 'coords = 0;';\n    }\n    else {\n        coordsSnippet =\n            broadcastDims.map(function (d) { return \"coords[\" + (d + rankDiff) + \"] = 0;\"; }).join('\\n');\n    }\n    var unpackedCoordsSnippet = '';\n    if (outRank < 2 && inRank > 0) {\n        unpackedCoordsSnippet = 'coords';\n    }\n    else {\n        unpackedCoordsSnippet = inputInfo.shapeInfo.logicalShape\n            .map(function (s, i) { return \"coords[\" + (i + rankDiff) + \"]\"; })\n            .join(', ');\n    }\n    return \"\\n    float \" + funcName + \"() {\\n      \" + type + \" coords = getOutputCoords();\\n      \" + coordsSnippet + \"\\n      return get\" + texFuncSnippet + \"(\" + unpackedCoordsSnippet + \");\\n    }\\n  \";\n}\nfunction getSamplerAtOutputCoords(inputInfo, outShapeInfo, supportsBroadcasting) {\n    var inTexShape = inputInfo.shapeInfo.texShape;\n    var texName = inputInfo.name;\n    var texFuncSnippet = texName.charAt(0).toUpperCase() + texName.slice(1);\n    var funcName = 'get' + texFuncSnippet + 'AtOutCoords';\n    var broadcastDims = broadcast_util.getBroadcastDims(inputInfo.shapeInfo.logicalShape, outShapeInfo.logicalShape);\n    var inRank = inputInfo.shapeInfo.logicalShape.length;\n    var outRank = outShapeInfo.logicalShape.length;\n    var doBroadcast = supportsBroadcasting && ((outRank > inRank) || broadcastDims.length > 0);\n    var broadcastOverOuter = broadcast_util.broadcastDimsAreOuter(broadcastDims);\n    if (doBroadcast && !broadcastOverOuter) {\n        return getBroadcastOutputCoordsSampler(inputInfo, outShapeInfo, texFuncSnippet, funcName);\n    }\n    var outTexShape = outShapeInfo.texShape;\n    if (util.arraysEqual(inTexShape, outTexShape)) {\n        return \"\\n      float \" + funcName + \"() {\\n        return sampleTexture(\" + texName + \", resultUV);\\n      }\\n    \";\n    }\n    var inSize = util.sizeFromShape(inTexShape);\n    var broadcastSnippet = '';\n    if (doBroadcast && broadcastOverOuter) {\n        broadcastSnippet = \"\\n        int mainPart = index / \" + inSize + \";\\n        index -= mainPart * \" + inSize + \";\\n      \";\n    }\n    return \"\\n    float \" + funcName + \"() {\\n      ivec2 resTexRC = ivec2(resultUV.yx *\\n                             vec2(\" + outTexShape[0] + \", \" + outTexShape[1] + \"));\\n      int index = resTexRC.x * \" + outTexShape[1] + \" + resTexRC.y;\\n      \" + broadcastSnippet + \"\\n      int texR = index / \" + inTexShape[1] + \";\\n      int texC = index - texR * \" + inTexShape[1] + \";\\n      vec2 uv = (vec2(texC, texR) + halfCR) /\\n                 vec2(\" + inTexShape[1] + \".0, \" + inTexShape[0] + \".0);\\n\\n      return sampleTexture(\" + texName + \", uv);\\n    }\\n  \";\n}\nexport function getCoordsDataType(rank) {\n    if (rank <= 1) {\n        return 'int';\n    }\n    else if (rank === 2) {\n        return 'ivec2';\n    }\n    else if (rank === 3) {\n        return 'ivec3';\n    }\n    else if (rank === 4) {\n        return 'ivec4';\n    }\n    else {\n        throw Error(\"GPU for rank \" + rank + \" is not yet supported\");\n    }\n}\nfunction squeezeInputInfo(inInfo, squeezedShape) {\n    var newInputInfo = JSON.parse(JSON.stringify(inInfo));\n    newInputInfo.shapeInfo.logicalShape = squeezedShape;\n    return newInputInfo;\n}\nfunction getSqueezedParams(params, keptDims) {\n    return keptDims.map(function (d) { return params[d]; }).join(', ');\n}\n//# sourceMappingURL=shader_compiler.js.map","import { getCoordsDataType } from './shader_compiler';\nvar CumSumProgram = (function () {\n    function CumSumProgram(shape, exclusive, reverse) {\n        this.variableNames = ['x'];\n        this.outputShape = shape;\n        var rank = shape.length;\n        var finalDim = shape[shape.length - 1];\n        var dtype = getCoordsDataType(rank);\n        var outputCoords = getCoords(rank, 'coords');\n        var sourceCoords = getCoords(rank, 'adjustableCoords');\n        var finalCoord = getFinalCoord(rank, 'coords');\n        var finalAdjustableCoord = getFinalCoord(rank, 'adjustableCoords');\n        var indexAdjuster = reverse ? \"return \" + finalDim + \" -i - 1;\" : 'return i;';\n        var comparator = reverse ? '<' : '>';\n        this.userCode = \"\\n      int getIndex(int i) {\\n        \" + indexAdjuster + \"\\n      }\\n\\n      void main() {\\n        \" + dtype + \" coords = getOutputCoords();\\n        \" + dtype + \" adjustableCoords = \" + dtype + \"(\" + outputCoords + \");\\n        int finalCoord = int(\" + finalCoord + \");\\n        float val = 0.0;\\n        for (int i = \" + finalDim + \" - 1; i >= 0; i -= 1) {\\n          int idx = getIndex(i);\\n          if (idx \" + comparator + \" finalCoord) {\\n            continue;\\n          }\\n          if (idx == finalCoord && \" + exclusive + \") {\\n            continue;\\n          }\\n          \" + finalAdjustableCoord + \" = idx;\\n          val += getX(\" + sourceCoords + \");\\n        }\\n        setOutput(val);\\n      }\\n    \";\n    }\n    return CumSumProgram;\n}());\nexport { CumSumProgram };\nfunction getCoords(rank, name) {\n    if (rank === 1) {\n        return \"\" + name;\n    }\n    else if (rank === 2) {\n        return name + \".x, \" + name + \".y\";\n    }\n    else if (rank === 3) {\n        return name + \".x, \" + name + \".y, \" + name + \".z\";\n    }\n    else if (rank === 4) {\n        return name + \".x, \" + name + \".y, \" + name + \".z, \" + name + \".w\";\n    }\n    else {\n        throw Error(\"Cumulative sum for rank \" + rank + \" is not yet supported\");\n    }\n}\nfunction getFinalCoord(rank, name) {\n    if (rank === 1) {\n        return \"\" + name;\n    }\n    else if (rank === 2) {\n        return name + \".y\";\n    }\n    else if (rank === 3) {\n        return name + \".z\";\n    }\n    else if (rank === 4) {\n        return name + \".w\";\n    }\n    else {\n        throw Error(\"Cumulative sum for rank \" + rank + \" is not yet supported\");\n    }\n}\n//# sourceMappingURL=cumsum_gpu.js.map","var DepthwiseConv2DProgram = (function () {\n    function DepthwiseConv2DProgram(convInfo) {\n        this.variableNames = ['x', 'W'];\n        this.outputShape = convInfo.outShape;\n        var xNumRows = convInfo.inHeight;\n        var xNumCols = convInfo.inWidth;\n        var padTop = convInfo.padInfo.top;\n        var padLeft = convInfo.padInfo.left;\n        var strideHeight = convInfo.strideHeight;\n        var strideWidth = convInfo.strideWidth;\n        var dilationHeight = convInfo.dilationHeight;\n        var dilationWidth = convInfo.dilationWidth;\n        var filterHeight = convInfo.filterHeight;\n        var filterWidth = convInfo.filterWidth;\n        var channelMul = convInfo.outChannels / convInfo.inChannels;\n        this.userCode = \"\\n      const ivec2 strides = ivec2(\" + strideHeight + \", \" + strideWidth + \");\\n      const ivec2 pads = ivec2(\" + padTop + \", \" + padLeft + \");\\n\\n      void main() {\\n        ivec4 coords = getOutputCoords();\\n        int batch = coords.x;\\n        ivec2 xRCCorner = coords.yz * strides - pads;\\n        int d2 = coords.w;\\n        int d1 = d2 / \" + channelMul + \";\\n        int q = d2 - d1 * \" + channelMul + \";\\n\\n        int xRCorner = xRCCorner.x;\\n        int xCCorner = xRCCorner.y;\\n\\n        // Convolve x(?, ?, d1) with w(:, :, d1, q) to get y(yR, yC, d2).\\n        // ? = to be determined. : = across all values in that axis.\\n        float dotProd = 0.0;\\n        // TODO(dsmilkov): Flatten the two for loops and vec4 the operations.\\n        for (int wR = 0; wR < \" + filterHeight + \"; wR++) {\\n          int xR = xRCorner + wR * \" + dilationHeight + \";\\n\\n          if (xR < 0 || xR >= \" + xNumRows + \") {\\n            continue;\\n          }\\n\\n          for (int wC = 0; wC < \" + filterWidth + \"; wC++) {\\n            int xC = xCCorner + wC * \" + dilationWidth + \";\\n\\n            if (xC < 0 || xC >= \" + xNumCols + \") {\\n              continue;\\n            }\\n\\n            float xVal = getX(batch, xR, xC, d1);\\n            float wVal = getW(wR, wC, d1, q);\\n            dotProd += xVal * wVal;\\n          }\\n        }\\n        setOutput(dotProd);\\n      }\\n    \";\n    }\n    return DepthwiseConv2DProgram;\n}());\nexport { DepthwiseConv2DProgram };\n//# sourceMappingURL=conv_gpu_depthwise.js.map","var FromPixelsProgram = (function () {\n    function FromPixelsProgram(outputShape) {\n        this.variableNames = ['A'];\n        var height = outputShape[0], width = outputShape[1];\n        this.outputShape = outputShape;\n        this.userCode = \"\\n      void main() {\\n        ivec3 coords = getOutputCoords();\\n        int texR = coords[0];\\n        int texC = coords[1];\\n        int depth = coords[2];\\n        vec2 uv = (vec2(texC, texR) + halfCR) / vec2(\" + width + \".0, \" + height + \".0);\\n\\n        vec4 values = texture2D(A, uv);\\n        float value;\\n        if (depth == 0) {\\n          value = values.r;\\n        } else if (depth == 1) {\\n          value = values.g;\\n        } else if (depth == 2) {\\n          value = values.b;\\n        } else if (depth == 3) {\\n          value = values.a;\\n        }\\n\\n        setOutput(floor(value * 255.0 + 0.5));\\n      }\\n    \";\n    }\n    return FromPixelsProgram;\n}());\nexport { FromPixelsProgram };\n//# sourceMappingURL=from_pixels_gpu.js.map","import { getCoordsDataType } from './shader_compiler';\nvar GatherProgram = (function () {\n    function GatherProgram(aShape, indicesLength, axis) {\n        this.variableNames = ['A', 'indices'];\n        var outputShape = aShape.slice();\n        outputShape[axis] = indicesLength;\n        this.outputShape = outputShape;\n        this.rank = outputShape.length;\n        var dtype = getCoordsDataType(this.rank);\n        var sourceCoords = getSourceCoords(aShape, axis);\n        this.userCode = \"\\n      void main() {\\n        \" + dtype + \" resRC = getOutputCoords();\\n        setOutput(getA(\" + sourceCoords + \"));\\n      }\\n    \";\n    }\n    return GatherProgram;\n}());\nexport { GatherProgram };\nfunction getSourceCoords(aShape, axis) {\n    var rank = aShape.length;\n    if (rank > 4) {\n        throw Error(\"Gather for rank \" + rank + \" is not yet supported\");\n    }\n    if (rank === 1) {\n        return \"int(getIndices(resRC))\";\n    }\n    var currentCoords = ['resRC.x', 'resRC.y', 'resRC.z', 'resRC.w'];\n    var sourceCoords = [];\n    for (var i = 0; i < aShape.length; i++) {\n        if (i === axis) {\n            sourceCoords.push(\"int(getIndices(\" + currentCoords[i] + \"))\");\n        }\n        else {\n            sourceCoords.push(\"\" + currentCoords[i]);\n        }\n    }\n    return sourceCoords.join();\n}\n//# sourceMappingURL=gather_gpu.js.map","var MAX_TEXTURE_SIZE = null;\nimport * as util from '../../util';\nimport { ENV } from '../../environment';\nexport function createWebGLRenderingContext(attributes) {\n    var canvas = document.createElement('canvas');\n    canvas.width = 1;\n    canvas.height = 1;\n    return createWebGLRenderingContextFromCanvas(canvas, attributes);\n}\nexport function createWebGLRenderingContextFromCanvas(canvas, attributes) {\n    var gl;\n    var webglVersion = ENV.get('WEBGL_VERSION');\n    if (webglVersion === 2) {\n        gl = canvas.getContext('webgl2', attributes);\n    }\n    else if (webglVersion === 1) {\n        gl = (canvas.getContext('webgl', attributes) ||\n            canvas.getContext('experimental-webgl', attributes));\n    }\n    if (webglVersion === 0 || gl == null) {\n        throw new Error('This browser does not support WebGL.');\n    }\n    return gl;\n}\nexport function callAndCheck(gl, func) {\n    var returnValue = func();\n    checkWebGLError(gl);\n    return returnValue;\n}\nvar webGLDebugErrorCheckingEnabled = false;\nexport function enableDebugWebGLErrorChecking(enabled) {\n    webGLDebugErrorCheckingEnabled = enabled;\n}\nexport function checkWebGLError(gl) {\n    if (webGLDebugErrorCheckingEnabled) {\n        var error = gl.getError();\n        if (error !== gl.NO_ERROR) {\n            throw new Error('WebGL Error: ' + getWebGLErrorMessage(gl, error));\n        }\n    }\n}\nexport function getWebGLErrorMessage(gl, status) {\n    switch (status) {\n        case gl.NO_ERROR:\n            return 'NO_ERROR';\n        case gl.INVALID_ENUM:\n            return 'INVALID_ENUM';\n        case gl.INVALID_VALUE:\n            return 'INVALID_VALUE';\n        case gl.INVALID_OPERATION:\n            return 'INVALID_OPERATION';\n        case gl.INVALID_FRAMEBUFFER_OPERATION:\n            return 'INVALID_FRAMEBUFFER_OPERATION';\n        case gl.OUT_OF_MEMORY:\n            return 'OUT_OF_MEMORY';\n        case gl.CONTEXT_LOST_WEBGL:\n            return 'CONTEXT_LOST_WEBGL';\n        default:\n            return \"Unknown error code \" + status;\n    }\n}\nexport function getExtensionOrThrow(gl, extensionName) {\n    return throwIfNull(gl, function () { return gl.getExtension(extensionName); }, 'Extension \"' + extensionName + '\" not supported on this browser.');\n}\nexport function createVertexShader(gl, vertexShaderSource) {\n    var vertexShader = throwIfNull(gl, function () { return gl.createShader(gl.VERTEX_SHADER); }, 'Unable to create vertex WebGLShader.');\n    callAndCheck(gl, function () { return gl.shaderSource(vertexShader, vertexShaderSource); });\n    callAndCheck(gl, function () { return gl.compileShader(vertexShader); });\n    if (gl.getShaderParameter(vertexShader, gl.COMPILE_STATUS) === false) {\n        console.log(gl.getShaderInfoLog(vertexShader));\n        throw new Error('Failed to compile vertex shader.');\n    }\n    return vertexShader;\n}\nexport function createFragmentShader(gl, fragmentShaderSource) {\n    var fragmentShader = throwIfNull(gl, function () { return gl.createShader(gl.FRAGMENT_SHADER); }, 'Unable to create fragment WebGLShader.');\n    callAndCheck(gl, function () { return gl.shaderSource(fragmentShader, fragmentShaderSource); });\n    callAndCheck(gl, function () { return gl.compileShader(fragmentShader); });\n    if (gl.getShaderParameter(fragmentShader, gl.COMPILE_STATUS) === false) {\n        logShaderSourceAndInfoLog(fragmentShaderSource, gl.getShaderInfoLog(fragmentShader));\n        throw new Error('Failed to compile fragment shader.');\n    }\n    return fragmentShader;\n}\nvar lineNumberRegex = /ERROR: [0-9]+:([0-9]+):/g;\nfunction logShaderSourceAndInfoLog(shaderSource, shaderInfoLog) {\n    var lineNumberRegexResult = lineNumberRegex.exec(shaderInfoLog);\n    if (lineNumberRegexResult == null) {\n        console.log(\"Couldn't parse line number in error: \" + shaderInfoLog);\n        console.log(shaderSource);\n        return;\n    }\n    var lineNumber = +lineNumberRegexResult[1];\n    var shaderLines = shaderSource.split('\\n');\n    var pad = shaderLines.length.toString().length + 2;\n    var linesWithLineNumbers = shaderLines.map(function (line, lineNumber) {\n        return util.rightPad((lineNumber + 1).toString(), pad) + line;\n    });\n    var maxLineLength = 0;\n    for (var i = 0; i < linesWithLineNumbers.length; i++) {\n        maxLineLength = Math.max(linesWithLineNumbers[i].length, maxLineLength);\n    }\n    var beforeErrorLines = linesWithLineNumbers.slice(0, lineNumber - 1);\n    var errorLine = linesWithLineNumbers.slice(lineNumber - 1, lineNumber);\n    var afterErrorLines = linesWithLineNumbers.slice(lineNumber);\n    console.log(beforeErrorLines.join('\\n'));\n    console.log(shaderInfoLog.split('\\n')[0]);\n    console.log(\"%c \" + util.rightPad(errorLine[0], maxLineLength), 'border:1px solid red; background-color:#e3d2d2; color:#a61717');\n    console.log(afterErrorLines.join('\\n'));\n}\nexport function createProgram(gl) {\n    return throwIfNull(gl, function () { return gl.createProgram(); }, 'Unable to create WebGLProgram.');\n}\nexport function linkProgram(gl, program) {\n    callAndCheck(gl, function () { return gl.linkProgram(program); });\n    if (gl.getProgramParameter(program, gl.LINK_STATUS) === false) {\n        console.log(gl.getProgramInfoLog(program));\n        throw new Error('Failed to link vertex and fragment shaders.');\n    }\n}\nexport function validateProgram(gl, program) {\n    callAndCheck(gl, function () { return gl.validateProgram(program); });\n    if (gl.getProgramParameter(program, gl.VALIDATE_STATUS) === false) {\n        console.log(gl.getProgramInfoLog(program));\n        throw new Error('Shader program validation failed.');\n    }\n}\nexport function createStaticVertexBuffer(gl, data) {\n    var buffer = throwIfNull(gl, function () { return gl.createBuffer(); }, 'Unable to create WebGLBuffer');\n    callAndCheck(gl, function () { return gl.bindBuffer(gl.ARRAY_BUFFER, buffer); });\n    callAndCheck(gl, function () { return gl.bufferData(gl.ARRAY_BUFFER, data, gl.STATIC_DRAW); });\n    return buffer;\n}\nexport function createStaticIndexBuffer(gl, data) {\n    var buffer = throwIfNull(gl, function () { return gl.createBuffer(); }, 'Unable to create WebGLBuffer');\n    callAndCheck(gl, function () { return gl.bindBuffer(gl.ELEMENT_ARRAY_BUFFER, buffer); });\n    callAndCheck(gl, function () { return gl.bufferData(gl.ELEMENT_ARRAY_BUFFER, data, gl.STATIC_DRAW); });\n    return buffer;\n}\nexport function queryMaxTextureSize(gl) {\n    if (MAX_TEXTURE_SIZE != null) {\n        return MAX_TEXTURE_SIZE;\n    }\n    MAX_TEXTURE_SIZE =\n        callAndCheck(gl, function () { return gl.getParameter(gl.MAX_TEXTURE_SIZE); });\n    return MAX_TEXTURE_SIZE;\n}\nexport function getChannelsPerTexture() {\n    if (!ENV.get('WEBGL_FLOAT_TEXTURE_ENABLED')) {\n        return 4;\n    }\n    if (ENV.get('WEBGL_VERSION') === 2) {\n        return 1;\n    }\n    return 4;\n}\nexport function createTexture(gl) {\n    return throwIfNull(gl, function () { return gl.createTexture(); }, 'Unable to create WebGLTexture.');\n}\nexport function validateTextureSize(gl, width, height) {\n    var maxTextureSize = queryMaxTextureSize(gl);\n    if ((width <= 0) || (height <= 0)) {\n        var requested = \"[\" + width + \"x\" + height + \"]\";\n        throw new Error('Requested texture size ' + requested + ' is invalid.');\n    }\n    if ((width > maxTextureSize) || (height > maxTextureSize)) {\n        var requested = \"[\" + width + \"x\" + height + \"]\";\n        var max = \"[\" + maxTextureSize + \"x\" + maxTextureSize + \"]\";\n        throw new Error('Requested texture size ' + requested +\n            ' greater than WebGL maximum on this browser / GPU ' + max + '.');\n    }\n}\nexport function createFramebuffer(gl) {\n    return throwIfNull(gl, function () { return gl.createFramebuffer(); }, 'Unable to create WebGLFramebuffer.');\n}\nexport function bindVertexBufferToProgramAttribute(gl, program, attribute, buffer, arrayEntriesPerItem, itemStrideInBytes, itemOffsetInBytes) {\n    var loc = gl.getAttribLocation(program, attribute);\n    if (loc === -1) {\n        return false;\n    }\n    callAndCheck(gl, function () { return gl.bindBuffer(gl.ARRAY_BUFFER, buffer); });\n    callAndCheck(gl, function () { return gl.vertexAttribPointer(loc, arrayEntriesPerItem, gl.FLOAT, false, itemStrideInBytes, itemOffsetInBytes); });\n    callAndCheck(gl, function () { return gl.enableVertexAttribArray(loc); });\n    return true;\n}\nexport function bindTextureUnit(gl, texture, textureUnit) {\n    validateTextureUnit(gl, textureUnit);\n    callAndCheck(gl, function () { return gl.activeTexture(gl.TEXTURE0 + textureUnit); });\n    callAndCheck(gl, function () { return gl.bindTexture(gl.TEXTURE_2D, texture); });\n}\nexport function unbindTextureUnit(gl, textureUnit) {\n    validateTextureUnit(gl, textureUnit);\n    callAndCheck(gl, function () { return gl.activeTexture(gl.TEXTURE0 + textureUnit); });\n    callAndCheck(gl, function () { return gl.bindTexture(gl.TEXTURE_2D, null); });\n}\nexport function getProgramUniformLocationOrThrow(gl, program, uniformName) {\n    return throwIfNull(gl, function () { return gl.getUniformLocation(program, uniformName); }, 'uniform \"' + uniformName + '\" not present in program.');\n}\nexport function getProgramUniformLocation(gl, program, uniformName) {\n    return gl.getUniformLocation(program, uniformName);\n}\nexport function bindTextureToProgramUniformSampler(gl, program, texture, uniformSamplerLocation, textureUnit) {\n    callAndCheck(gl, function () { return bindTextureUnit(gl, texture, textureUnit); });\n    callAndCheck(gl, function () { return gl.uniform1i(uniformSamplerLocation, textureUnit); });\n}\nexport function bindCanvasToFramebuffer(gl) {\n    callAndCheck(gl, function () { return gl.bindFramebuffer(gl.FRAMEBUFFER, null); });\n    callAndCheck(gl, function () { return gl.viewport(0, 0, gl.canvas.width, gl.canvas.height); });\n    callAndCheck(gl, function () { return gl.scissor(0, 0, gl.canvas.width, gl.canvas.height); });\n}\nexport function bindColorTextureToFramebuffer(gl, texture, framebuffer) {\n    callAndCheck(gl, function () { return gl.bindFramebuffer(gl.FRAMEBUFFER, framebuffer); });\n    callAndCheck(gl, function () { return gl.framebufferTexture2D(gl.FRAMEBUFFER, gl.COLOR_ATTACHMENT0, gl.TEXTURE_2D, texture, 0); });\n}\nexport function unbindColorTextureFromFramebuffer(gl, framebuffer) {\n    callAndCheck(gl, function () { return gl.bindFramebuffer(gl.FRAMEBUFFER, framebuffer); });\n    callAndCheck(gl, function () { return gl.framebufferTexture2D(gl.FRAMEBUFFER, gl.COLOR_ATTACHMENT0, gl.TEXTURE_2D, null, 0); });\n}\nexport function validateFramebuffer(gl) {\n    var status = gl.checkFramebufferStatus(gl.FRAMEBUFFER);\n    if (status !== gl.FRAMEBUFFER_COMPLETE) {\n        throw new Error('Error binding framebuffer: ' + getFramebufferErrorMessage(gl, status));\n    }\n}\nexport function getFramebufferErrorMessage(gl, status) {\n    switch (status) {\n        case gl.FRAMEBUFFER_INCOMPLETE_ATTACHMENT:\n            return 'FRAMEBUFFER_INCOMPLETE_ATTACHMENT';\n        case gl.FRAMEBUFFER_INCOMPLETE_MISSING_ATTACHMENT:\n            return 'FRAMEBUFFER_INCOMPLETE_MISSING_ATTACHMENT';\n        case gl.FRAMEBUFFER_INCOMPLETE_DIMENSIONS:\n            return 'FRAMEBUFFER_INCOMPLETE_DIMENSIONS';\n        case gl.FRAMEBUFFER_UNSUPPORTED:\n            return 'FRAMEBUFFER_UNSUPPORTED';\n        default:\n            return \"unknown error \" + status;\n    }\n}\nfunction throwIfNull(gl, returnTOrNull, failureMessage) {\n    var tOrNull = callAndCheck(gl, function () { return returnTOrNull(); });\n    if (tOrNull == null) {\n        throw new Error(failureMessage);\n    }\n    return tOrNull;\n}\nfunction validateTextureUnit(gl, textureUnit) {\n    var maxTextureUnit = gl.MAX_COMBINED_TEXTURE_IMAGE_UNITS - 1;\n    var glTextureUnit = textureUnit + gl.TEXTURE0;\n    if (glTextureUnit < gl.TEXTURE0 || glTextureUnit > maxTextureUnit) {\n        var textureUnitRange = \"[gl.TEXTURE0, gl.TEXTURE\" + maxTextureUnit + \"]\";\n        throw new Error(\"textureUnit must be in \" + textureUnitRange + \".\");\n    }\n}\nexport function getTextureShapeFromLogicalShape(gl, logShape) {\n    if (logShape.length !== 2) {\n        var squeezeResult = util.squeezeShape(logShape);\n        logShape = squeezeResult.newShape;\n    }\n    var maxTexSize = queryMaxTextureSize(gl);\n    var size = util.sizeFromShape(logShape);\n    if (logShape.length <= 1 && size <= maxTexSize) {\n        return [size, 1];\n    }\n    else if (logShape.length === 2 && logShape[0] <= maxTexSize &&\n        logShape[1] <= maxTexSize) {\n        return logShape;\n    }\n    else if (logShape.length === 3 && logShape[0] <= maxTexSize &&\n        logShape[1] * logShape[2] <= maxTexSize) {\n        return [logShape[0], logShape[1] * logShape[2]];\n    }\n    else if (logShape.length === 4 && logShape[0] <= maxTexSize &&\n        logShape[1] * logShape[2] * logShape[3] <= maxTexSize) {\n        return [logShape[0], logShape[1] * logShape[2] * logShape[3]];\n    }\n    else {\n        return util.sizeToSquarishShape(size);\n    }\n}\n//# sourceMappingURL=webgl_util.js.map","var __awaiter = (this && this.__awaiter) || function (thisArg, _arguments, P, generator) {\n    return new (P || (P = Promise))(function (resolve, reject) {\n        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\n        function rejected(value) { try { step(generator[\"throw\"](value)); } catch (e) { reject(e); } }\n        function step(result) { result.done ? resolve(result.value) : new P(function (resolve) { resolve(result.value); }).then(fulfilled, rejected); }\n        step((generator = generator.apply(thisArg, _arguments || [])).next());\n    });\n};\nvar __generator = (this && this.__generator) || function (thisArg, body) {\n    var _ = { label: 0, sent: function() { if (t[0] & 1) throw t[1]; return t[1]; }, trys: [], ops: [] }, f, y, t, g;\n    return g = { next: verb(0), \"throw\": verb(1), \"return\": verb(2) }, typeof Symbol === \"function\" && (g[Symbol.iterator] = function() { return this; }), g;\n    function verb(n) { return function (v) { return step([n, v]); }; }\n    function step(op) {\n        if (f) throw new TypeError(\"Generator is already executing.\");\n        while (_) try {\n            if (f = 1, y && (t = y[op[0] & 2 ? \"return\" : op[0] ? \"throw\" : \"next\"]) && !(t = t.call(y, op[1])).done) return t;\n            if (y = 0, t) op = [0, t.value];\n            switch (op[0]) {\n                case 0: case 1: t = op; break;\n                case 4: _.label++; return { value: op[1], done: false };\n                case 5: _.label++; y = op[1]; op = [0]; continue;\n                case 7: op = _.ops.pop(); _.trys.pop(); continue;\n                default:\n                    if (!(t = _.trys, t = t.length > 0 && t[t.length - 1]) && (op[0] === 6 || op[0] === 2)) { _ = 0; continue; }\n                    if (op[0] === 3 && (!t || (op[1] > t[0] && op[1] < t[3]))) { _.label = op[1]; break; }\n                    if (op[0] === 6 && _.label < t[1]) { _.label = t[1]; t = op; break; }\n                    if (t && _.label < t[2]) { _.label = t[2]; _.ops.push(op); break; }\n                    if (t[2]) _.ops.pop();\n                    _.trys.pop(); continue;\n            }\n            op = body.call(thisArg, _);\n        } catch (e) { op = [6, e]; y = 0; } finally { f = t = 0; }\n        if (op[0] & 5) throw op[1]; return { value: op[0] ? op[1] : void 0, done: true };\n    }\n};\nimport { ENV } from '../../environment';\nimport * as tex_util from './tex_util';\nimport * as webgl_util from './webgl_util';\nexport function getWebGLContextAttributes() {\n    return {\n        alpha: false,\n        antialias: false,\n        premultipliedAlpha: false,\n        preserveDrawingBuffer: false,\n        depth: false,\n        stencil: false,\n        failIfMajorPerformanceCaveat: true\n    };\n}\nexport function createWebGLContext(canvas) {\n    var attributes = getWebGLContextAttributes();\n    var gl;\n    if (canvas != null) {\n        gl = webgl_util.createWebGLRenderingContextFromCanvas(canvas, attributes);\n    }\n    else {\n        gl = webgl_util.createWebGLRenderingContext(attributes);\n    }\n    webgl_util.callAndCheck(gl, function () { return gl.disable(gl.DEPTH_TEST); });\n    webgl_util.callAndCheck(gl, function () { return gl.disable(gl.STENCIL_TEST); });\n    webgl_util.callAndCheck(gl, function () { return gl.disable(gl.BLEND); });\n    webgl_util.callAndCheck(gl, function () { return gl.disable(gl.DITHER); });\n    webgl_util.callAndCheck(gl, function () { return gl.disable(gl.POLYGON_OFFSET_FILL); });\n    webgl_util.callAndCheck(gl, function () { return gl.disable(gl.SAMPLE_COVERAGE); });\n    webgl_util.callAndCheck(gl, function () { return gl.enable(gl.SCISSOR_TEST); });\n    webgl_util.callAndCheck(gl, function () { return gl.enable(gl.CULL_FACE); });\n    webgl_util.callAndCheck(gl, function () { return gl.cullFace(gl.BACK); });\n    return gl;\n}\nexport function createVertexShader(gl) {\n    var vertexShaderSource = \"\\n    precision highp float;\\n    attribute vec3 clipSpacePos;\\n    attribute vec2 uv;\\n    varying vec2 resultUV;\\n\\n    void main() {\\n      gl_Position = vec4(clipSpacePos, 1);\\n      resultUV = uv;\\n    }\";\n    return webgl_util.createVertexShader(gl, vertexShaderSource);\n}\nexport function createVertexBuffer(gl) {\n    var vertexArray = new Float32Array([-1, 1, 0, 0, 1, -1, -1, 0, 0, 0, 1, 1, 0, 1, 1, 1, -1, 0, 1, 0]);\n    return webgl_util.createStaticVertexBuffer(gl, vertexArray);\n}\nexport function createIndexBuffer(gl) {\n    var triangleVertexIndices = new Uint16Array([0, 1, 2, 2, 1, 3]);\n    return webgl_util.createStaticIndexBuffer(gl, triangleVertexIndices);\n}\nfunction getTextureInternalFormat(gl, numChannels) {\n    if (!ENV.get('WEBGL_FLOAT_TEXTURE_ENABLED')) {\n        return gl.RGBA;\n    }\n    if (ENV.get('WEBGL_VERSION') === 2) {\n        if (numChannels === 4) {\n            return gl.RGBA32F;\n        }\n        return gl.R32F;\n    }\n    return gl.RGBA;\n}\nfunction getTextureFormat(gl, numChannels) {\n    if (!ENV.get('WEBGL_FLOAT_TEXTURE_ENABLED')) {\n        return gl.RGBA;\n    }\n    if (ENV.get('WEBGL_VERSION') === 2) {\n        if (numChannels === 4) {\n            return gl.RGBA;\n        }\n        return gl.RED;\n    }\n    return gl.RGBA;\n}\nfunction getTextureType(gl) {\n    if (!ENV.get('WEBGL_FLOAT_TEXTURE_ENABLED')) {\n        return gl.UNSIGNED_BYTE;\n    }\n    return gl.FLOAT;\n}\nfunction createAndConfigureTexture(gl, width, height, numChannels) {\n    webgl_util.validateTextureSize(gl, width, height);\n    var texture = webgl_util.createTexture(gl);\n    var tex2d = gl.TEXTURE_2D;\n    var internalFormat = getTextureInternalFormat(gl, numChannels);\n    var format = getTextureFormat(gl, numChannels);\n    webgl_util.callAndCheck(gl, function () { return gl.bindTexture(tex2d, texture); });\n    webgl_util.callAndCheck(gl, function () { return gl.texParameteri(tex2d, gl.TEXTURE_WRAP_S, gl.CLAMP_TO_EDGE); });\n    webgl_util.callAndCheck(gl, function () { return gl.texParameteri(tex2d, gl.TEXTURE_WRAP_T, gl.CLAMP_TO_EDGE); });\n    webgl_util.callAndCheck(gl, function () { return gl.texParameteri(tex2d, gl.TEXTURE_MIN_FILTER, gl.NEAREST); });\n    webgl_util.callAndCheck(gl, function () { return gl.texParameteri(tex2d, gl.TEXTURE_MAG_FILTER, gl.NEAREST); });\n    webgl_util.callAndCheck(gl, function () { return gl.texImage2D(tex2d, 0, internalFormat, width, height, 0, format, getTextureType(gl), null); });\n    webgl_util.callAndCheck(gl, function () { return gl.bindTexture(gl.TEXTURE_2D, null); });\n    return texture;\n}\nexport function createMatrixTexture(gl, rows, columns) {\n    var _a = tex_util.getUnpackedMatrixTextureShapeWidthHeight(rows, columns), width = _a[0], height = _a[1];\n    var numChannels = 1;\n    return createAndConfigureTexture(gl, width, height, numChannels);\n}\nexport function createColorMatrixTexture(gl, rows, columns) {\n    var _a = tex_util.getColorMatrixTextureShapeWidthHeight(rows, columns), width = _a[0], height = _a[1];\n    var numChannels = 4;\n    return createAndConfigureTexture(gl, width, height, numChannels);\n}\nexport function createPackedMatrixTexture(gl, rows, columns) {\n    var _a = tex_util.getPackedMatrixTextureShapeWidthHeight(rows, columns), width = _a[0], height = _a[1];\n    var numChannels = 4;\n    return createAndConfigureTexture(gl, width, height, numChannels);\n}\nexport function bindVertexProgramAttributeStreams(gl, program, vertexBuffer) {\n    var posOffset = 0;\n    var uvOffset = 3 * 4;\n    var stride = (3 * 4) + (2 * 4);\n    webgl_util.callAndCheck(gl, function () { return gl.bindBuffer(gl.ARRAY_BUFFER, vertexBuffer); });\n    var success = webgl_util.bindVertexBufferToProgramAttribute(gl, program, 'clipSpacePos', vertexBuffer, 3, stride, posOffset);\n    return success &&\n        webgl_util.bindVertexBufferToProgramAttribute(gl, program, 'uv', vertexBuffer, 2, stride, uvOffset);\n}\nexport function uploadPixelDataToTexture(gl, texture, pixels) {\n    webgl_util.callAndCheck(gl, function () { return gl.bindTexture(gl.TEXTURE_2D, texture); });\n    webgl_util.callAndCheck(gl, function () { return gl.texImage2D(gl.TEXTURE_2D, 0, gl.RGBA, gl.RGBA, gl.UNSIGNED_BYTE, pixels); });\n    webgl_util.callAndCheck(gl, function () { return gl.bindTexture(gl.TEXTURE_2D, null); });\n}\nfunction uploadDataToTexture(gl, texture, width, height, data, numChannels) {\n    var textureFormat = getTextureFormat(gl, numChannels);\n    webgl_util.validateTextureSize(gl, width, height);\n    webgl_util.callAndCheck(gl, function () { return gl.bindTexture(gl.TEXTURE_2D, texture); });\n    webgl_util.callAndCheck(gl, function () { return gl.texSubImage2D(gl.TEXTURE_2D, 0, 0, 0, width, height, textureFormat, getTextureType(gl), data); });\n    webgl_util.callAndCheck(gl, function () { return gl.bindTexture(gl.TEXTURE_2D, null); });\n}\nexport function uploadMatrixToTexture(gl, texture, rows, columns, matrix, numChannels) {\n    var _a = tex_util.getUnpackedMatrixTextureShapeWidthHeight(rows, columns), w = _a[0], h = _a[1];\n    var unpackedArray;\n    if (ENV.get('WEBGL_FLOAT_TEXTURE_ENABLED')) {\n        var channelsPerTexture = numChannels === 1 ? webgl_util.getChannelsPerTexture() : numChannels;\n        if (channelsPerTexture === 1) {\n            unpackedArray = matrix;\n        }\n        else {\n            unpackedArray =\n                new Float32Array(tex_util.getUnpackedArraySizeFromMatrixSize(matrix.length, channelsPerTexture));\n            tex_util.encodeMatrixToUnpackedArray(matrix, unpackedArray, channelsPerTexture);\n        }\n    }\n    else {\n        unpackedArray = tex_util.encodeFloatArray(matrix);\n    }\n    uploadDataToTexture(gl, texture, w, h, unpackedArray, numChannels);\n}\nexport function uploadMatrixToPackedTexture(gl, texture, rows, columns, matrix) {\n    var _a = tex_util.getPackedMatrixTextureShapeWidthHeight(rows, columns), w = _a[0], h = _a[1];\n    var packedRGBA = new Float32Array(tex_util.getPackedRGBAArraySizeFromMatrixShape(rows, columns));\n    tex_util.encodeMatrixToPackedRGBA(matrix, rows, columns, packedRGBA);\n    var numChannels = 4;\n    uploadDataToTexture(gl, texture, w, h, packedRGBA, numChannels);\n}\nfunction getDownloadTargetArrayBuffer(rows, columns, channelsPerTexture) {\n    var isFloatTexture = ENV.get('WEBGL_FLOAT_TEXTURE_ENABLED');\n    var downloadTarget;\n    if (isFloatTexture) {\n        downloadTarget =\n            new Float32Array(tex_util.getUnpackedArraySizeFromMatrixSize(rows * columns, channelsPerTexture));\n    }\n    else {\n        downloadTarget = new Uint8Array(rows * columns * channelsPerTexture);\n    }\n    return downloadTarget;\n}\nfunction decodeDownloadTargetArrayBuffer(downloadTarget, rows, columns, channelsPerPixel) {\n    var isFloatTexture = ENV.get('WEBGL_FLOAT_TEXTURE_ENABLED');\n    if (isFloatTexture) {\n        var matrix = new Float32Array(rows * columns);\n        tex_util.decodeMatrixFromUnpackedArray(downloadTarget, matrix, channelsPerPixel);\n        return matrix;\n    }\n    else {\n        return tex_util.decodeToFloatArray(downloadTarget);\n    }\n}\nexport function downloadMatrixFromOutputTextureAsync(gl, getBufferSubDataAsyncExtension, rows, columns) {\n    return __awaiter(this, void 0, void 0, function () {\n        var gl2, channelsPerPixel, downloadTarget, bufferSizeBytes, buffer;\n        return __generator(this, function (_a) {\n            switch (_a.label) {\n                case 0:\n                    gl2 = gl;\n                    channelsPerPixel = 4;\n                    downloadTarget = getDownloadTargetArrayBuffer(rows, columns, channelsPerPixel);\n                    bufferSizeBytes = downloadTarget instanceof Float32Array ?\n                        downloadTarget.length * 4 :\n                        downloadTarget;\n                    buffer = gl.createBuffer();\n                    webgl_util.callAndCheck(gl, function () { return gl.bindBuffer(gl2.PIXEL_PACK_BUFFER, buffer); });\n                    webgl_util.callAndCheck(gl, function () { return gl.bufferData(gl2.PIXEL_PACK_BUFFER, bufferSizeBytes, gl.STATIC_DRAW); });\n                    webgl_util.callAndCheck(gl, function () {\n                        return gl2.readPixels(0, 0, columns, rows, gl.RGBA, getTextureType(gl), 0);\n                    });\n                    return [4, getBufferSubDataAsyncExtension.getBufferSubDataAsync(gl2.PIXEL_PACK_BUFFER, 0, downloadTarget)];\n                case 1:\n                    _a.sent();\n                    return [2, decodeDownloadTargetArrayBuffer(downloadTarget, rows, columns, channelsPerPixel)];\n            }\n        });\n    });\n}\nexport function downloadMatrixFromOutputTexture(gl, rows, columns) {\n    var _a = tex_util.getUnpackedMatrixTextureShapeWidthHeight(rows, columns), w = _a[0], h = _a[1];\n    var channelsPerPixel = 4;\n    var downloadTarget = getDownloadTargetArrayBuffer(rows, columns, channelsPerPixel);\n    webgl_util.callAndCheck(gl, function () { return gl.readPixels(0, 0, w, h, gl.RGBA, getTextureType(gl), downloadTarget); });\n    return decodeDownloadTargetArrayBuffer(downloadTarget, rows, columns, channelsPerPixel);\n}\nexport function downloadMatrixFromRGBAColorTexture(gl, rows, columns, channels) {\n    var size = rows * columns * 4;\n    var downloadTarget = new Uint8Array(size);\n    webgl_util.callAndCheck(gl, function () { return gl.readPixels(0, 0, columns, rows, gl.RGBA, gl.UNSIGNED_BYTE, downloadTarget); });\n    var packedRGBA = new Float32Array(size);\n    for (var i = 0; i < downloadTarget.length; i++) {\n        packedRGBA[i] = downloadTarget[i];\n    }\n    var matrix = new Float32Array(rows * columns * channels);\n    tex_util.decodeMatrixFromUnpackedColorRGBAArray(packedRGBA, matrix, channels);\n    return matrix;\n}\nexport function downloadMatrixFromPackedOutputTexture(gl, rows, columns) {\n    var _a = tex_util.getPackedMatrixTextureShapeWidthHeight(rows, columns), w = _a[0], h = _a[1];\n    var packedRGBA = new Float32Array(tex_util.getPackedRGBAArraySizeFromMatrixShape(rows, columns));\n    webgl_util.callAndCheck(gl, function () { return gl.readPixels(0, 0, w, h, gl.RGBA, getTextureType(gl), packedRGBA); });\n    var matrix = new Float32Array(rows * columns);\n    return tex_util.decodeMatrixFromPackedRGBA(packedRGBA, rows, columns, matrix);\n}\n//# sourceMappingURL=gpgpu_util.js.map","var __awaiter = (this && this.__awaiter) || function (thisArg, _arguments, P, generator) {\n    return new (P || (P = Promise))(function (resolve, reject) {\n        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\n        function rejected(value) { try { step(generator[\"throw\"](value)); } catch (e) { reject(e); } }\n        function step(result) { result.done ? resolve(result.value) : new P(function (resolve) { resolve(result.value); }).then(fulfilled, rejected); }\n        step((generator = generator.apply(thisArg, _arguments || [])).next());\n    });\n};\nvar __generator = (this && this.__generator) || function (thisArg, body) {\n    var _ = { label: 0, sent: function() { if (t[0] & 1) throw t[1]; return t[1]; }, trys: [], ops: [] }, f, y, t, g;\n    return g = { next: verb(0), \"throw\": verb(1), \"return\": verb(2) }, typeof Symbol === \"function\" && (g[Symbol.iterator] = function() { return this; }), g;\n    function verb(n) { return function (v) { return step([n, v]); }; }\n    function step(op) {\n        if (f) throw new TypeError(\"Generator is already executing.\");\n        while (_) try {\n            if (f = 1, y && (t = y[op[0] & 2 ? \"return\" : op[0] ? \"throw\" : \"next\"]) && !(t = t.call(y, op[1])).done) return t;\n            if (y = 0, t) op = [0, t.value];\n            switch (op[0]) {\n                case 0: case 1: t = op; break;\n                case 4: _.label++; return { value: op[1], done: false };\n                case 5: _.label++; y = op[1]; op = [0]; continue;\n                case 7: op = _.ops.pop(); _.trys.pop(); continue;\n                default:\n                    if (!(t = _.trys, t = t.length > 0 && t[t.length - 1]) && (op[0] === 6 || op[0] === 2)) { _ = 0; continue; }\n                    if (op[0] === 3 && (!t || (op[1] > t[0] && op[1] < t[3]))) { _.label = op[1]; break; }\n                    if (op[0] === 6 && _.label < t[1]) { _.label = t[1]; t = op; break; }\n                    if (t && _.label < t[2]) { _.label = t[2]; _.ops.push(op); break; }\n                    if (t[2]) _.ops.pop();\n                    _.trys.pop(); continue;\n            }\n            op = body.call(thisArg, _);\n        } catch (e) { op = [6, e]; y = 0; } finally { f = t = 0; }\n        if (op[0] & 5) throw op[1]; return { value: op[0] ? op[1] : void 0, done: true };\n    }\n};\nimport { ENV } from '../../environment';\nimport * as util from '../../util';\nimport * as gpgpu_util from './gpgpu_util';\nimport * as tex_util from './tex_util';\nimport * as webgl_util from './webgl_util';\nvar GPGPUContext = (function () {\n    function GPGPUContext(gl) {\n        this.outputTexture = null;\n        this.program = null;\n        this.disposed = false;\n        this.autoDebugValidate = false;\n        this.vertexAttrsAreBound = false;\n        if (gl != null) {\n            this.gl = gl;\n        }\n        else {\n            this.gl = gpgpu_util.createWebGLContext();\n        }\n        if (ENV.get('WEBGL_VERSION') === 1) {\n            this.textureFloatExtension =\n                webgl_util.getExtensionOrThrow(this.gl, 'OES_texture_float');\n            this.colorBufferFloatExtension =\n                this.gl.getExtension('WEBGL_color_buffer_float');\n        }\n        else {\n            this.colorBufferFloatExtension =\n                webgl_util.getExtensionOrThrow(this.gl, 'EXT_color_buffer_float');\n        }\n        this.loseContextExtension =\n            webgl_util.getExtensionOrThrow(this.gl, 'WEBGL_lose_context');\n        if (ENV.get('WEBGL_GET_BUFFER_SUB_DATA_ASYNC_EXTENSION_ENABLED')) {\n            this.getBufferSubDataAsyncExtension =\n                this.gl.getExtension('WEBGL_get_buffer_sub_data_async');\n        }\n        this.vertexBuffer = gpgpu_util.createVertexBuffer(this.gl);\n        this.indexBuffer = gpgpu_util.createIndexBuffer(this.gl);\n        this.framebuffer = webgl_util.createFramebuffer(this.gl);\n    }\n    GPGPUContext.prototype.dispose = function () {\n        var _this = this;\n        if (this.disposed) {\n            return;\n        }\n        if (this.program != null) {\n            console.warn('Disposing a GPGPUContext that still has a bound WebGLProgram.' +\n                ' This is probably a resource leak, delete the program with ' +\n                'GPGPUContext.deleteProgram before disposing.');\n        }\n        if (this.outputTexture != null) {\n            console.warn('Disposing a GPGPUContext that still has a bound output matrix ' +\n                'texture.  This is probably a resource leak, delete the output ' +\n                'matrix texture with GPGPUContext.deleteMatrixTexture before ' +\n                'disposing.');\n        }\n        var gl = this.gl;\n        webgl_util.callAndCheck(gl, function () { return gl.finish(); });\n        webgl_util.callAndCheck(gl, function () { return gl.bindFramebuffer(gl.FRAMEBUFFER, null); });\n        webgl_util.callAndCheck(gl, function () { return gl.deleteFramebuffer(_this.framebuffer); });\n        webgl_util.callAndCheck(gl, function () { return gl.bindBuffer(gl.ARRAY_BUFFER, null); });\n        webgl_util.callAndCheck(gl, function () { return gl.deleteBuffer(_this.vertexBuffer); });\n        webgl_util.callAndCheck(gl, function () { return gl.bindBuffer(gl.ELEMENT_ARRAY_BUFFER, null); });\n        webgl_util.callAndCheck(gl, function () { return gl.deleteBuffer(_this.indexBuffer); });\n        this.loseContextExtension.loseContext();\n        this.disposed = true;\n    };\n    GPGPUContext.prototype.enableAutomaticDebugValidation = function (enabled) {\n        this.autoDebugValidate = enabled;\n        webgl_util.enableDebugWebGLErrorChecking(enabled);\n    };\n    GPGPUContext.prototype.createMatrixTexture = function (rows, columns) {\n        this.throwIfDisposed();\n        return gpgpu_util.createMatrixTexture(this.gl, rows, columns);\n    };\n    GPGPUContext.prototype.uploadPixelDataToTexture = function (texture, pixels) {\n        this.throwIfDisposed();\n        gpgpu_util.uploadPixelDataToTexture(this.gl, texture, pixels);\n    };\n    GPGPUContext.prototype.createPackedMatrixTexture = function (rows, columns) {\n        this.throwIfDisposed();\n        return gpgpu_util.createPackedMatrixTexture(this.gl, rows, columns);\n    };\n    GPGPUContext.prototype.deleteMatrixTexture = function (texture) {\n        var _this = this;\n        this.throwIfDisposed();\n        if (this.outputTexture === texture) {\n            webgl_util.unbindColorTextureFromFramebuffer(this.gl, this.framebuffer);\n            this.outputTexture = null;\n        }\n        webgl_util.callAndCheck(this.gl, function () { return _this.gl.deleteTexture(texture); });\n    };\n    GPGPUContext.prototype.uploadMatrixToTexture = function (texture, rows, columns, matrix) {\n        this.throwIfDisposed();\n        var numChannels = 1;\n        return gpgpu_util.uploadMatrixToTexture(this.gl, texture, rows, columns, matrix, numChannels);\n    };\n    GPGPUContext.prototype.uploadMatrixToPackedTexture = function (texture, rows, columns, matrix) {\n        this.throwIfDisposed();\n        return gpgpu_util.uploadMatrixToPackedTexture(this.gl, texture, rows, columns, matrix);\n    };\n    GPGPUContext.prototype.downloadMatrixFromTexture = function (texture, rows, columns) {\n        var _this = this;\n        return this.downloadMatrixDriver(texture, function () {\n            return gpgpu_util.downloadMatrixFromOutputTexture(_this.gl, rows, columns);\n        });\n    };\n    GPGPUContext.prototype.downloadMatrixFromTextureAsync = function (texture, rows, columns) {\n        return __awaiter(this, void 0, void 0, function () {\n            var _this = this;\n            return __generator(this, function (_a) {\n                if (this.getBufferSubDataAsyncExtension == null) {\n                    throw new Error(\"Cannot download matrix from output texture asynchronously, \" +\n                        \"WEBGL_get_buffer_sub_data_async is not enabled.\");\n                }\n                return [2, this.downloadMatrixDriverAsync(texture, function () { return gpgpu_util.downloadMatrixFromOutputTextureAsync(_this.gl, _this.getBufferSubDataAsyncExtension, rows, columns); })];\n            });\n        });\n    };\n    GPGPUContext.prototype.downloadMatrixFromRGBAColorTexture = function (texture, rows, columns, channels) {\n        var _this = this;\n        return this.downloadMatrixDriver(texture, function () { return gpgpu_util.downloadMatrixFromRGBAColorTexture(_this.gl, rows, columns, channels); });\n    };\n    GPGPUContext.prototype.downloadMatrixFromPackedTexture = function (texture, rows, columns) {\n        var _this = this;\n        return this.downloadMatrixDriver(texture, function () { return gpgpu_util.downloadMatrixFromPackedOutputTexture(_this.gl, rows, columns); });\n    };\n    GPGPUContext.prototype.createProgram = function (fragmentShaderSource) {\n        this.throwIfDisposed();\n        var gl = this.gl;\n        var fragmentShader = webgl_util.createFragmentShader(gl, fragmentShaderSource);\n        var vertexShader = gpgpu_util.createVertexShader(gl);\n        var program = webgl_util.createProgram(gl);\n        webgl_util.callAndCheck(gl, function () { return gl.attachShader(program, vertexShader); });\n        webgl_util.callAndCheck(gl, function () { return gl.attachShader(program, fragmentShader); });\n        webgl_util.linkProgram(gl, program);\n        if (this.autoDebugValidate) {\n            webgl_util.validateProgram(gl, program);\n        }\n        if (!this.vertexAttrsAreBound) {\n            this.setProgram(program);\n            this.vertexAttrsAreBound = gpgpu_util.bindVertexProgramAttributeStreams(gl, this.program, this.vertexBuffer);\n        }\n        return program;\n    };\n    GPGPUContext.prototype.deleteProgram = function (program) {\n        var _this = this;\n        this.throwIfDisposed();\n        if (program === this.program) {\n            this.program = null;\n        }\n        if (program != null) {\n            webgl_util.callAndCheck(this.gl, function () { return _this.gl.deleteProgram(program); });\n        }\n    };\n    GPGPUContext.prototype.setProgram = function (program) {\n        var _this = this;\n        this.throwIfDisposed();\n        this.program = program;\n        if ((this.program != null) && this.autoDebugValidate) {\n            webgl_util.validateProgram(this.gl, this.program);\n        }\n        webgl_util.callAndCheck(this.gl, function () { return _this.gl.useProgram(program); });\n    };\n    GPGPUContext.prototype.getUniformLocation = function (program, uniformName, shouldThrow) {\n        if (shouldThrow === void 0) { shouldThrow = true; }\n        this.throwIfDisposed();\n        if (shouldThrow) {\n            return webgl_util.getProgramUniformLocationOrThrow(this.gl, program, uniformName);\n        }\n        else {\n            return webgl_util.getProgramUniformLocation(this.gl, program, uniformName);\n        }\n    };\n    GPGPUContext.prototype.getAttributeLocation = function (program, attribute) {\n        var _this = this;\n        this.throwIfDisposed();\n        return webgl_util.callAndCheck(this.gl, function () { return _this.gl.getAttribLocation(program, attribute); });\n    };\n    GPGPUContext.prototype.getUniformLocationNoThrow = function (program, uniformName) {\n        this.throwIfDisposed();\n        return this.gl.getUniformLocation(program, uniformName);\n    };\n    GPGPUContext.prototype.setInputMatrixTexture = function (inputMatrixTexture, uniformLocation, textureUnit) {\n        this.throwIfDisposed();\n        this.throwIfNoProgram();\n        webgl_util.bindTextureToProgramUniformSampler(this.gl, this.program, inputMatrixTexture, uniformLocation, textureUnit);\n    };\n    GPGPUContext.prototype.setOutputMatrixTexture = function (outputMatrixTexture, rows, columns) {\n        this.setOutputMatrixTextureDriver(outputMatrixTexture, columns, rows);\n    };\n    GPGPUContext.prototype.setOutputPackedMatrixTexture = function (outputPackedMatrixTexture, rows, columns) {\n        this.throwIfDisposed();\n        var _a = tex_util.getPackedMatrixTextureShapeWidthHeight(rows, columns), width = _a[0], height = _a[1];\n        this.setOutputMatrixTextureDriver(outputPackedMatrixTexture, width, height);\n    };\n    GPGPUContext.prototype.setOutputMatrixWriteRegion = function (startRow, numRows, startColumn, numColumns) {\n        this.setOutputMatrixWriteRegionDriver(startColumn, startRow, numColumns, numRows);\n    };\n    GPGPUContext.prototype.setOutputPackedMatrixWriteRegion = function (startRow, numRows, startColumn, numColumns) {\n        throw new Error('setOutputPackedMatrixWriteRegion not implemented.');\n    };\n    GPGPUContext.prototype.debugValidate = function () {\n        if (this.program != null) {\n            webgl_util.validateProgram(this.gl, this.program);\n        }\n        webgl_util.validateFramebuffer(this.gl);\n    };\n    GPGPUContext.prototype.executeProgram = function () {\n        this.throwIfDisposed();\n        this.throwIfNoProgram();\n        var gl = this.gl;\n        if (this.autoDebugValidate) {\n            this.debugValidate();\n        }\n        webgl_util.callAndCheck(gl, function () { return gl.drawElements(gl.TRIANGLES, 6, gl.UNSIGNED_SHORT, 0); });\n    };\n    GPGPUContext.prototype.blockUntilAllProgramsCompleted = function () {\n        var _this = this;\n        this.throwIfDisposed();\n        webgl_util.callAndCheck(this.gl, function () { return _this.gl.finish(); });\n    };\n    GPGPUContext.prototype.getQueryTimerExtension = function () {\n        if (this.disjointQueryTimerExtension == null) {\n            this.disjointQueryTimerExtension =\n                webgl_util.getExtensionOrThrow(this.gl, ENV.get('WEBGL_DISJOINT_QUERY_TIMER_EXTENSION_VERSION') === 2 ?\n                    'EXT_disjoint_timer_query_webgl2' :\n                    'EXT_disjoint_timer_query');\n        }\n        return this.disjointQueryTimerExtension;\n    };\n    GPGPUContext.prototype.getQueryTimerExtensionWebGL2 = function () {\n        return this.getQueryTimerExtension();\n    };\n    GPGPUContext.prototype.getQueryTimerExtensionWebGL1 = function () {\n        return this.getQueryTimerExtension();\n    };\n    GPGPUContext.prototype.runQuery = function (queryFn) {\n        var query = this.beginQuery();\n        queryFn();\n        this.endQuery();\n        return this.pollQueryTime(query);\n    };\n    GPGPUContext.prototype.beginQuery = function () {\n        if (ENV.get('WEBGL_DISJOINT_QUERY_TIMER_EXTENSION_VERSION') === 2) {\n            var gl2 = this.gl;\n            var ext_1 = this.getQueryTimerExtensionWebGL2();\n            var query_1 = gl2.createQuery();\n            gl2.beginQuery(ext_1.TIME_ELAPSED_EXT, query_1);\n            return query_1;\n        }\n        var ext = this.getQueryTimerExtensionWebGL1();\n        var query = ext.createQueryEXT();\n        ext.beginQueryEXT(ext.TIME_ELAPSED_EXT, query);\n        return query;\n    };\n    GPGPUContext.prototype.endQuery = function () {\n        if (ENV.get('WEBGL_DISJOINT_QUERY_TIMER_EXTENSION_VERSION') === 2) {\n            var gl2 = this.gl;\n            var ext_2 = this.getQueryTimerExtensionWebGL2();\n            gl2.endQuery(ext_2.TIME_ELAPSED_EXT);\n            return;\n        }\n        var ext = this.getQueryTimerExtensionWebGL1();\n        ext.endQueryEXT(ext.TIME_ELAPSED_EXT);\n    };\n    GPGPUContext.prototype.isQueryAvailable = function (query, queryTimerVersion) {\n        if (queryTimerVersion === 0) {\n            return true;\n        }\n        if (queryTimerVersion === 2) {\n            var gl2 = this.gl;\n            var ext = this.getQueryTimerExtensionWebGL2();\n            var available = gl2.getQueryParameter(query, gl2.QUERY_RESULT_AVAILABLE);\n            var disjoint = this.gl.getParameter(ext.GPU_DISJOINT_EXT);\n            return available && !disjoint;\n        }\n        else {\n            var ext = this.getQueryTimerExtensionWebGL1();\n            var available = ext.getQueryObjectEXT(query, ext.QUERY_RESULT_AVAILABLE_EXT);\n            var disjoint = this.gl.getParameter(ext.GPU_DISJOINT_EXT);\n            return available && !disjoint;\n        }\n    };\n    GPGPUContext.prototype.pollQueryTime = function (query) {\n        var _this = this;\n        return new Promise(function (resolve, reject) {\n            var resolveWithWarning = function () {\n                console.warn('Disjoint query timer never available.');\n                resolve(-1);\n            };\n            var queryTimerVersion = ENV.get('WEBGL_DISJOINT_QUERY_TIMER_EXTENSION_VERSION');\n            util.repeatedTry(function () { return _this.isQueryAvailable(query, queryTimerVersion); })\n                .then(function () { return resolve(_this.getQueryTime(query, queryTimerVersion)); })\n                .catch(resolveWithWarning);\n        });\n    };\n    GPGPUContext.prototype.getQueryTime = function (query, queryTimerVersion) {\n        if (queryTimerVersion === 0) {\n            return null;\n        }\n        if (queryTimerVersion === 2) {\n            var gl2 = this.gl;\n            var timeElapsedNanos = gl2.getQueryParameter(query, gl2.QUERY_RESULT);\n            return timeElapsedNanos / 1000000;\n        }\n        else {\n            var ext = this.getQueryTimerExtensionWebGL1();\n            var timeElapsedNanos = ext.getQueryObjectEXT(query, ext.QUERY_RESULT_EXT);\n            return timeElapsedNanos / 1000000;\n        }\n    };\n    GPGPUContext.prototype.downloadMatrixDriverSetup = function (texture) {\n        this.throwIfDisposed();\n        webgl_util.bindColorTextureToFramebuffer(this.gl, texture, this.framebuffer);\n        if (this.autoDebugValidate) {\n            webgl_util.validateFramebuffer(this.gl);\n        }\n    };\n    GPGPUContext.prototype.downloadMatrixDriverTeardown = function () {\n        if (this.outputTexture != null) {\n            webgl_util.bindColorTextureToFramebuffer(this.gl, this.outputTexture, this.framebuffer);\n            if (this.autoDebugValidate) {\n                webgl_util.validateFramebuffer(this.gl);\n            }\n        }\n        else {\n            webgl_util.unbindColorTextureFromFramebuffer(this.gl, this.framebuffer);\n        }\n    };\n    GPGPUContext.prototype.downloadMatrixDriver = function (texture, downloadAndDecode) {\n        this.downloadMatrixDriverSetup(texture);\n        var result = downloadAndDecode();\n        this.downloadMatrixDriverTeardown();\n        return result;\n    };\n    GPGPUContext.prototype.downloadMatrixDriverAsync = function (texture, downloadAndDecode) {\n        return __awaiter(this, void 0, void 0, function () {\n            var result;\n            return __generator(this, function (_a) {\n                switch (_a.label) {\n                    case 0:\n                        this.downloadMatrixDriverSetup(texture);\n                        return [4, downloadAndDecode()];\n                    case 1:\n                        result = _a.sent();\n                        this.downloadMatrixDriverTeardown();\n                        return [2, result];\n                }\n            });\n        });\n    };\n    GPGPUContext.prototype.setOutputMatrixTextureDriver = function (outputMatrixTextureMaybePacked, width, height) {\n        this.throwIfDisposed();\n        var gl = this.gl;\n        webgl_util.bindColorTextureToFramebuffer(gl, outputMatrixTextureMaybePacked, this.framebuffer);\n        if (this.autoDebugValidate) {\n            webgl_util.validateFramebuffer(gl);\n        }\n        this.outputTexture = outputMatrixTextureMaybePacked;\n        webgl_util.callAndCheck(gl, function () { return gl.viewport(0, 0, width, height); });\n        webgl_util.callAndCheck(gl, function () { return gl.scissor(0, 0, width, height); });\n    };\n    GPGPUContext.prototype.setOutputMatrixWriteRegionDriver = function (x, y, width, height) {\n        var _this = this;\n        this.throwIfDisposed();\n        webgl_util.callAndCheck(this.gl, function () { return _this.gl.scissor(x, y, width, height); });\n    };\n    GPGPUContext.prototype.throwIfDisposed = function () {\n        if (this.disposed) {\n            throw new Error('Attempted to use disposed GPGPUContext.');\n        }\n    };\n    GPGPUContext.prototype.throwIfNoProgram = function () {\n        if (this.program == null) {\n            throw new Error('No GPU program is currently set.');\n        }\n    };\n    return GPGPUContext;\n}());\nexport { GPGPUContext };\n//# sourceMappingURL=gpgpu_context.js.map","import { ENV } from '../../environment';\nimport * as util from '../../util';\nimport * as shader_compiler from './shader_compiler';\nvar NAN_UNIFORM_NAME = 'NaN';\nfunction shouldUploadNaNUniform() {\n    return !ENV.get('WEBGL_FLOAT_TEXTURE_ENABLED');\n}\nexport function compileProgram(gpgpu, program, inputs, output) {\n    var userCode = program.userCode;\n    var inputInfos = inputs.map(function (input, i) {\n        var shapeInfo = {\n            logicalShape: input.tensor.shape,\n            texShape: input.texData.texShape\n        };\n        return { name: program.variableNames[i], shapeInfo: shapeInfo };\n    });\n    var inShapeInfos = inputInfos.map(function (x) { return x.shapeInfo; });\n    var outShapeInfo = {\n        logicalShape: output.tensor.shape,\n        texShape: output.texData.texShape\n    };\n    var source = shader_compiler.makeShader(inputInfos, outShapeInfo, userCode, program.supportsBroadcasting === true);\n    var webGLProgram = gpgpu.createProgram(source);\n    var uniformLocations = {};\n    for (var i = 0; i < program.variableNames.length; i++) {\n        var uniformName = program.variableNames[i];\n        uniformLocations[uniformName] =\n            gpgpu.getUniformLocation(webGLProgram, uniformName);\n    }\n    if (shouldUploadNaNUniform()) {\n        var throwIfNaNUniformIsNotUsed = false;\n        uniformLocations[NAN_UNIFORM_NAME] = gpgpu.getUniformLocation(webGLProgram, NAN_UNIFORM_NAME, throwIfNaNUniformIsNotUsed);\n    }\n    return {\n        program: program,\n        source: source,\n        webGLProgram: webGLProgram,\n        uniformLocations: uniformLocations,\n        gpgpu: gpgpu,\n        inShapeInfos: inShapeInfos,\n        outShapeInfo: outShapeInfo\n    };\n}\nfunction validateBinaryAndProgram(shapeInfos, inputs) {\n    if (shapeInfos.length !== inputs.length) {\n        throw Error(\"Binary was compiled with \" + shapeInfos.length + \" inputs, but \" +\n            (\"was executed with \" + inputs.length + \" inputs\"));\n    }\n    shapeInfos.forEach(function (s, i) {\n        var shapeA = s.logicalShape;\n        var texShapeA = s.texShape;\n        var shapeB = inputs[i].tensor.shape;\n        var texShapeB = inputs[i].texData.texShape;\n        if (!util.arraysEqual(shapeA, shapeB)) {\n            throw Error(\"Binary was compiled with different shapes than \" +\n                (\"the current args. Shapes \" + shapeA + \" and \" + shapeB + \" must match\"));\n        }\n        if (!util.arraysEqual(texShapeA, texShapeB)) {\n            throw Error(\"Binary was compiled with different texture shapes than the\" +\n                (\" current args. Shape \" + texShapeA + \" and \" + texShapeB + \" must match\"));\n        }\n    });\n}\nexport function runProgram(binary, inputs, output, customSetup) {\n    validateBinaryAndProgram(binary.inShapeInfos, inputs);\n    validateBinaryAndProgram([binary.outShapeInfo], [output]);\n    var outTex = output.texData.texture;\n    var outTexShape = output.texData.texShape;\n    var gpgpu = binary.gpgpu;\n    gpgpu.setOutputMatrixTexture(outTex, outTexShape[0], outTexShape[1]);\n    gpgpu.setProgram(binary.webGLProgram);\n    inputs.forEach(function (input, i) {\n        var tex = input.texData.texture;\n        var variableName = binary.program.variableNames[i];\n        var variableUniformLocation = binary.uniformLocations[variableName];\n        gpgpu.setInputMatrixTexture(tex, variableUniformLocation, i);\n    });\n    if (shouldUploadNaNUniform()) {\n        gpgpu.gl.uniform1f(binary.uniformLocations[NAN_UNIFORM_NAME], NaN);\n    }\n    if (customSetup != null) {\n        customSetup(gpgpu, binary.webGLProgram);\n    }\n    gpgpu.executeProgram();\n}\nexport function makeShaderKey(program, inputs, output) {\n    var keyInputs = '';\n    inputs.concat(output).forEach(function (x) {\n        keyInputs += x.tensor.shape + \"_\" + x.texData.texShape;\n    });\n    var keyUserCode = program.userCode;\n    var keyBroadcast = (program.supportsBroadcasting === true).toString();\n    var key = program.constructor.name;\n    key += '_' + keyBroadcast + '_' + keyInputs + '_' + keyUserCode;\n    return key;\n}\n//# sourceMappingURL=gpgpu_math.js.map","import { getCoordsDataType } from './shader_compiler';\nvar WhereProgram = (function () {\n    function WhereProgram(cRank, shape, rank) {\n        this.variableNames = ['c', 'a', 'b'];\n        this.outputShape = shape;\n        var cCoords;\n        var abCoords;\n        if (rank > 4) {\n            throw Error(\"Where for rank \" + rank + \" is not yet supported\");\n        }\n        if (rank === 1) {\n            abCoords = \"resRC\";\n            cCoords = \"resRC\";\n        }\n        else {\n            var currentCoords = ['resRC.x', 'resRC.y', 'resRC.z', 'resRC.w'];\n            var cCoordVars = [];\n            var abCoordVars = [];\n            for (var i = 0; i < shape.length; i++) {\n                abCoordVars.push(\"\" + currentCoords[i]);\n                if (i < cRank) {\n                    cCoordVars.push(\"\" + currentCoords[i]);\n                }\n            }\n            cCoords = cCoordVars.join();\n            abCoords = abCoordVars.join();\n        }\n        var dtype = getCoordsDataType(rank);\n        this.userCode = \"\\n      void main() {\\n        \" + dtype + \" resRC = getOutputCoords();\\n        float cVal = getC(\" + cCoords + \");\\n        if (cVal >= 1.0) {\\n          setOutput(getA(\" + abCoords + \"));\\n        } else {\\n          setOutput(getB(\" + abCoords + \"));\\n        }\\n      }\\n    \";\n    }\n    return WhereProgram;\n}());\nexport { WhereProgram };\n//# sourceMappingURL=logical_gpu.js.map","var LRNProgram = (function () {\n    function LRNProgram(xShape, radius, bias, alpha, beta) {\n        this.variableNames = ['x'];\n        this.outputShape = [];\n        var rad = radius;\n        var maxD = xShape[3] - 1;\n        this.outputShape = xShape;\n        var powOperator;\n        var basis = \"float(\" + bias + \") + float(\" + alpha + \") * sum\";\n        if (beta === 0.5) {\n            powOperator = \"inversesqrt(\" + basis + \")\";\n        }\n        else if (beta === 1.0) {\n            powOperator = \"1.0/(\" + basis + \")\";\n        }\n        else {\n            powOperator = \"exp(log(\" + basis + \") * float(-\" + beta + \"));\";\n        }\n        this.userCode = \"\\n      void main() {\\n        ivec4 coords = getOutputCoords();\\n        int b = coords[0];\\n        int r = coords[1];\\n        int c = coords[2];\\n        int d = coords[3];\\n        float x = getX(b, r, c, d);\\n        float sum = 0.0;\\n        for (int j = -\" + rad + \"; j <= \" + rad + \"; j++) {\\n          int idx = d + j;\\n          if (idx >= 0 && idx <=  \" + maxD + \") {\\n            float z = getX(b, r, c, idx);\\n            sum += z * z;\\n          }\\n        }\\n        float val = x * \" + powOperator + \";\\n        setOutput(val);\\n      }\\n    \";\n    }\n    return LRNProgram;\n}());\nexport { LRNProgram };\n//# sourceMappingURL=lrn_gpu.js.map","var MaxPool2DBackpropProgram = (function () {\n    function MaxPool2DBackpropProgram(convInfo) {\n        this.variableNames = ['dy', 'maxPos'];\n        this.outputShape = convInfo.inShape;\n        var filterHeight = convInfo.filterHeight;\n        var filterWidth = convInfo.filterWidth;\n        var strideHeight = convInfo.strideHeight;\n        var strideWidth = convInfo.strideWidth;\n        var padTop = filterHeight - 1 - convInfo.padInfo.top;\n        var padLeft = filterWidth - 1 - convInfo.padInfo.left;\n        var lastIndex = filterHeight * filterWidth - 1;\n        this.userCode = \"\\n      const ivec2 pads = ivec2(\" + padTop + \", \" + padLeft + \");\\n\\n      void main() {\\n        ivec4 coords = getOutputCoords();\\n        int b = coords[0];\\n        int d = coords[3];\\n\\n        ivec2 dyRCCorner = coords.yz - pads;\\n        int dyRCorner = dyRCCorner.x;\\n        int dyCCorner = dyRCCorner.y;\\n\\n        // Convolve dy(?, ?, d) with pos mask(:, :, d) to get dx(xR, xC, d).\\n        // ? = to be determined. : = across all values in that axis.\\n        float dotProd = 0.0;\\n        for (int wR = 0; wR < \" + filterHeight + \"; wR++) {\\n          float dyR = float(dyRCorner + wR) / \" + strideHeight + \".0;\\n\\n          if (dyR < 0.0 || dyR >= \" + convInfo.outHeight + \".0 || fract(dyR) > 0.0) {\\n            continue;\\n          }\\n          int idyR = int(dyR);\\n\\n          for (int wC = 0; wC < \" + filterWidth + \"; wC++) {\\n            float dyC = float(dyCCorner + wC) / \" + strideWidth + \".0;\\n\\n            if (dyC < 0.0 || dyC >= \" + convInfo.outWidth + \".0 ||\\n                fract(dyC) > 0.0) {\\n              continue;\\n            }\\n            int idyC = int(dyC);\\n\\n            float dyValue = getDy(b, idyR, idyC, d);\\n            int maxPosValue = \" + lastIndex + \" - int(getMaxPos(b, idyR, idyC, d));\\n\\n            // Get the current value, check it against the value from the\\n            // position matrix.\\n            int curPosValue = wR * \" + filterWidth + \" + wC;\\n            float mask = float(maxPosValue == curPosValue ? 1.0 : 0.0);\\n\\n            dotProd += dyValue * mask;\\n          }\\n        }\\n        setOutput(dotProd);\\n      }\\n    \";\n    }\n    return MaxPool2DBackpropProgram;\n}());\nexport { MaxPool2DBackpropProgram };\n//# sourceMappingURL=max_pool_backprop_gpu.js.map","var MatMulProgram = (function () {\n    function MatMulProgram(aShape, bShape, transposeA, transposeB) {\n        if (transposeA === void 0) { transposeA = false; }\n        if (transposeB === void 0) { transposeB = false; }\n        this.variableNames = ['matrixA', 'matrixB'];\n        var outerShapeA = transposeA ? aShape[1] : aShape[0];\n        var outerShapeB = transposeB ? bShape[0] : bShape[1];\n        var sharedDim = transposeA ? aShape[0] : aShape[1];\n        this.outputShape = [outerShapeA, outerShapeB];\n        var aSnippetFromOffset = function (vec4Offset, indexVar) {\n            return transposeA ? indexVar + \" + \" + vec4Offset + \", aRow\" :\n                \"aRow, \" + indexVar + \" + \" + vec4Offset;\n        };\n        var bSnippetFromOffset = function (vec4Offset, indexVar) {\n            return transposeB ? \"bCol, \" + indexVar + \" + \" + vec4Offset :\n                indexVar + \" + \" + vec4Offset + \", bCol\";\n        };\n        var sharedDimNearestVec4 = Math.floor(sharedDim / 4) * 4;\n        var sharedDimVec4Remainder = sharedDim % 4;\n        this.userCode = \" float dotARowBCol(int aRow, int bCol) {\\n      float result = 0.0;\\n      for (int i = 0; i < \" + sharedDimNearestVec4 + \"; i += 4) {\\n        vec4 a = vec4(\\n          getMatrixA(\" + aSnippetFromOffset(0, 'i') + \"),\\n          getMatrixA(\" + aSnippetFromOffset(1, 'i') + \"),\\n          getMatrixA(\" + aSnippetFromOffset(2, 'i') + \"),\\n          getMatrixA(\" + aSnippetFromOffset(3, 'i') + \")\\n        );\\n        vec4 b = vec4(\\n          getMatrixB(\" + bSnippetFromOffset(0, 'i') + \"),\\n          getMatrixB(\" + bSnippetFromOffset(1, 'i') + \"),\\n          getMatrixB(\" + bSnippetFromOffset(2, 'i') + \"),\\n          getMatrixB(\" + bSnippetFromOffset(3, 'i') + \")\\n        );\\n\\n        result += dot(a, b);\\n      }\\n\\n      if (\" + (sharedDimVec4Remainder === 1) + \") {\\n        result += getMatrixA(\" + aSnippetFromOffset(0, sharedDimNearestVec4) + \") *\\n          getMatrixB(\" + bSnippetFromOffset(0, sharedDimNearestVec4) + \");\\n      } else if (\" + (sharedDimVec4Remainder === 2) + \") {\\n        vec2 a = vec2(\\n          getMatrixA(\" + aSnippetFromOffset(0, sharedDimNearestVec4) + \"),\\n          getMatrixA(\" + aSnippetFromOffset(1, sharedDimNearestVec4) + \")\\n        );\\n        vec2 b = vec2(\\n          getMatrixB(\" + bSnippetFromOffset(0, sharedDimNearestVec4) + \"),\\n          getMatrixB(\" + bSnippetFromOffset(1, sharedDimNearestVec4) + \")\\n        );\\n        result += dot(a, b);\\n      } else if (\" + (sharedDimVec4Remainder === 3) + \") {\\n        vec3 a = vec3(\\n          getMatrixA(\" + aSnippetFromOffset(0, sharedDimNearestVec4) + \"),\\n          getMatrixA(\" + aSnippetFromOffset(1, sharedDimNearestVec4) + \"),\\n          getMatrixA(\" + aSnippetFromOffset(2, sharedDimNearestVec4) + \")\\n        );\\n        vec3 b = vec3(\\n          getMatrixB(\" + bSnippetFromOffset(0, sharedDimNearestVec4) + \"),\\n          getMatrixB(\" + bSnippetFromOffset(1, sharedDimNearestVec4) + \"),\\n          getMatrixB(\" + bSnippetFromOffset(2, sharedDimNearestVec4) + \")\\n        );\\n        result += dot(a, b);\\n      }\\n\\n      return result;\\n    }\\n\\n    void main() {\\n      ivec2 resRC = getOutputCoords();\\n      setOutput(dotARowBCol(resRC.x, resRC.y));\\n    }\\n    \";\n    }\n    return MatMulProgram;\n}());\nexport { MatMulProgram };\n//# sourceMappingURL=mulmat_gpu.js.map","var MultinomialProgram = (function () {\n    function MultinomialProgram(batchSize, numOutcomes, numSamples) {\n        this.variableNames = ['probs'];\n        this.outputShape = [batchSize, numSamples];\n        this.userCode = \"\\n      uniform float seed;\\n\\n      void main() {\\n        ivec2 coords = getOutputCoords();\\n        int batch = coords[0];\\n\\n        float r = random(seed);\\n        float cdf = 0.0;\\n\\n        for (int i = 0; i < \" + (numOutcomes - 1) + \"; i++) {\\n          cdf += getProbs(batch, i);\\n\\n          if (r < cdf) {\\n            setOutput(float(i));\\n            return;\\n          }\\n        }\\n\\n        // If no other event happened, last event happened.\\n        setOutput(float(\" + (numOutcomes - 1) + \"));\\n      }\\n    \";\n    }\n    MultinomialProgram.prototype.getCustomSetupFunc = function (seed) {\n        var _this = this;\n        return function (gpgpu, webGLProgram) {\n            if (_this.seedLoc == null) {\n                _this.seedLoc = gpgpu.getUniformLocation(webGLProgram, 'seed');\n            }\n            gpgpu.gl.uniform1f(_this.seedLoc, seed);\n        };\n    };\n    return MultinomialProgram;\n}());\nexport { MultinomialProgram };\n//# sourceMappingURL=multinomial_gpu.js.map","var OneHotProgram = (function () {\n    function OneHotProgram(numIndices, depth, onValue, offValue) {\n        this.variableNames = ['indices'];\n        this.outputShape = [numIndices, depth];\n        this.userCode = \"\\n      void main() {\\n        ivec2 coords = getOutputCoords();\\n        int index = round(getIndices(coords.x));\\n        setOutput(mix(float(\" + offValue + \"), float(\" + onValue + \"),\\n                      float(index == coords.y)));\\n      }\\n    \";\n    }\n    return OneHotProgram;\n}());\nexport { OneHotProgram };\n//# sourceMappingURL=onehot_gpu.js.map","import { getCoordsDataType } from './shader_compiler';\nvar PadProgram = (function () {\n    function PadProgram(xShape, paddings, constantValue) {\n        this.variableNames = ['x'];\n        this.outputShape = paddings.map(function (p, i) { return p[0] + xShape[i] + p[1]; });\n        var rank = xShape.length;\n        var type = getCoordsDataType(rank);\n        var start = paddings.map(function (p) { return p[0]; }).join(',');\n        var end = paddings.map(function (p, i) { return p[0] + xShape[i]; }).join(',');\n        var unpackedCoords = ['coords[0]', 'coords[1]', 'coords[2]', 'coords[3]'].slice(0, rank);\n        if (rank === 1) {\n            this.userCode = \"\\n        int start = \" + start + \";\\n        int end = \" + end + \";\\n\\n        void main() {\\n          int outC = getOutputCoords();\\n          if (outC < start || outC >= end) {\\n            setOutput(float(\" + constantValue + \"));\\n          } else {\\n            setOutput(getX(outC - start));\\n          }\\n        }\\n      \";\n            return;\n        }\n        this.userCode = \"\\n      \" + type + \" start = \" + type + \"(\" + start + \");\\n      \" + type + \" end = \" + type + \"(\" + end + \");\\n\\n      void main() {\\n        \" + type + \" outC = getOutputCoords();\\n        if (any(lessThan(outC, start)) || any(greaterThanEqual(outC, end))) {\\n          setOutput(float(\" + constantValue + \"));\\n        } else {\\n          \" + type + \" coords = outC - start;\\n          setOutput(getX(\" + unpackedCoords + \"));\\n        }\\n      }\\n    \";\n    }\n    return PadProgram;\n}());\nexport { PadProgram };\n//# sourceMappingURL=pad_gpu.js.map","var Pool2DProgram = (function () {\n    function Pool2DProgram(convInfo, poolType, computePositions) {\n        this.variableNames = ['x'];\n        if (poolType === 'avg' && computePositions) {\n            throw new Error('Cannot compute positions for average pool.');\n        }\n        var filterHeight = convInfo.filterHeight;\n        var filterWidth = convInfo.filterWidth;\n        var strideHeight = convInfo.strideHeight;\n        var strideWidth = convInfo.strideWidth;\n        var padTop = convInfo.padInfo.top;\n        var padLeft = convInfo.padInfo.left;\n        this.outputShape = convInfo.outShape;\n        var isAvgPool = poolType === 'avg';\n        var initializationValue = '0.0';\n        if (!isAvgPool) {\n            initializationValue = '-1.0 / 0.0';\n        }\n        if (computePositions) {\n            var compareOp_1 = '>=';\n            this.userCode = \"\\n        const ivec2 strides = ivec2(\" + strideHeight + \", \" + strideWidth + \");\\n        const ivec2 pads = ivec2(\" + padTop + \", \" + padLeft + \");\\n\\n        void main() {\\n          ivec4 coords = getOutputCoords();\\n          int batch = coords[0];\\n          int d = coords[3];\\n\\n          ivec2 xRCCorner = coords.yz * strides - pads;\\n          int xRCorner = xRCCorner.x;\\n          int xCCorner = xRCCorner.y;\\n\\n          // max/min x(?, ?, d) to get y(yR, yC, d).\\n          // ? = to be determined\\n          float minMaxValue = 0.0;\\n          float minMaxValueFound = 0.0;\\n          int minMaxPosition = 0;\\n          float avgValue = 0.0;\\n\\n          for (int wR = 0; wR < \" + filterHeight + \"; wR++) {\\n            int xR = xRCorner + wR;\\n\\n            if (xR < 0 || xR >= \" + convInfo.inHeight + \") {\\n              continue;\\n            }\\n\\n            for (int wC = 0; wC < \" + filterWidth + \"; wC++) {\\n              int xC = xCCorner + wC;\\n\\n              if (xC < 0 || xC >= \" + convInfo.inWidth + \") {\\n                continue;\\n              }\\n\\n              float value = getX(batch, xR, xC, d);\\n\\n              // If a min / max value has already been found, use it. If not,\\n              // use the current value.\\n              float currMinMaxValue = mix(\\n                  value, minMaxValue, minMaxValueFound);\\n              if (value \" + compareOp_1 + \" currMinMaxValue) {\\n                minMaxValue = value;\\n                minMaxValueFound = 1.0;\\n                minMaxPosition = wR * \" + filterWidth + \" + wC;\\n              }\\n            }\\n          }\\n          setOutput(float(minMaxPosition));\\n        }\\n      \";\n            return;\n        }\n        var compareOp = 'max';\n        var returnValue = poolType + \"(\" + poolType + \"(\" + poolType + \"(\" +\n            'minMaxValue[0], minMaxValue[1]), minMaxValue[2]), minMaxValue[3])';\n        if (poolType === 'avg') {\n            returnValue = \"avgValue / count\";\n        }\n        var filterWidthNearestVec4 = Math.floor(filterWidth / 4) * 4;\n        var filterWidthVec4Remainder = filterWidth % 4;\n        var updateSnippet = \"\\n      if (\" + isAvgPool + \") {\\n        avgValue += dot(values, ones);\\n      } else {\\n        minMaxValue = \" + compareOp + \"(values, minMaxValue);\\n      }\\n    \";\n        this.userCode = \"\\n      const ivec2 strides = ivec2(\" + strideHeight + \", \" + strideWidth + \");\\n      const ivec2 pads = ivec2(\" + padTop + \", \" + padLeft + \");\\n      const float initializationValue = \" + initializationValue + \";\\n      const vec4 ones = vec4(1.0, 1.0, 1.0, 1.0);\\n\\n      float count = 0.0;\\n\\n      float getValue(int batch, int xR, int xC, int d) {\\n        if (xC < 0 || xC >= \" + convInfo.inWidth + \") {\\n          return initializationValue;\\n        }\\n        count += 1.0;\\n        return getX(batch, xR, xC, d);\\n      }\\n\\n      void main() {\\n        ivec4 coords = getOutputCoords();\\n        int batch = coords[0];\\n        int d = coords[3];\\n\\n        ivec2 xRCCorner = coords.yz * strides - pads;\\n        int xRCorner = xRCCorner.x;\\n        int xCCorner = xRCCorner.y;\\n\\n        // max/min x(?, ?, d) to get y(yR, yC, d).\\n        // ? = to be determined\\n        vec4 minMaxValue = vec4(\" + initializationValue + \");\\n        float avgValue = 0.0;\\n        count = 0.0;\\n\\n        for (int wR = 0; wR < \" + filterHeight + \"; wR++) {\\n          int xR = xRCorner + wR;\\n\\n          if (xR < 0 || xR >= \" + convInfo.inHeight + \") {\\n            continue;\\n          }\\n\\n          for (int wC = 0; wC < \" + filterWidthNearestVec4 + \"; wC += 4) {\\n            int xC = xCCorner + wC;\\n\\n            vec4 values = vec4(\\n              getValue(batch, xR, xC, d),\\n              getValue(batch, xR, xC + 1, d),\\n              getValue(batch, xR, xC + 2, d),\\n              getValue(batch, xR, xC + 3, d)\\n            );\\n\\n            \" + updateSnippet + \"\\n          }\\n\\n          int xC = xCCorner + \" + filterWidthNearestVec4 + \";\\n          if (\" + (filterWidthVec4Remainder === 1) + \") {\\n            vec4 values = vec4(\\n              getValue(batch, xR, xC, d),\\n              initializationValue,\\n              initializationValue,\\n              initializationValue\\n            );\\n\\n            \" + updateSnippet + \"\\n          } else if (\" + (filterWidthVec4Remainder === 2) + \") {\\n            vec4 values = vec4(\\n              getValue(batch, xR, xC, d),\\n              getValue(batch, xR, xC + 1, d),\\n              initializationValue,\\n              initializationValue\\n            );\\n\\n            \" + updateSnippet + \"\\n          } else if (\" + (filterWidthVec4Remainder === 3) + \") {\\n            vec4 values = vec4(\\n              getValue(batch, xR, xC, d),\\n              getValue(batch, xR, xC + 1, d),\\n              getValue(batch, xR, xC + 2, d),\\n              initializationValue\\n            );\\n\\n            \" + updateSnippet + \"\\n          }\\n        }\\n        setOutput(\" + returnValue + \");\\n      }\\n    \";\n    }\n    return Pool2DProgram;\n}());\nexport { Pool2DProgram };\n//# sourceMappingURL=pool_gpu.js.map","var ReduceProgram = (function () {\n    function ReduceProgram(reduceInfo, reduceType) {\n        this.variableNames = ['x'];\n        var windowSize = reduceInfo.windowSize;\n        var batchSize = reduceInfo.batchSize;\n        var inSize = reduceInfo.inSize;\n        var outSize = Math.ceil(inSize / windowSize);\n        this.outputShape = [batchSize, outSize];\n        var isReduceSum = reduceType === 'sum';\n        var initializationValue = '0.0';\n        if (!isReduceSum) {\n            if (reduceType === 'min') {\n                initializationValue = '1.0 / 0.0';\n            }\n            else {\n                initializationValue = '-1.0 / 0.0';\n            }\n        }\n        var compareOp = reduceType === 'min' ? 'min' : 'max';\n        var returnValue = reduceType + \"(\" + reduceType + \"(\" + reduceType + \"(\" +\n            'minMaxValue[0], minMaxValue[1]), minMaxValue[2]), minMaxValue[3])';\n        if (reduceType === 'sum') {\n            returnValue = \"sumValue\";\n        }\n        var windowSizeNearestVec4 = Math.floor(windowSize / 4) * 4;\n        var windowSizeVec4Remainder = windowSize % 4;\n        var updateSnippet = \"\\n      if (\" + isReduceSum + \") {\\n        sumValue += dot(values, ones);\\n      } else {\\n        minMaxValue = \" + compareOp + \"(values, minMaxValue);\\n      }\\n    \";\n        var checkOutOfBounds = '';\n        if (inSize % windowSize > 0) {\n            checkOutOfBounds = \"\\n        if (inIdx < 0 || inIdx >= \" + inSize + \") {\\n          return initializationValue;\\n        }\\n      \";\n        }\n        this.userCode = \"\\n      const float initializationValue = \" + initializationValue + \";\\n      const vec4 ones = vec4(1.0, 1.0, 1.0, 1.0);\\n\\n      float getValue(int batch, int inIdx) {\\n        \" + checkOutOfBounds + \"\\n        return getX(batch, inIdx);\\n      }\\n\\n      void main() {\\n        ivec2 coords = getOutputCoords();\\n        int batch = coords[0];\\n        int outIdx = coords[1];\\n        int inOffset = outIdx * \" + windowSize + \";\\n\\n        vec4 minMaxValue = vec4(\" + initializationValue + \");\\n        float sumValue = 0.0;\\n\\n        for (int i = 0; i < \" + windowSizeNearestVec4 + \"; i += 4) {\\n          int inIdx = inOffset + i;\\n          vec4 values = vec4(\\n            getValue(batch, inIdx),\\n            getValue(batch, inIdx + 1),\\n            getValue(batch, inIdx + 2),\\n            getValue(batch, inIdx + 3)\\n          );\\n\\n          \" + updateSnippet + \"\\n        }\\n\\n        int inIdx = inOffset + \" + windowSizeNearestVec4 + \";\\n        if (\" + (windowSizeVec4Remainder === 1) + \") {\\n          vec4 values = vec4(\\n            getValue(batch, inIdx),\\n            initializationValue,\\n            initializationValue,\\n            initializationValue\\n          );\\n          \" + updateSnippet + \"\\n        } else if (\" + (windowSizeVec4Remainder === 2) + \") {\\n          vec4 values = vec4(\\n            getValue(batch, inIdx),\\n            getValue(batch, inIdx + 1),\\n            initializationValue,\\n            initializationValue\\n          );\\n          \" + updateSnippet + \"\\n        } else if (\" + (windowSizeVec4Remainder === 3) + \") {\\n          vec4 values = vec4(\\n            getValue(batch, inIdx),\\n            getValue(batch, inIdx + 1),\\n            getValue(batch, inIdx + 2),\\n            initializationValue\\n          );\\n          \" + updateSnippet + \"\\n        }\\n        setOutput(\" + returnValue + \");\\n      }\\n    \";\n    }\n    return ReduceProgram;\n}());\nexport { ReduceProgram };\n//# sourceMappingURL=reduce_gpu.js.map","var ResizeBilinearBackpropProgram = (function () {\n    function ResizeBilinearBackpropProgram(dy, x, alignCorners) {\n        this.variableNames = ['dy'];\n        this.outputShape = [];\n        this.outputShape = x.shape;\n        var _a = x.shape, xHeight = _a[1], xWidth = _a[2];\n        var _b = dy.shape, yHeight = _b[1], yWidth = _b[2];\n        var effectiveXSize = [\n            (alignCorners && yHeight > 1) ? xHeight - 1 : xHeight,\n            (alignCorners && yWidth > 1) ? xWidth - 1 : xWidth\n        ];\n        var effectiveYSize = [\n            (alignCorners && yHeight > 1) ? yHeight - 1 : yHeight,\n            (alignCorners && yWidth > 1) ? yWidth - 1 : yWidth\n        ];\n        var heightScale = effectiveXSize[0] / effectiveYSize[0];\n        var widthScale = effectiveXSize[1] / effectiveYSize[1];\n        var invHeightScale = 1 / heightScale;\n        var invWidthScale = 1 / widthScale;\n        var winHeight = (Math.ceil(invHeightScale) * 2) + 2;\n        var winWidth = (Math.ceil(invWidthScale) * 2) + 2;\n        this.userCode = \"\\n      void main() {\\n        ivec4 coords = getOutputCoords();\\n        int b = coords[0];\\n        int d = coords[3];\\n        int r = coords[1];\\n        int c = coords[2];\\n\\n        float accumulator = 0.0;\\n\\n        const float heightScale = float(\" + heightScale + \");\\n        const float widthScale = float(\" + widthScale + \");\\n\\n        const float invHeightScale = float(\" + invHeightScale + \");\\n        const float invWidthScale = float(\" + invWidthScale + \");\\n\\n        const int winHeight = int(\" + winHeight + \");\\n        const int winWidth = int(\" + winWidth + \");\\n\\n        // Compute bounds for where in dy we will look\\n        float startRLerp = floor(float(r) * invHeightScale);\\n        int startDyR = int(startRLerp - float(winHeight / 2));\\n\\n        float startCLerp = floor(float(c) * invWidthScale);\\n        int startDyC = int(startCLerp - float(winWidth / 2));\\n\\n        // Loop over dy\\n        for (int dyROffset = 0; dyROffset < winHeight; dyROffset++) {\\n          int dyR = dyROffset + startDyR;\\n\\n          // Guard against the window exceeding the bounds of dy\\n          if (dyR < 0 || dyR >= \" + yHeight + \") {\\n            continue;\\n          }\\n\\n          for (int dyCOffset = 0; dyCOffset < winWidth; dyCOffset++) {\\n            int dyC = dyCOffset + startDyC;\\n\\n            // Guard against the window exceeding the bounds of dy\\n            if (dyC < 0 || dyC >= \" + yWidth + \") {\\n              continue;\\n            }\\n\\n            float dxR = float(dyR) * heightScale;\\n            int topDxRIndex = int(floor(dxR));\\n            int bottomDxRIndex = int(min(ceil(dxR), \" + (xHeight - 1) + \".0));\\n            float dxRLerp = dxR - float(topDxRIndex);\\n            float inverseDxRLerp = 1.0 - dxRLerp;\\n\\n            float dxC = float(dyC) * widthScale;\\n            int leftDxCIndex = int(floor(dxC));\\n            int rightDxCIndex = int(min(ceil(dxC), \" + (xWidth - 1) + \".0));\\n            float dxCLerp = dxC - float(leftDxCIndex);\\n            float inverseDxCLerp = 1.0 - dxCLerp;\\n\\n            if (r == topDxRIndex && c == leftDxCIndex) {\\n              // topLeft\\n              accumulator +=\\n                getDy(b, dyR, dyC, d) * inverseDxRLerp * inverseDxCLerp;\\n            }\\n\\n            if (r == topDxRIndex && c == rightDxCIndex) {\\n              // topRight\\n              accumulator += getDy(b, dyR, dyC, d) * inverseDxRLerp * dxCLerp;\\n            }\\n\\n            if (r == bottomDxRIndex && c == leftDxCIndex) {\\n              // bottomLeft\\n              accumulator += getDy(b, dyR, dyC, d) * dxRLerp * inverseDxCLerp;\\n            }\\n\\n            if (r == bottomDxRIndex && c == rightDxCIndex) {\\n              // bottomRight\\n              accumulator += getDy(b, dyR, dyC, d) * dxRLerp * dxCLerp;\\n            }\\n          }\\n        }\\n        // End loop over dy\\n\\n        setOutput(accumulator);\\n      }\\n    \";\n    }\n    return ResizeBilinearBackpropProgram;\n}());\nexport { ResizeBilinearBackpropProgram };\n//# sourceMappingURL=resize_bilinear_backprop_gpu.js.map","var ResizeBilinearProgram = (function () {\n    function ResizeBilinearProgram(inputShape, newHeight, newWidth, alignCorners) {\n        this.variableNames = ['A'];\n        this.outputShape = [];\n        var batch = inputShape[0], oldHeight = inputShape[1], oldWidth = inputShape[2], depth = inputShape[3];\n        this.outputShape = [batch, newHeight, newWidth, depth];\n        var effectiveInSize = [\n            (alignCorners && newHeight > 1) ? oldHeight - 1 : oldHeight,\n            (alignCorners && newWidth > 1) ? oldWidth - 1 : oldWidth\n        ];\n        var effectiveOutSize = [\n            (alignCorners && newHeight > 1) ? newHeight - 1 : newHeight,\n            (alignCorners && newWidth > 1) ? newWidth - 1 : newWidth\n        ];\n        this.userCode = \"\\n      const vec2 effectiveInputOverOutputRatioRC = vec2(\\n          \" + effectiveInSize[0] / effectiveOutSize[0] + \",\\n          \" + effectiveInSize[1] / effectiveOutSize[1] + \");\\n      const vec2 inputShapeRC = vec2(\" + oldHeight + \".0, \" + oldWidth + \".0);\\n\\n      void main() {\\n        ivec4 coords = getOutputCoords();\\n        int b = coords[0];\\n        int d = coords[3];\\n        ivec2 yRC = coords.yz;\\n\\n        // Fractional source index.\\n        vec2 sourceFracIndexRC = vec2(yRC) * effectiveInputOverOutputRatioRC;\\n\\n        // Compute the four integer indices.\\n        ivec2 sourceFloorRC = ivec2(sourceFracIndexRC);\\n        ivec2 sourceCeilRC = ivec2(\\n          min(inputShapeRC - 1.0, ceil(sourceFracIndexRC)));\\n\\n        float topLeft = getA(b, sourceFloorRC.x, sourceFloorRC.y, d);\\n        float bottomLeft = getA(b, sourceCeilRC.x, sourceFloorRC.y, d);\\n        float topRight = getA(b, sourceFloorRC.x, sourceCeilRC.y, d);\\n        float bottomRight = getA(b, sourceCeilRC.x, sourceCeilRC.y, d);\\n\\n        vec2 fracRC = sourceFracIndexRC - vec2(sourceFloorRC);\\n\\n        float top = topLeft + (topRight - topLeft) * fracRC.y;\\n        float bottom = bottomLeft + (bottomRight - bottomLeft) * fracRC.y;\\n        float newValue = top + (bottom - top) * fracRC.x;\\n\\n        setOutput(newValue);\\n      }\\n    \";\n    }\n    return ResizeBilinearProgram;\n}());\nexport { ResizeBilinearProgram };\n//# sourceMappingURL=resize_bilinear_gpu.js.map","var ResizeNearestNeighborProgram = (function () {\n    function ResizeNearestNeighborProgram(inputShape, newHeight, newWidth, alignCorners) {\n        this.variableNames = ['A'];\n        this.outputShape = [];\n        var batch = inputShape[0], oldHeight = inputShape[1], oldWidth = inputShape[2], depth = inputShape[3];\n        this.outputShape = [batch, newHeight, newWidth, depth];\n        var effectiveInSize = alignCorners ? [oldHeight - 1, oldWidth - 1] : [oldHeight, oldWidth];\n        var effectiveOutSize = alignCorners ? [newHeight - 1, newWidth - 1] : [newHeight, newWidth];\n        var roundBase = alignCorners ? '0.5' : '0.0';\n        this.userCode = \"\\n      const vec2 effectiveInputOverOutputRatioRC = vec2(\\n          \" + effectiveInSize[0] / effectiveOutSize[0] + \",\\n          \" + effectiveInSize[1] / effectiveOutSize[1] + \");\\n      const vec2 inputShapeRC = vec2(\" + oldHeight + \".0, \" + oldWidth + \".0);\\n\\n      void main() {\\n        ivec4 coords = getOutputCoords();\\n        int b = coords[0];\\n        int d = coords[3];\\n        ivec2 yRC = coords.yz;\\n\\n        // Fractional source index.\\n        vec2 sourceFracIndexRC = vec2(yRC) * effectiveInputOverOutputRatioRC;\\n\\n        // Compute the coordinators of nearest neighbor point.\\n        ivec2 sourceNearestRC = ivec2(\\n          min(inputShapeRC - 1.0, floor(sourceFracIndexRC + \" + roundBase + \")));\\n\\n        float newValue = getA(b, sourceNearestRC.x, sourceNearestRC.y, d);\\n\\n        setOutput(newValue);\\n      }\\n    \";\n    }\n    return ResizeNearestNeighborProgram;\n}());\nexport { ResizeNearestNeighborProgram };\n//# sourceMappingURL=resize_nearest_neighbor_gpu.js.map","import { getCoordsDataType } from './shader_compiler';\nvar ReverseProgram = (function () {\n    function ReverseProgram(xShape, axis) {\n        this.variableNames = ['x'];\n        var rank = xShape.length;\n        if (rank > 4) {\n            throw new Error(\"WebGL backend: Reverse of rank-\" + rank + \" tensor is not yet supported\");\n        }\n        this.outputShape = xShape;\n        if (rank === 1) {\n            this.userCode = \"\\n        void main() {\\n          int coord = getOutputCoords();\\n          setOutput(getX(\" + xShape[0] + \" - coord - 1));\\n        }\\n      \";\n            return;\n        }\n        var getInCoord = function (i) {\n            if (axis.indexOf(i) !== -1 && xShape[i] !== 1) {\n                return xShape[i] + \" - coords[\" + i + \"] - 1\";\n            }\n            return \"coords[\" + i + \"]\";\n        };\n        var inCoords = xShape.map(function (_, i) { return getInCoord(i); }).join(',');\n        var type = getCoordsDataType(rank);\n        this.userCode = \"\\n      void main() {\\n        \" + type + \" coords = getOutputCoords();\\n        setOutput(getX(\" + inCoords + \"));\\n      }\\n    \";\n    }\n    return ReverseProgram;\n}());\nexport { ReverseProgram };\n//# sourceMappingURL=reverse_gpu.js.map","import { getCoordsDataType } from './shader_compiler';\nvar SliceProgram = (function () {\n    function SliceProgram(destSize) {\n        this.variableNames = ['source'];\n        this.outputShape = destSize;\n        this.rank = destSize.length;\n        var dtype = getCoordsDataType(this.rank);\n        var sourceCoords = getCoords(this.rank);\n        this.userCode = \"\\n      uniform \" + dtype + \" start;\\n\\n      void main() {\\n        \" + dtype + \" sourceLoc = start + getOutputCoords();\\n        setOutput(getSource(\" + sourceCoords + \"));\\n      }\\n    \";\n    }\n    SliceProgram.prototype.getCustomSetupFunc = function (start) {\n        var _this = this;\n        if (start.length !== this.rank) {\n            throw Error(\"The rank (\" + this.rank + \") of the program must match the \" +\n                (\"length of start (\" + start.length + \")\"));\n        }\n        return function (gpgpu, webGLProgram) {\n            if (_this.startLoc == null) {\n                _this.startLoc = gpgpu.getUniformLocationNoThrow(webGLProgram, 'start');\n                if (_this.startLoc == null) {\n                    return;\n                }\n            }\n            if (_this.rank === 1) {\n                gpgpu.gl.uniform1i(_this.startLoc, start[0]);\n            }\n            else if (_this.rank === 2) {\n                gpgpu.gl.uniform2i(_this.startLoc, start[0], start[1]);\n            }\n            else if (_this.rank === 3) {\n                gpgpu.gl.uniform3i(_this.startLoc, start[0], start[1], start[2]);\n            }\n            else if (_this.rank === 4) {\n                gpgpu.gl.uniform4i(_this.startLoc, start[0], start[1], start[2], start[3]);\n            }\n            else {\n                throw Error(\"Slicing for rank \" + _this.rank + \" is not yet supported\");\n            }\n        };\n    };\n    return SliceProgram;\n}());\nexport { SliceProgram };\nfunction getCoords(rank) {\n    if (rank === 1) {\n        return 'sourceLoc';\n    }\n    else if (rank === 2) {\n        return 'sourceLoc.x, sourceLoc.y';\n    }\n    else if (rank === 3) {\n        return 'sourceLoc.x, sourceLoc.y, sourceLoc.z';\n    }\n    else if (rank === 4) {\n        return 'sourceLoc.x, sourceLoc.y, sourceLoc.z, sourceLoc.w';\n    }\n    else {\n        throw Error(\"Slicing for rank \" + rank + \" is not yet supported\");\n    }\n}\n//# sourceMappingURL=slice_gpu.js.map","import { getCoordsDataType } from './shader_compiler';\nvar StridedSliceProgram = (function () {\n    function StridedSliceProgram(begin, strides, shape) {\n        this.variableNames = ['x'];\n        this.outputShape = shape;\n        this.rank = shape.length;\n        var dtype = getCoordsDataType(this.rank);\n        var newCoords = '';\n        if (this.rank === 1) {\n            newCoords = 'coords * strides + begin';\n        }\n        else {\n            newCoords =\n                shape.map(function (_, i) { return \"coords[\" + i + \"] * strides[\" + i + \"] + begin[\" + i + \"]\"; })\n                    .join(',');\n        }\n        this.userCode = \"\\n      \" + dtype + \" begin = \" + dtype + \"(\" + begin + \");\\n      \" + dtype + \" strides = \" + dtype + \"(\" + strides + \");\\n\\n      void main() {\\n        \" + dtype + \" coords = getOutputCoords();\\n        setOutput(getX(\" + newCoords + \"));\\n      }\\n    \";\n    }\n    return StridedSliceProgram;\n}());\nexport { StridedSliceProgram };\n//# sourceMappingURL=strided_slice_gpu.js.map","import { TextureType } from './tex_util';\nvar TextureManager = (function () {\n    function TextureManager(gpgpu) {\n        this.gpgpu = gpgpu;\n        this.numUsedTextures = 0;\n        this.numFreeTextures = 0;\n        this.freeTextures = {};\n        this.logEnabled = false;\n        this.allocatedTextures = [];\n        this.usedTextureCount = {};\n    }\n    TextureManager.prototype.acquireTexture = function (shapeRC, texType) {\n        if (texType === void 0) { texType = TextureType.FLOAT; }\n        var shapeKey = getKeyFromTextureShape(shapeRC, texType);\n        if (!(shapeKey in this.freeTextures)) {\n            this.freeTextures[shapeKey] = [];\n        }\n        if (!(shapeKey in this.usedTextureCount)) {\n            this.usedTextureCount[shapeKey] = 0;\n        }\n        this.usedTextureCount[shapeKey]++;\n        if (this.freeTextures[shapeKey].length > 0) {\n            this.numFreeTextures--;\n            this.numUsedTextures++;\n            this.log();\n            return this.freeTextures[shapeKey].shift();\n        }\n        this.numUsedTextures++;\n        this.log();\n        var newTexture = this.gpgpu.createMatrixTexture(shapeRC[0], shapeRC[1]);\n        this.allocatedTextures.push(newTexture);\n        return newTexture;\n    };\n    TextureManager.prototype.releaseTexture = function (texture, shape, texType) {\n        if (texType === void 0) { texType = TextureType.FLOAT; }\n        var shapeKey = getKeyFromTextureShape(shape, texType);\n        if (!(shapeKey in this.freeTextures)) {\n            this.freeTextures[shapeKey] = [];\n        }\n        this.freeTextures[shapeKey].push(texture);\n        this.numFreeTextures++;\n        this.numUsedTextures--;\n        this.usedTextureCount[shapeKey]--;\n        this.log();\n    };\n    TextureManager.prototype.log = function () {\n        if (!this.logEnabled) {\n            return;\n        }\n        var total = this.numFreeTextures + this.numUsedTextures;\n        console.log('Free/Used', this.numFreeTextures + \" / \" + this.numUsedTextures, \"(\" + total + \")\");\n    };\n    TextureManager.prototype.getNumUsedTextures = function () {\n        return this.numUsedTextures;\n    };\n    TextureManager.prototype.getNumFreeTextures = function () {\n        return this.numFreeTextures;\n    };\n    TextureManager.prototype.dispose = function () {\n        var _this = this;\n        if (this.allocatedTextures == null) {\n            return;\n        }\n        this.allocatedTextures.forEach(function (texture) {\n            _this.gpgpu.deleteMatrixTexture(texture);\n        });\n        this.freeTextures = null;\n        this.allocatedTextures = null;\n        this.usedTextureCount = null;\n        this.numUsedTextures = 0;\n        this.numFreeTextures = 0;\n    };\n    return TextureManager;\n}());\nexport { TextureManager };\nfunction getKeyFromTextureShape(shapeRowsCol, texType) {\n    return shapeRowsCol[0] + \"_\" + shapeRowsCol[1] + \"_\" + texType;\n}\n//# sourceMappingURL=texture_manager.js.map","import { getCoordsDataType } from './shader_compiler';\nvar TileProgram = (function () {\n    function TileProgram(aShape, reps) {\n        this.variableNames = ['A'];\n        var outputShape = new Array(aShape.length);\n        for (var i = 0; i < outputShape.length; i++) {\n            outputShape[i] = aShape[i] * reps[i];\n        }\n        this.outputShape = outputShape;\n        this.rank = outputShape.length;\n        var dtype = getCoordsDataType(this.rank);\n        var sourceCoords = getSourceCoords(aShape);\n        this.userCode = \"\\n      void main() {\\n        \" + dtype + \" resRC = getOutputCoords();\\n        setOutput(getA(\" + sourceCoords + \"));\\n      }\\n    \";\n    }\n    return TileProgram;\n}());\nexport { TileProgram };\nfunction getSourceCoords(aShape) {\n    var rank = aShape.length;\n    if (rank > 4) {\n        throw Error(\"Tile for rank \" + rank + \" is not yet supported\");\n    }\n    if (rank === 1) {\n        return \"imod(resRC, \" + aShape[0] + \")\";\n    }\n    var currentCoords = ['resRC.x', 'resRC.y', 'resRC.z', 'resRC.w'];\n    var sourceCoords = [];\n    for (var i = 0; i < aShape.length; i++) {\n        sourceCoords.push(\"imod(\" + currentCoords[i] + \", \" + aShape[i] + \")\");\n    }\n    return sourceCoords.join();\n}\n//# sourceMappingURL=tile_gpu.js.map","import { getCoordsDataType } from './shader_compiler';\nvar TransposeProgram = (function () {\n    function TransposeProgram(aShape, newDim) {\n        this.variableNames = ['A'];\n        var outputShape = new Array(aShape.length);\n        for (var i = 0; i < outputShape.length; i++) {\n            outputShape[i] = aShape[newDim[i]];\n        }\n        this.outputShape = outputShape;\n        this.rank = outputShape.length;\n        var dtype = getCoordsDataType(this.rank);\n        var switched = getSwitchedCoords(newDim);\n        this.userCode = \"\\n    void main() {\\n      \" + dtype + \" resRC = getOutputCoords();\\n      setOutput(getA(\" + switched + \"));\\n    }\\n    \";\n    }\n    return TransposeProgram;\n}());\nexport { TransposeProgram };\nfunction getSwitchedCoords(newDim) {\n    var rank = newDim.length;\n    if (rank > 4) {\n        throw Error(\"Transpose for rank \" + rank + \" is not yet supported\");\n    }\n    var originalOrder = ['resRC.x', 'resRC.y', 'resRC.z', 'resRC.w'];\n    var switchedCoords = new Array(rank);\n    for (var i = 0; i < newDim.length; i++) {\n        switchedCoords[newDim[i]] = originalOrder[i];\n    }\n    return switchedCoords.join();\n}\n//# sourceMappingURL=transpose_gpu.js.map","export var ERF_P = 0.3275911;\nexport var ERF_A1 = 0.254829592;\nexport var ERF_A2 = -0.284496736;\nexport var ERF_A3 = 1.421413741;\nexport var ERF_A4 = -1.453152027;\nexport var ERF_A5 = 1.061405429;\n//# sourceMappingURL=erf_util.js.map","import * as erf_util from '../../ops/erf_util';\nimport * as selu_util from '../../ops/selu_util';\nvar UnaryOpProgram = (function () {\n    function UnaryOpProgram(aShape, opSnippet) {\n        this.variableNames = ['A'];\n        this.outputShape = aShape;\n        this.userCode = \"\\n      float unaryOperation(float x) {\\n        \" + opSnippet + \"\\n      }\\n\\n      void main() {\\n        float x = getAAtOutCoords();\\n        float y = unaryOperation(x);\\n\\n        setOutput(y);\\n      }\\n    \";\n    }\n    return UnaryOpProgram;\n}());\nexport { UnaryOpProgram };\nvar CHECK_NAN_SNIPPET = \"if (isNaN(x)) return x;\";\nexport var ABS = \"return abs(x);\";\nexport var RELU = CHECK_NAN_SNIPPET + \"\\n  return (x < 0.0) ? 0.0 : x;\\n\";\nexport var ELU = \"return (x >= 0.0) ? x : (exp(x) - 1.0);\";\nexport var SELU = \"\\n  // Stable and Attracting Fixed Point (0, 1) for Normalized Weights.\\n  // see: https://arxiv.org/abs/1706.02515\\n  float scaleAlpha = \" + selu_util.SELU_SCALEALPHA + \";\\n  float scale = \" + selu_util.SELU_SCALE + \";\\n  return (x >= 0.0) ? scale * x : scaleAlpha * (exp(x) - 1.0);\\n\";\nexport function STEP(alpha) {\n    if (alpha === void 0) { alpha = 0.0; }\n    return CHECK_NAN_SNIPPET + (\"\\n    return x > 0.0 ? 1.0 : float(\" + alpha + \");\\n  \");\n}\nexport var NEG = \"return -x;\";\nexport var CEIL = \"return ceil(x);\";\nexport var FLOOR = \"return floor(x);\";\nexport var SIGN = \"\\n  if (isNaN(x)) { return 0.0; }\\n  return sign(x);\\n\";\nexport var ROUND = \"\\n  // OpenGL ES does not support round function.\\n  // The algorithm is based on banker's rounding.\\n  float base = floor(x);\\n  if ((x - base) < 0.5) {\\n    return floor(x);\\n  } else if ((x - base) > 0.5) {\\n    return ceil(x);\\n  } else {\\n    if (mod(base, 2.0) == 0.0) {\\n      return base;\\n    } else {\\n      return base + 1.0;\\n    }\\n  }\\n\";\nexport var EXP = \"return exp(x);\";\nexport var EXPM1 = \"return exp(x) - 1.0;\";\nexport var LOG = \"return log(x);\";\nexport var LOG1P = \"return log(1.0 + x);\";\nexport var SQRT = \"return sqrt(x);\";\nexport var RSQRT = \"return inversesqrt(x);\";\nexport var SIGMOID = \"return 1.0 / (1.0 + exp(-1.0 * x));\";\nexport var SOFTPLUS = \"\\n  float epsilon = 1.1920928955078125e-7;\\n  float threshold = log(epsilon) + 2.0;\\n\\n  bool too_large = x > -threshold;\\n  bool too_small = x < threshold;\\n\\n  float result;\\n  float exp_x = exp(x);\\n\\n  if (too_large){\\n    result = x;\\n  }\\n  else if (too_small){\\n    result = exp_x;\\n  }\\n  else{\\n    result = log(exp_x + 1.0);\\n  }\\n  return result;\\n\";\nexport var SIN = \"return sin(x);\";\nexport var COS = \"return cos(x);\";\nexport var TAN = \"return tan(x);\";\nexport var ASIN = \"return asin(x);\";\nexport var ACOS = \"return acos(x);\";\nexport var ATAN = CHECK_NAN_SNIPPET + \"\\n  return atan(x);\\n\";\nexport var SINH = \"\\n  float e2x = exp(x);\\n  return (e2x - 1.0 / e2x) / 2.0;\\n\";\nexport var COSH = \"\\n  float e2x = exp(-x);\\n  return (e2x + 1.0 / e2x) / 2.0;\\n\";\nexport var TANH = \"\\n  float e2x = exp(-2.0 * abs(x));\\n  return sign(x) * (1.0 - e2x) / (1.0 + e2x);\\n\";\nexport var ASINH = \"return log(x + sqrt(x * x + 1.0));\";\nexport var ACOSH = \"return log(x + sqrt(x * x - 1.0));\";\nexport var ATANH = \"return (log(1.0 + x) - log(1.0 - x)) / 2.0;\";\nexport var ERF = \"\\n  // Error function is calculated approximately with elementary function.\\n  // See \\\"Handbook of Mathematical Functions with Formulas,\\n  // Graphs, and Mathematical Tables\\\", Abramowitz and Stegun.\\n  float p = \" + erf_util.ERF_P + \";\\n  float a1 = \" + erf_util.ERF_A1 + \";\\n  float a2 = \" + erf_util.ERF_A2 + \";\\n  float a3 = \" + erf_util.ERF_A3 + \";\\n  float a4 = \" + erf_util.ERF_A4 + \";\\n  float a5 = \" + erf_util.ERF_A5 + \";\\n\\n  float t = 1.0 / (1.0 + p * x);\\n  return 1.0 - (((((a5*t + a4)*t) + a3)*t + a2)*t + a1)*t*exp(-x*x);\\n\";\nexport var SQUARE = \"return x * x;\";\nexport var RECIPROCAL = \"return 1.0 / x;\";\nexport var LOGICAL_NOT = \"return float(!(x >= 1.0));\";\nexport var TO_INT = \"return float(int(x));\";\n//# sourceMappingURL=unaryop_gpu.js.map","var __awaiter = (this && this.__awaiter) || function (thisArg, _arguments, P, generator) {\n    return new (P || (P = Promise))(function (resolve, reject) {\n        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\n        function rejected(value) { try { step(generator[\"throw\"](value)); } catch (e) { reject(e); } }\n        function step(result) { result.done ? resolve(result.value) : new P(function (resolve) { resolve(result.value); }).then(fulfilled, rejected); }\n        step((generator = generator.apply(thisArg, _arguments || [])).next());\n    });\n};\nvar __generator = (this && this.__generator) || function (thisArg, body) {\n    var _ = { label: 0, sent: function() { if (t[0] & 1) throw t[1]; return t[1]; }, trys: [], ops: [] }, f, y, t, g;\n    return g = { next: verb(0), \"throw\": verb(1), \"return\": verb(2) }, typeof Symbol === \"function\" && (g[Symbol.iterator] = function() { return this; }), g;\n    function verb(n) { return function (v) { return step([n, v]); }; }\n    function step(op) {\n        if (f) throw new TypeError(\"Generator is already executing.\");\n        while (_) try {\n            if (f = 1, y && (t = y[op[0] & 2 ? \"return\" : op[0] ? \"throw\" : \"next\"]) && !(t = t.call(y, op[1])).done) return t;\n            if (y = 0, t) op = [0, t.value];\n            switch (op[0]) {\n                case 0: case 1: t = op; break;\n                case 4: _.label++; return { value: op[1], done: false };\n                case 5: _.label++; y = op[1]; op = [0]; continue;\n                case 7: op = _.ops.pop(); _.trys.pop(); continue;\n                default:\n                    if (!(t = _.trys, t = t.length > 0 && t[t.length - 1]) && (op[0] === 6 || op[0] === 2)) { _ = 0; continue; }\n                    if (op[0] === 3 && (!t || (op[1] > t[0] && op[1] < t[3]))) { _.label = op[1]; break; }\n                    if (op[0] === 6 && _.label < t[1]) { _.label = t[1]; t = op; break; }\n                    if (t && _.label < t[2]) { _.label = t[2]; _.ops.push(op); break; }\n                    if (t[2]) _.ops.pop();\n                    _.trys.pop(); continue;\n            }\n            op = body.call(thisArg, _);\n        } catch (e) { op = [6, e]; y = 0; } finally { f = t = 0; }\n        if (op[0] & 5) throw op[1]; return { value: op[0] ? op[1] : void 0, done: true };\n    }\n};\nimport { ENV } from '../environment';\nimport * as axis_util from '../ops/axis_util';\nimport * as ops from '../ops/ops';\nimport * as reduce_util from '../ops/reduce_util';\nimport { getStridedSlicedInfo } from '../ops/slice_util';\nimport { Tensor } from '../tensor';\nimport * as types from '../types';\nimport * as util from '../util';\nimport * as backend_util from './backend_util';\nimport { ArgMinMaxProgram } from './webgl/argminmax_gpu';\nimport { AvgPool2DBackpropProgram } from './webgl/avg_pool_backprop_gpu';\nimport { BatchNormProgram } from './webgl/batchnorm_gpu';\nimport * as binaryop_gpu from './webgl/binaryop_gpu';\nimport { BinaryOpProgram } from './webgl/binaryop_gpu';\nimport { ClipProgram } from './webgl/clip_gpu';\nimport { ConcatProgram } from './webgl/concat_gpu';\nimport { Conv2DDerFilterProgram, Conv2DDerInputProgram } from './webgl/conv_backprop_gpu';\nimport { Conv2DProgram } from './webgl/conv_gpu';\nimport { CumSumProgram } from './webgl/cumsum_gpu';\nimport { DepthwiseConv2DProgram } from './webgl/conv_gpu_depthwise';\nimport { FromPixelsProgram } from './webgl/from_pixels_gpu';\nimport { GatherProgram } from './webgl/gather_gpu';\nimport { GPGPUContext } from './webgl/gpgpu_context';\nimport * as gpgpu_math from './webgl/gpgpu_math';\nimport * as gpgpu_util from './webgl/gpgpu_util';\nimport { WhereProgram } from './webgl/logical_gpu';\nimport { LRNProgram } from './webgl/lrn_gpu';\nimport { MaxPool2DBackpropProgram } from './webgl/max_pool_backprop_gpu';\nimport { MatMulProgram } from './webgl/mulmat_gpu';\nimport { MultinomialProgram } from './webgl/multinomial_gpu';\nimport { OneHotProgram } from './webgl/onehot_gpu';\nimport { PadProgram } from './webgl/pad_gpu';\nimport { Pool2DProgram } from './webgl/pool_gpu';\nimport { ReduceProgram } from './webgl/reduce_gpu';\nimport { ResizeBilinearBackpropProgram } from './webgl/resize_bilinear_backprop_gpu';\nimport { ResizeBilinearProgram } from './webgl/resize_bilinear_gpu';\nimport { ResizeNearestNeighborProgram } from './webgl/resize_nearest_neighbor_gpu';\nimport { ReverseProgram } from './webgl/reverse_gpu';\nimport { SliceProgram } from './webgl/slice_gpu';\nimport { StridedSliceProgram } from './webgl/strided_slice_gpu';\nimport { TextureType } from './webgl/tex_util';\nimport { TextureManager } from './webgl/texture_manager';\nimport { TileProgram } from './webgl/tile_gpu';\nimport { TransposeProgram } from './webgl/transpose_gpu';\nimport * as unary_op from './webgl/unaryop_gpu';\nimport { UnaryOpProgram } from './webgl/unaryop_gpu';\nimport * as webgl_util from './webgl/webgl_util';\nvar MathBackendWebGL = (function () {\n    function MathBackendWebGL(gpgpu, delayedStorage) {\n        if (delayedStorage === void 0) { delayedStorage = true; }\n        this.gpgpu = gpgpu;\n        this.delayedStorage = delayedStorage;\n        this.texData = new WeakMap();\n        this.uploadWaitMs = 0;\n        this.downloadWaitMs = 0;\n        this.binaryCache = {};\n        this.disposed = false;\n        if (ENV.get('WEBGL_VERSION') < 1) {\n            throw new Error('WebGL is not supported on this device');\n        }\n        if (typeof document !== 'undefined') {\n            this.canvas = document.createElement('canvas');\n        }\n        if (gpgpu == null) {\n            this.gpgpu = new GPGPUContext(gpgpu_util.createWebGLContext(this.canvas));\n            this.gpgpuCreatedLocally = true;\n        }\n        else {\n            this.gpgpuCreatedLocally = false;\n        }\n        this.textureManager = new TextureManager(this.gpgpu);\n    }\n    MathBackendWebGL.prototype.register = function (dataId, shape, dtype) {\n        if (this.texData.has(dataId)) {\n            throw new Error('Data buffer is already registered');\n        }\n        this.texData.set(dataId, {\n            shape: shape,\n            dtype: dtype,\n            values: null,\n            texture: null,\n            texShape: null,\n            texType: TextureType.FLOAT\n        });\n    };\n    MathBackendWebGL.prototype.fromPixels = function (pixels, numChannels) {\n        if (pixels == null) {\n            throw new Error('MathBackendWebGL.writePixels(): pixels can not be null');\n        }\n        var texShape = [pixels.height, pixels.width];\n        var outShape = [pixels.height, pixels.width, numChannels];\n        if (pixels instanceof HTMLVideoElement) {\n            if (this.canvas == null) {\n                throw new Error('Can\\'t read pixels from HTMLImageElement outside ' +\n                    'the browser.');\n            }\n            this.canvas.width = pixels.width;\n            this.canvas.height = pixels.height;\n            this.canvas.getContext('2d').drawImage(pixels, 0, 0, pixels.width, pixels.height);\n            pixels = this.canvas;\n        }\n        var tempPixelArray = Tensor.make(texShape, {}, 'int32');\n        this.texData.get(tempPixelArray.dataId).texType = TextureType.UNSIGNED_BYTE;\n        this.gpgpu.uploadPixelDataToTexture(this.getTexture(tempPixelArray.dataId), pixels);\n        var program = new FromPixelsProgram(outShape);\n        var res = this.compileAndRun(program, [tempPixelArray]);\n        tempPixelArray.dispose();\n        return res;\n    };\n    MathBackendWebGL.prototype.write = function (dataId, values) {\n        if (values == null) {\n            throw new Error('MathBackendWebGL.write(): values can not be null');\n        }\n        this.throwIfNoData(dataId);\n        var texData = this.texData.get(dataId);\n        var texture = texData.texture, texShape = texData.texShape, texType = texData.texType;\n        if (texture != null) {\n            this.textureManager.releaseTexture(texture, texShape, texType);\n            texData.texture = null;\n            texData.texShape = null;\n        }\n        texData.values = values;\n        if (!this.delayedStorage) {\n            this.uploadToGPU(dataId);\n        }\n    };\n    MathBackendWebGL.prototype.readSync = function (dataId) {\n        this.throwIfNoData(dataId);\n        var texData = this.texData.get(dataId);\n        var texture = texData.texture, values = texData.values, texShape = texData.texShape;\n        if (values != null) {\n            this.cacheOnCPU(dataId);\n            return values;\n        }\n        var shouldTimeProgram = this.activeTimers != null;\n        var start;\n        if (shouldTimeProgram) {\n            start = performance.now();\n        }\n        var float32Values = this.gpgpu.downloadMatrixFromTexture(texture, texShape[0], texShape[1]);\n        if (shouldTimeProgram) {\n            this.downloadWaitMs += performance.now() - start;\n        }\n        this.cacheOnCPU(dataId, float32Values);\n        return texData.values;\n    };\n    MathBackendWebGL.prototype.read = function (dataId) {\n        return __awaiter(this, void 0, void 0, function () {\n            var texData, texture, values, texShape, float32Values;\n            return __generator(this, function (_a) {\n                switch (_a.label) {\n                    case 0:\n                        this.throwIfNoData(dataId);\n                        texData = this.texData.get(dataId);\n                        texture = texData.texture, values = texData.values, texShape = texData.texShape;\n                        if (values != null) {\n                            this.cacheOnCPU(dataId);\n                            return [2, values];\n                        }\n                        if (!ENV.get('WEBGL_GET_BUFFER_SUB_DATA_ASYNC_EXTENSION_ENABLED')) return [3, 2];\n                        return [4, this.gpgpu.downloadMatrixFromTextureAsync(texture, texShape[0], texShape[1])];\n                    case 1:\n                        float32Values = _a.sent();\n                        this.cacheOnCPU(dataId, float32Values);\n                        return [2, texData.values];\n                    case 2:\n                        if (ENV.get('WEBGL_DISJOINT_QUERY_TIMER_EXTENSION_VERSION') === 0) {\n                            return [2, this.readSync(dataId)];\n                        }\n                        return [4, this.gpgpu.runQuery(function () { })];\n                    case 3:\n                        _a.sent();\n                        return [2, this.readSync(dataId)];\n                }\n            });\n        });\n    };\n    MathBackendWebGL.prototype.time = function (f) {\n        return __awaiter(this, void 0, void 0, function () {\n            var oldActiveTimers, newActiveTimers, outerMostTime, flattenedActiveTimers, kernelMs, res;\n            return __generator(this, function (_a) {\n                switch (_a.label) {\n                    case 0:\n                        oldActiveTimers = this.activeTimers;\n                        newActiveTimers = [];\n                        outerMostTime = false;\n                        if (this.programTimersStack == null) {\n                            this.programTimersStack = newActiveTimers;\n                            outerMostTime = true;\n                        }\n                        else {\n                            this.activeTimers.push(newActiveTimers);\n                        }\n                        this.activeTimers = newActiveTimers;\n                        f();\n                        flattenedActiveTimers = util.flatten(this.activeTimers);\n                        this.activeTimers = oldActiveTimers;\n                        if (outerMostTime) {\n                            this.programTimersStack = null;\n                        }\n                        return [4, Promise.all(flattenedActiveTimers).then(function (results) {\n                                var sum = 0;\n                                results.forEach(function (result) { return sum += result; });\n                                return sum;\n                            })];\n                    case 1:\n                        kernelMs = _a.sent();\n                        res = {\n                            uploadWaitMs: this.uploadWaitMs,\n                            downloadWaitMs: this.downloadWaitMs,\n                            kernelMs: kernelMs,\n                            wallMs: null\n                        };\n                        this.uploadWaitMs = 0;\n                        this.downloadWaitMs = 0;\n                        return [2, res];\n                }\n            });\n        });\n    };\n    MathBackendWebGL.prototype.memory = function () {\n        return { unreliable: false };\n    };\n    MathBackendWebGL.prototype.startTimer = function () {\n        if (ENV.get('WEBGL_DISJOINT_QUERY_TIMER_EXTENSION_VERSION') > 0) {\n            return this.gpgpu.beginQuery();\n        }\n        return { startMs: performance.now(), endMs: null };\n    };\n    MathBackendWebGL.prototype.endTimer = function (query) {\n        if (ENV.get('WEBGL_DISJOINT_QUERY_TIMER_EXTENSION_VERSION') > 0) {\n            this.gpgpu.endQuery();\n            return query;\n        }\n        query.endMs = performance.now();\n        return query;\n    };\n    MathBackendWebGL.prototype.getQueryTime = function (query) {\n        return __awaiter(this, void 0, void 0, function () {\n            var timerQuery;\n            return __generator(this, function (_a) {\n                if (ENV.get('WEBGL_DISJOINT_QUERY_TIMER_EXTENSION_VERSION') > 0) {\n                    return [2, this.gpgpu.pollQueryTime(query)];\n                }\n                timerQuery = query;\n                return [2, timerQuery.endMs - timerQuery.startMs];\n            });\n        });\n    };\n    MathBackendWebGL.prototype.disposeData = function (dataId) {\n        if (this.texData.has(dataId)) {\n            var _a = this.texData.get(dataId), texture = _a.texture, texShape = _a.texShape, texType = _a.texType;\n            if (texture != null) {\n                this.textureManager.releaseTexture(texture, texShape, texType);\n            }\n            this.texData.delete(dataId);\n        }\n    };\n    MathBackendWebGL.prototype.getTexture = function (dataId) {\n        this.uploadToGPU(dataId);\n        return this.texData.get(dataId).texture;\n    };\n    MathBackendWebGL.prototype.getTextureData = function (dataId) {\n        this.uploadToGPU(dataId);\n        return this.texData.get(dataId);\n    };\n    MathBackendWebGL.prototype.getGPGPUContext = function () {\n        return this.gpgpu;\n    };\n    MathBackendWebGL.prototype.getCanvas = function () {\n        return this.canvas;\n    };\n    MathBackendWebGL.prototype.slice = function (x, begin, size) {\n        var program = new SliceProgram(size);\n        var customSetup = program.getCustomSetupFunc(begin);\n        return this.compileAndRun(program, [x], null, customSetup);\n    };\n    MathBackendWebGL.prototype.stridedSlice = function (x, begin, end, strides, beginMask, endMask) {\n        var _a = getStridedSlicedInfo(x.shape, begin, end, strides, beginMask, endMask), beginIndex = _a[0], size = _a[1];\n        if (size.some(function (axis) { return axis === 0; })) {\n            return ops.tensor([], size);\n        }\n        var program = new StridedSliceProgram(beginIndex, strides, size);\n        return this.compileAndRun(program, [x]);\n    };\n    MathBackendWebGL.prototype.reverse = function (x, axis) {\n        var program = new ReverseProgram(x.shape, axis);\n        return this.compileAndRun(program, [x]);\n    };\n    MathBackendWebGL.prototype.concat = function (a, b) {\n        var program = new ConcatProgram(a.shape, b.shape);\n        return this.compileAndRun(program, [a, b]);\n    };\n    MathBackendWebGL.prototype.neg = function (x) {\n        var program = new UnaryOpProgram(x.shape, unary_op.NEG);\n        return this.compileAndRun(program, [x]);\n    };\n    MathBackendWebGL.prototype.matMul = function (a, b, transposeA, transposeB) {\n        var program = new MatMulProgram(a.shape, b.shape, transposeA, transposeB);\n        return this.compileAndRun(program, [a, b]);\n    };\n    MathBackendWebGL.prototype.multiply = function (a, b) {\n        var program = new BinaryOpProgram(binaryop_gpu.MUL, a.shape, b.shape);\n        var output = this.makeOutputArray(program.outputShape, types.upcastType(a.dtype, b.dtype));\n        return this.compileAndRun(program, [a, b], output);\n    };\n    MathBackendWebGL.prototype.batchNormalization = function (x, mean, variance, varianceEpsilon, scale, offset) {\n        var inputs = [x, mean, variance];\n        var offsetShape = null;\n        if (offset != null) {\n            offsetShape = offset.shape;\n            inputs.push(offset);\n        }\n        var scaleShape = null;\n        if (scale != null) {\n            scaleShape = scale.shape;\n            inputs.push(scale);\n        }\n        var program = new BatchNormProgram(x.shape, mean.shape, variance.shape, offsetShape, scaleShape, varianceEpsilon);\n        return this.compileAndRun(program, inputs);\n    };\n    MathBackendWebGL.prototype.localResponseNormalization4D = function (x, radius, bias, alpha, beta) {\n        var program = new LRNProgram(x.shape, radius, bias, alpha, beta);\n        return this.compileAndRun(program, [x]);\n    };\n    MathBackendWebGL.prototype.tile = function (x, reps) {\n        var program = new TileProgram(x.shape, reps);\n        return this.compileAndRun(program, [x]);\n    };\n    MathBackendWebGL.prototype.pad = function (x, paddings, constantValue) {\n        var program = new PadProgram(x.shape, paddings, constantValue);\n        return this.compileAndRun(program, [x]);\n    };\n    MathBackendWebGL.prototype.transpose = function (x, perm) {\n        var program = new TransposeProgram(x.shape, perm);\n        return this.compileAndRun(program, [x]);\n    };\n    MathBackendWebGL.prototype.gather = function (x, indices, axis) {\n        var program = new GatherProgram(x.shape, indices.size, axis);\n        return this.compileAndRun(program, [x, indices]);\n    };\n    MathBackendWebGL.prototype.reduce = function (x, reduceType, dtype) {\n        var batchSize = x.shape[0];\n        var inSize = x.shape[1];\n        var windowSize = reduce_util.computeOptimalWindowSize(inSize);\n        var reduceInfo = { windowSize: windowSize, inSize: inSize, batchSize: batchSize };\n        var program = new ReduceProgram(reduceInfo, reduceType);\n        var _a = program.outputShape, rows = _a[0], cols = _a[1];\n        var output = this.makeOutputArray([rows, cols], dtype);\n        this.compileAndRun(program, [x], output);\n        if (output.shape[1] === 1) {\n            return output;\n        }\n        return this.reduce(output, reduceType, dtype);\n    };\n    MathBackendWebGL.prototype.argReduce = function (x, reduceType, bestIndicesA) {\n        if (bestIndicesA === void 0) { bestIndicesA = null; }\n        var batchSize = x.shape[0];\n        var inSize = x.shape[1];\n        if (bestIndicesA != null) {\n            batchSize = bestIndicesA.shape[0];\n            inSize = bestIndicesA.shape[1];\n        }\n        var windowSize = reduce_util.computeOptimalWindowSize(inSize);\n        var reduceInfo = { windowSize: windowSize, inSize: inSize, batchSize: batchSize };\n        var program = new ArgMinMaxProgram(reduceInfo, reduceType, bestIndicesA == null);\n        var _a = program.outputShape, rows = _a[0], cols = _a[1];\n        var output = this.makeOutputArray([rows, cols], 'int32');\n        var inputs = [x];\n        if (bestIndicesA != null) {\n            inputs.push(bestIndicesA);\n        }\n        this.compileAndRun(program, inputs, output);\n        if (output.shape[1] === 1) {\n            return output;\n        }\n        return this.argReduce(x, reduceType, output);\n    };\n    MathBackendWebGL.prototype.sum = function (x, axes) {\n        axis_util.assertAxesAreInnerMostDims('sum', axes, x.rank);\n        var _a = axis_util.computeOutAndReduceShapes(x.shape, axes), outShape = _a[0], reduceShape = _a[1];\n        var inSize = util.sizeFromShape(reduceShape);\n        var a2D = x.as2D(-1, inSize);\n        var outputDType = types.sumOutType(x.dtype);\n        return this.reduce(a2D, 'sum', outputDType).reshape(outShape);\n    };\n    MathBackendWebGL.prototype.argMin = function (x, axis) {\n        var axes = [axis];\n        axis_util.assertAxesAreInnerMostDims('argMin', axes, x.rank);\n        var _a = axis_util.computeOutAndReduceShapes(x.shape, axes), outShape = _a[0], reduceShape = _a[1];\n        var inSize = util.sizeFromShape(reduceShape);\n        var a2D = x.as2D(-1, inSize);\n        return this.argReduce(a2D, 'min').reshape(outShape);\n    };\n    MathBackendWebGL.prototype.argMax = function (x, axis) {\n        var axes = [axis];\n        axis_util.assertAxesAreInnerMostDims('argMax', axes, x.rank);\n        var _a = axis_util.computeOutAndReduceShapes(x.shape, axes), outShape = _a[0], reduceShape = _a[1];\n        var inSize = util.sizeFromShape(reduceShape);\n        var a2D = x.as2D(-1, inSize);\n        return this.argReduce(a2D, 'max').reshape(outShape);\n    };\n    MathBackendWebGL.prototype.cumsum = function (x, axis, exclusive, reverse) {\n        var program = new CumSumProgram(x.shape, exclusive, reverse);\n        return this.compileAndRun(program, [x]);\n    };\n    MathBackendWebGL.prototype.equal = function (a, b) {\n        var program = new BinaryOpProgram(binaryop_gpu.EQUAL, a.shape, b.shape);\n        var output = this.makeOutputArray(program.outputShape, 'bool');\n        return this.compileAndRun(program, [a, b], output);\n    };\n    MathBackendWebGL.prototype.notEqual = function (a, b) {\n        var program = new BinaryOpProgram(binaryop_gpu.NOT_EQUAL, a.shape, b.shape);\n        var output = this.makeOutputArray(program.outputShape, 'bool');\n        return this.compileAndRun(program, [a, b], output);\n    };\n    MathBackendWebGL.prototype.less = function (a, b) {\n        var program = new BinaryOpProgram(binaryop_gpu.LESS, a.shape, b.shape);\n        var output = this.makeOutputArray(program.outputShape, 'bool');\n        return this.compileAndRun(program, [a, b], output);\n    };\n    MathBackendWebGL.prototype.lessEqual = function (a, b) {\n        var program = new BinaryOpProgram(binaryop_gpu.LESS_EQUAL, a.shape, b.shape);\n        var output = this.makeOutputArray(program.outputShape, 'bool');\n        return this.compileAndRun(program, [a, b], output);\n    };\n    MathBackendWebGL.prototype.greater = function (a, b) {\n        var program = new BinaryOpProgram(binaryop_gpu.GREATER, a.shape, b.shape);\n        var output = this.makeOutputArray(program.outputShape, 'bool');\n        return this.compileAndRun(program, [a, b], output);\n    };\n    MathBackendWebGL.prototype.greaterEqual = function (a, b) {\n        var program = new BinaryOpProgram(binaryop_gpu.GREATER_EQUAL, a.shape, b.shape);\n        var output = this.makeOutputArray(program.outputShape, 'bool');\n        return this.compileAndRun(program, [a, b], output);\n    };\n    MathBackendWebGL.prototype.logicalNot = function (x) {\n        var program = new UnaryOpProgram(x.shape, unary_op.LOGICAL_NOT);\n        return this.compileAndRun(program, [x]);\n    };\n    MathBackendWebGL.prototype.logicalAnd = function (a, b) {\n        var program = new BinaryOpProgram(binaryop_gpu.LOGICAL_AND, a.shape, b.shape);\n        var output = this.makeOutputArray(program.outputShape, 'bool');\n        return this.compileAndRun(program, [a, b], output);\n    };\n    MathBackendWebGL.prototype.logicalOr = function (a, b) {\n        var program = new BinaryOpProgram(binaryop_gpu.LOGICAL_OR, a.shape, b.shape);\n        var output = this.makeOutputArray(program.outputShape, 'bool');\n        return this.compileAndRun(program, [a, b], output);\n    };\n    MathBackendWebGL.prototype.where = function (condition, a, b, dtype) {\n        var program = new WhereProgram(condition.rank, a.shape, a.rank);\n        var output = this.makeOutputArray(program.outputShape, dtype);\n        return this.compileAndRun(program, [condition, a, b], output);\n    };\n    MathBackendWebGL.prototype.topKValues = function (x, k) {\n        throw new Error('topKValues GPU not yet implemented!');\n    };\n    MathBackendWebGL.prototype.topKIndices = function (x, k) {\n        throw new Error('topKIndices GPU not yet implemented!');\n    };\n    MathBackendWebGL.prototype.min = function (x, axes) {\n        axis_util.assertAxesAreInnerMostDims('min', axes, x.rank);\n        var _a = axis_util.computeOutAndReduceShapes(x.shape, axes), outShape = _a[0], reduceShape = _a[1];\n        var inSize = util.sizeFromShape(reduceShape);\n        var a2D = x.as2D(-1, inSize);\n        return this.reduce(a2D, 'min', a2D.dtype).reshape(outShape);\n    };\n    MathBackendWebGL.prototype.minimum = function (a, b) {\n        var program = new BinaryOpProgram(binaryop_gpu.MIN, a.shape, b.shape);\n        return this.compileAndRun(program, [a, b]);\n    };\n    MathBackendWebGL.prototype.mod = function (a, b) {\n        var program = new BinaryOpProgram(binaryop_gpu.MOD, a.shape, b.shape);\n        return this.compileAndRun(program, [a, b]);\n    };\n    MathBackendWebGL.prototype.max = function (x, axes) {\n        axis_util.assertAxesAreInnerMostDims('max', axes, x.rank);\n        var _a = axis_util.computeOutAndReduceShapes(x.shape, axes), outShape = _a[0], reduceShape = _a[1];\n        var inSize = util.sizeFromShape(reduceShape);\n        var a2D = x.as2D(-1, inSize);\n        return this.reduce(a2D, 'max', a2D.dtype).reshape(outShape);\n    };\n    MathBackendWebGL.prototype.maximum = function (a, b) {\n        var program = new BinaryOpProgram(binaryop_gpu.MAX, a.shape, b.shape);\n        return this.compileAndRun(program, [a, b]);\n    };\n    MathBackendWebGL.prototype.squaredDifference = function (a, b) {\n        var program = new BinaryOpProgram(binaryop_gpu.SQUARED_DIFFERENCE, a.shape, b.shape);\n        return this.compileAndRun(program, [a, b]);\n    };\n    MathBackendWebGL.prototype.divide = function (a, b) {\n        var op;\n        var outputDtype;\n        if (a.dtype === 'int32' && b.dtype === 'int32') {\n            op = binaryop_gpu.INT_DIV;\n            outputDtype = 'int32';\n        }\n        else {\n            op = binaryop_gpu.DIV;\n            outputDtype = 'float32';\n        }\n        var program = new BinaryOpProgram(op, a.shape, b.shape);\n        var output = this.makeOutputArray(program.outputShape, outputDtype);\n        return this.compileAndRun(program, [a, b], output);\n    };\n    MathBackendWebGL.prototype.add = function (a, b) {\n        var program = new BinaryOpProgram(binaryop_gpu.ADD, a.shape, b.shape);\n        var output = this.makeOutputArray(program.outputShape, types.upcastType(a.dtype, b.dtype));\n        return this.compileAndRun(program, [a, b], output);\n    };\n    MathBackendWebGL.prototype.subtract = function (a, b) {\n        var program = new BinaryOpProgram(binaryop_gpu.SUB, a.shape, b.shape);\n        var output = this.makeOutputArray(program.outputShape, types.upcastType(a.dtype, b.dtype));\n        return this.compileAndRun(program, [a, b], output);\n    };\n    MathBackendWebGL.prototype.pow = function (a, b) {\n        var program = new BinaryOpProgram(binaryop_gpu.POW, a.shape, b.shape);\n        var output = this.makeOutputArray(program.outputShape, types.upcastType(a.dtype, b.dtype));\n        return this.compileAndRun(program, [a, b], output);\n    };\n    MathBackendWebGL.prototype.ceil = function (x) {\n        var program = new UnaryOpProgram(x.shape, unary_op.CEIL);\n        return this.compileAndRun(program, [x]);\n    };\n    MathBackendWebGL.prototype.floor = function (x) {\n        var program = new UnaryOpProgram(x.shape, unary_op.FLOOR);\n        return this.compileAndRun(program, [x]);\n    };\n    MathBackendWebGL.prototype.sign = function (x) {\n        var program = new UnaryOpProgram(x.shape, unary_op.SIGN);\n        return this.compileAndRun(program, [x]);\n    };\n    MathBackendWebGL.prototype.round = function (x) {\n        var program = new UnaryOpProgram(x.shape, unary_op.ROUND);\n        return this.compileAndRun(program, [x]);\n    };\n    MathBackendWebGL.prototype.exp = function (x) {\n        var program = new UnaryOpProgram(x.shape, unary_op.EXP);\n        return this.compileAndRun(program, [x]);\n    };\n    MathBackendWebGL.prototype.expm1 = function (x) {\n        var program = new UnaryOpProgram(x.shape, unary_op.EXPM1);\n        return this.compileAndRun(program, [x]);\n    };\n    MathBackendWebGL.prototype.log = function (x) {\n        var program = new UnaryOpProgram(x.shape, unary_op.LOG);\n        return this.compileAndRun(program, [x]);\n    };\n    MathBackendWebGL.prototype.log1p = function (x) {\n        var program = new UnaryOpProgram(x.shape, unary_op.LOG1P);\n        return this.compileAndRun(program, [x]);\n    };\n    MathBackendWebGL.prototype.sqrt = function (x) {\n        var program = new UnaryOpProgram(x.shape, unary_op.SQRT);\n        return this.compileAndRun(program, [x]);\n    };\n    MathBackendWebGL.prototype.rsqrt = function (x) {\n        var program = new UnaryOpProgram(x.shape, unary_op.RSQRT);\n        return this.compileAndRun(program, [x]);\n    };\n    MathBackendWebGL.prototype.square = function (x) {\n        var program = new UnaryOpProgram(x.shape, unary_op.SQUARE);\n        return this.compileAndRun(program, [x]);\n    };\n    MathBackendWebGL.prototype.reciprocal = function (x) {\n        var program = new UnaryOpProgram(x.shape, unary_op.RECIPROCAL);\n        return this.compileAndRun(program, [x]);\n    };\n    MathBackendWebGL.prototype.relu = function (x) {\n        var program = new UnaryOpProgram(x.shape, unary_op.RELU);\n        return this.compileAndRun(program, [x]);\n    };\n    MathBackendWebGL.prototype.elu = function (x) {\n        var program = new UnaryOpProgram(x.shape, unary_op.ELU);\n        return this.compileAndRun(program, [x]);\n    };\n    MathBackendWebGL.prototype.eluDer = function (dy, y) {\n        var program = new BinaryOpProgram(binaryop_gpu.ELU_DER, dy.shape, y.shape);\n        return this.compileAndRun(program, [dy, y]);\n    };\n    MathBackendWebGL.prototype.selu = function (x) {\n        var program = new UnaryOpProgram(x.shape, unary_op.SELU);\n        return this.compileAndRun(program, [x]);\n    };\n    MathBackendWebGL.prototype.int = function (x) {\n        var program = new UnaryOpProgram(x.shape, unary_op.TO_INT);\n        var output = this.makeOutputArray(program.outputShape, 'int32');\n        return this.compileAndRun(program, [x], output);\n    };\n    MathBackendWebGL.prototype.clip = function (x, min, max) {\n        var program = new ClipProgram(x.shape, min, max);\n        return this.compileAndRun(program, [x]);\n    };\n    MathBackendWebGL.prototype.abs = function (x) {\n        var program = new UnaryOpProgram(x.shape, unary_op.ABS);\n        return this.compileAndRun(program, [x]);\n    };\n    MathBackendWebGL.prototype.sigmoid = function (x) {\n        var program = new UnaryOpProgram(x.shape, unary_op.SIGMOID);\n        return this.compileAndRun(program, [x]);\n    };\n    MathBackendWebGL.prototype.softplus = function (x) {\n        var program = new UnaryOpProgram(x.shape, unary_op.SOFTPLUS);\n        return this.compileAndRun(program, [x]);\n    };\n    MathBackendWebGL.prototype.sin = function (x) {\n        var program = new UnaryOpProgram(x.shape, unary_op.SIN);\n        return this.compileAndRun(program, [x]);\n    };\n    MathBackendWebGL.prototype.cos = function (x) {\n        var program = new UnaryOpProgram(x.shape, unary_op.COS);\n        return this.compileAndRun(program, [x]);\n    };\n    MathBackendWebGL.prototype.tan = function (x) {\n        var program = new UnaryOpProgram(x.shape, unary_op.TAN);\n        return this.compileAndRun(program, [x]);\n    };\n    MathBackendWebGL.prototype.asin = function (x) {\n        var program = new UnaryOpProgram(x.shape, unary_op.ASIN);\n        return this.compileAndRun(program, [x]);\n    };\n    MathBackendWebGL.prototype.acos = function (x) {\n        var program = new UnaryOpProgram(x.shape, unary_op.ACOS);\n        return this.compileAndRun(program, [x]);\n    };\n    MathBackendWebGL.prototype.atan = function (x) {\n        var program = new UnaryOpProgram(x.shape, unary_op.ATAN);\n        return this.compileAndRun(program, [x]);\n    };\n    MathBackendWebGL.prototype.atan2 = function (a, b) {\n        var program = new BinaryOpProgram(binaryop_gpu.ATAN2, a.shape, b.shape);\n        return this.compileAndRun(program, [a, b]);\n    };\n    MathBackendWebGL.prototype.sinh = function (x) {\n        var program = new UnaryOpProgram(x.shape, unary_op.SINH);\n        return this.compileAndRun(program, [x]);\n    };\n    MathBackendWebGL.prototype.cosh = function (x) {\n        var program = new UnaryOpProgram(x.shape, unary_op.COSH);\n        return this.compileAndRun(program, [x]);\n    };\n    MathBackendWebGL.prototype.tanh = function (x) {\n        var program = new UnaryOpProgram(x.shape, unary_op.TANH);\n        return this.compileAndRun(program, [x]);\n    };\n    MathBackendWebGL.prototype.asinh = function (x) {\n        var program = new UnaryOpProgram(x.shape, unary_op.ASINH);\n        return this.compileAndRun(program, [x]);\n    };\n    MathBackendWebGL.prototype.acosh = function (x) {\n        var program = new UnaryOpProgram(x.shape, unary_op.ACOSH);\n        return this.compileAndRun(program, [x]);\n    };\n    MathBackendWebGL.prototype.atanh = function (x) {\n        var program = new UnaryOpProgram(x.shape, unary_op.ATANH);\n        return this.compileAndRun(program, [x]);\n    };\n    MathBackendWebGL.prototype.erf = function (x) {\n        var program = new UnaryOpProgram(x.shape, unary_op.ERF);\n        return this.compileAndRun(program, [x]);\n    };\n    MathBackendWebGL.prototype.step = function (x, alpha) {\n        var program = new UnaryOpProgram(x.shape, unary_op.STEP(alpha));\n        return this.compileAndRun(program, [x]);\n    };\n    MathBackendWebGL.prototype.conv2d = function (x, filter, convInfo) {\n        var program = new Conv2DProgram(convInfo);\n        return this.compileAndRun(program, [x, filter]);\n    };\n    MathBackendWebGL.prototype.conv2dDerInput = function (dy, filter, convInfo) {\n        var program = new Conv2DDerInputProgram(convInfo);\n        return this.compileAndRun(program, [dy, filter]);\n    };\n    MathBackendWebGL.prototype.conv2dDerFilter = function (x, dy, convInfo) {\n        var program = new Conv2DDerFilterProgram(convInfo);\n        return this.compileAndRun(program, [x, dy]);\n    };\n    MathBackendWebGL.prototype.depthwiseConv2D = function (x, filter, convInfo) {\n        var program = new DepthwiseConv2DProgram(convInfo);\n        return this.compileAndRun(program, [x, filter]);\n    };\n    MathBackendWebGL.prototype.maxPool = function (x, convInfo) {\n        var program = new Pool2DProgram(convInfo, 'max', false);\n        var output = this.makeOutputArray(program.outputShape, x.dtype);\n        return this.compileAndRun(program, [x], output);\n    };\n    MathBackendWebGL.prototype.avgPool = function (x, convInfo) {\n        var program = new Pool2DProgram(convInfo, 'avg', false);\n        var output = this.makeOutputArray(program.outputShape, 'float32');\n        return this.compileAndRun(program, [x], output);\n    };\n    MathBackendWebGL.prototype.maxPoolBackprop = function (dy, x, y, convInfo) {\n        var getPositions = true;\n        var maxPoolPositionsProgram = new Pool2DProgram(convInfo, 'max', getPositions);\n        var maxPoolPositions = this.compileAndRun(maxPoolPositionsProgram, [x]);\n        var maxPoolBackPropProgram = new MaxPool2DBackpropProgram(convInfo);\n        var output = this.makeOutputArray(maxPoolBackPropProgram.outputShape, x.dtype);\n        var result = this.compileAndRun(maxPoolBackPropProgram, [dy, maxPoolPositions], output);\n        maxPoolPositions.dispose();\n        return result;\n    };\n    MathBackendWebGL.prototype.avgPoolBackprop = function (dy, x, convInfo) {\n        var avgPoolBackpropProgram = new AvgPool2DBackpropProgram(convInfo);\n        var output = this.makeOutputArray(avgPoolBackpropProgram.outputShape, x.dtype);\n        return this.compileAndRun(avgPoolBackpropProgram, [dy], output);\n    };\n    MathBackendWebGL.prototype.cast = function (x, dtype) {\n        return backend_util.castTensor(x, dtype, this);\n    };\n    MathBackendWebGL.prototype.reshape = function (x, shape) {\n        return backend_util.reshapeTensor(x, shape);\n    };\n    MathBackendWebGL.prototype.resizeBilinear = function (x, newHeight, newWidth, alignCorners) {\n        var program = new ResizeBilinearProgram(x.shape, newHeight, newWidth, alignCorners);\n        return this.compileAndRun(program, [x]);\n    };\n    MathBackendWebGL.prototype.resizeBilinearBackprop = function (dy, x, alignCorners) {\n        var program = new ResizeBilinearBackpropProgram(dy, x, alignCorners);\n        return this.compileAndRun(program, [dy]);\n    };\n    MathBackendWebGL.prototype.resizeNearestNeighbor = function (x, newHeight, newWidth, alignCorners) {\n        var program = new ResizeNearestNeighborProgram(x.shape, newHeight, newWidth, alignCorners);\n        return this.compileAndRun(program, [x]);\n    };\n    MathBackendWebGL.prototype.multinomial = function (logits, normalized, numSamples, seed) {\n        var probs = normalized ? logits : ops.softmax(logits);\n        var batchSize = probs.shape[0];\n        var numOutcomes = probs.shape[1];\n        var program = new MultinomialProgram(batchSize, numOutcomes, numSamples);\n        var output = this.makeOutputArray(program.outputShape, 'int32');\n        var customSetup = program.getCustomSetupFunc(seed);\n        return this.compileAndRun(program, [probs], output, customSetup);\n    };\n    MathBackendWebGL.prototype.oneHot = function (indices, depth, onValue, offValue) {\n        var program = new OneHotProgram(indices.size, depth, onValue, offValue);\n        return this.compileAndRun(program, [indices]);\n    };\n    MathBackendWebGL.prototype.makeOutputArray = function (shape, dtype) {\n        return Tensor.make(shape, {}, dtype);\n    };\n    MathBackendWebGL.prototype.compileAndRun = function (program, inputs, output, customSetup) {\n        var _this = this;\n        if (output == null) {\n            output = this.makeOutputArray(program.outputShape, inputs[0].dtype);\n        }\n        var inputsData = inputs.map(function (input) {\n            _this.uploadToGPU(input.dataId);\n            return { tensor: input, texData: _this.texData.get(input.dataId) };\n        });\n        this.uploadToGPU(output.dataId);\n        var outputData = {\n            tensor: output,\n            texData: this.texData.get(output.dataId)\n        };\n        var key = gpgpu_math.makeShaderKey(program, inputsData, outputData);\n        var binary = this.getAndSaveBinary(key, function () {\n            return gpgpu_math.compileProgram(_this.gpgpu, program, inputsData, outputData);\n        });\n        var shouldTimeProgram = this.activeTimers != null;\n        var query;\n        if (shouldTimeProgram) {\n            query = this.startTimer();\n        }\n        gpgpu_math.runProgram(binary, inputsData, outputData, customSetup);\n        if (shouldTimeProgram) {\n            query = this.endTimer(query);\n            this.activeTimers.push(this.getQueryTime(query));\n        }\n        return output;\n    };\n    MathBackendWebGL.prototype.getAndSaveBinary = function (key, getBinary) {\n        if (!(key in this.binaryCache)) {\n            this.binaryCache[key] = getBinary();\n        }\n        return this.binaryCache[key];\n    };\n    MathBackendWebGL.prototype.getTextureManager = function () {\n        return this.textureManager;\n    };\n    MathBackendWebGL.prototype.dispose = function () {\n        if (this.disposed) {\n            return;\n        }\n        for (var key in this.binaryCache) {\n            this.gpgpu.deleteProgram(this.binaryCache[key].webGLProgram);\n        }\n        this.textureManager.dispose();\n        this.canvas.remove();\n        if (this.gpgpuCreatedLocally) {\n            this.gpgpu.dispose();\n        }\n        this.disposed = true;\n    };\n    MathBackendWebGL.prototype.throwIfNoData = function (dataId) {\n        if (!this.texData.has(dataId)) {\n            throw new Error(\"WebGL backend: No data found for this tensor. \" +\n                \"Did you change your backend in the middle of the program? \" +\n                \"New backends can't use Tensors created with previous backends\");\n        }\n    };\n    MathBackendWebGL.prototype.uploadToGPU = function (dataId) {\n        this.throwIfNoData(dataId);\n        var texData = this.texData.get(dataId);\n        var shape = texData.shape, values = texData.values, texture = texData.texture, dtype = texData.dtype, texType = texData.texType;\n        if (texture != null) {\n            return;\n        }\n        var shouldTimeProgram = this.activeTimers != null;\n        var start;\n        if (shouldTimeProgram) {\n            start = performance.now();\n        }\n        var texShape = webgl_util.getTextureShapeFromLogicalShape(this.gpgpu.gl, shape);\n        texData.texShape = texShape;\n        var newTexture = this.textureManager.acquireTexture(texShape, texType);\n        texData.texture = newTexture;\n        if (values != null) {\n            this.gpgpu.uploadMatrixToTexture(newTexture, texShape[0], texShape[1], typedArrayToFloat32(values, dtype));\n            texData.values = null;\n            if (shouldTimeProgram) {\n                this.uploadWaitMs += performance.now() - start;\n            }\n        }\n    };\n    MathBackendWebGL.prototype.cacheOnCPU = function (dataId, float32Values) {\n        var dontKeepCopyOnGPU = this.delayedStorage;\n        var texData = this.texData.get(dataId);\n        var texture = texData.texture, texShape = texData.texShape, dtype = texData.dtype, texType = texData.texType;\n        if (dontKeepCopyOnGPU && texture != null) {\n            this.textureManager.releaseTexture(texture, texShape, texType);\n            texData.texture = null;\n            texData.texShape = null;\n        }\n        if (float32Values != null) {\n            texData.values = float32ToTypedArray(float32Values, dtype);\n        }\n    };\n    return MathBackendWebGL;\n}());\nexport { MathBackendWebGL };\nENV.registerBackend('webgl', function () { return new MathBackendWebGL(); }, 2);\nfunction float32ToTypedArray(a, dtype) {\n    if (dtype === 'float32') {\n        return a;\n    }\n    else if (dtype === 'int32' || dtype === 'bool') {\n        var result = (dtype === 'int32') ? new Int32Array(a.length) :\n            new Uint8Array(a.length);\n        for (var i = 0; i < result.length; ++i) {\n            result[i] = Math.round(a[i]);\n        }\n        return result;\n    }\n    else {\n        throw new Error(\"Unknown dtype \" + dtype);\n    }\n}\nfunction typedArrayToFloat32(a, dtype) {\n    return (a instanceof Float32Array) ? a : new Float32Array(a);\n}\n//# sourceMappingURL=backend_webgl.js.map","var __awaiter = (this && this.__awaiter) || function (thisArg, _arguments, P, generator) {\n    return new (P || (P = Promise))(function (resolve, reject) {\n        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\n        function rejected(value) { try { step(generator[\"throw\"](value)); } catch (e) { reject(e); } }\n        function step(result) { result.done ? resolve(result.value) : new P(function (resolve) { resolve(result.value); }).then(fulfilled, rejected); }\n        step((generator = generator.apply(thisArg, _arguments || [])).next());\n    });\n};\nvar __generator = (this && this.__generator) || function (thisArg, body) {\n    var _ = { label: 0, sent: function() { if (t[0] & 1) throw t[1]; return t[1]; }, trys: [], ops: [] }, f, y, t, g;\n    return g = { next: verb(0), \"throw\": verb(1), \"return\": verb(2) }, typeof Symbol === \"function\" && (g[Symbol.iterator] = function() { return this; }), g;\n    function verb(n) { return function (v) { return step([n, v]); }; }\n    function step(op) {\n        if (f) throw new TypeError(\"Generator is already executing.\");\n        while (_) try {\n            if (f = 1, y && (t = y[op[0] & 2 ? \"return\" : op[0] ? \"throw\" : \"next\"]) && !(t = t.call(y, op[1])).done) return t;\n            if (y = 0, t) op = [0, t.value];\n            switch (op[0]) {\n                case 0: case 1: t = op; break;\n                case 4: _.label++; return { value: op[1], done: false };\n                case 5: _.label++; y = op[1]; op = [0]; continue;\n                case 7: op = _.ops.pop(); _.trys.pop(); continue;\n                default:\n                    if (!(t = _.trys, t = t.length > 0 && t[t.length - 1]) && (op[0] === 6 || op[0] === 2)) { _ = 0; continue; }\n                    if (op[0] === 3 && (!t || (op[1] > t[0] && op[1] < t[3]))) { _.label = op[1]; break; }\n                    if (op[0] === 6 && _.label < t[1]) { _.label = t[1]; t = op; break; }\n                    if (t && _.label < t[2]) { _.label = t[2]; _.ops.push(op); break; }\n                    if (t[2]) _.ops.pop();\n                    _.trys.pop(); continue;\n            }\n            op = body.call(thisArg, _);\n        } catch (e) { op = [6, e]; y = 0; } finally { f = t = 0; }\n        if (op[0] & 5) throw op[1]; return { value: op[0] ? op[1] : void 0, done: true };\n    }\n};\nimport * as seedrandom from 'seedrandom';\nimport { ENV } from '../environment';\nimport * as axis_util from '../ops/axis_util';\nimport * as broadcast_util from '../ops/broadcast_util';\nimport * as concat_util from '../ops/concat_util';\nimport * as erf_util from '../ops/erf_util';\nimport * as ops from '../ops/ops';\nimport { buffer, tensor3d, tensor4d } from '../ops/ops';\nimport * as selu_util from '../ops/selu_util';\nimport { getStridedSlicedInfo } from '../ops/slice_util';\nimport { Tensor } from '../tensor';\nimport * as types from '../types';\nimport * as util from '../util';\nimport * as backend_util from './backend_util';\nvar MathBackendCPU = (function () {\n    function MathBackendCPU() {\n        this.data = new WeakMap();\n        if (typeof document !== 'undefined') {\n            this.canvas = document.createElement('canvas');\n        }\n    }\n    MathBackendCPU.prototype.register = function (dataId, shape, dtype) {\n        if (this.data.has(dataId)) {\n            throw new Error(\"Data buffer is already registered\");\n        }\n        this.data.set(dataId, null);\n    };\n    MathBackendCPU.prototype.write = function (dataId, values) {\n        if (values == null) {\n            throw new Error('MathBackendCPU.write(): values can not be null');\n        }\n        this.throwIfNoData(dataId);\n        this.data.set(dataId, values);\n    };\n    MathBackendCPU.prototype.fromPixels = function (pixels, numChannels) {\n        if (pixels == null) {\n            throw new Error('MathBackendCPU.writePixels(): pixels can not be null');\n        }\n        var vals;\n        if (pixels instanceof ImageData) {\n            vals = pixels.data;\n        }\n        else if (pixels instanceof HTMLCanvasElement) {\n            vals = pixels.getContext('2d')\n                .getImageData(0, 0, pixels.width, pixels.height)\n                .data;\n        }\n        else if (pixels instanceof HTMLImageElement ||\n            pixels instanceof HTMLVideoElement) {\n            if (this.canvas == null) {\n                throw new Error('Can\\'t read pixels from HTMLImageElement outside ' +\n                    'the browser.');\n            }\n            this.canvas.width = pixels.width;\n            this.canvas.height = pixels.height;\n            this.canvas.getContext('2d').drawImage(pixels, 0, 0, pixels.width, pixels.height);\n            vals = this.canvas.getContext('2d')\n                .getImageData(0, 0, pixels.width, pixels.height)\n                .data;\n        }\n        else {\n            throw new Error(\"pixels is of unknown type: \" + pixels.constructor.name);\n        }\n        var values;\n        if (numChannels === 4) {\n            values = new Int32Array(vals);\n        }\n        else {\n            var numPixels = pixels.width * pixels.height;\n            values = new Int32Array(numPixels * numChannels);\n            for (var i = 0; i < numPixels; i++) {\n                for (var channel = 0; channel < numChannels; ++channel) {\n                    values[i * numChannels + channel] = vals[i * 4 + channel];\n                }\n            }\n        }\n        var outShape = [pixels.height, pixels.width, numChannels];\n        return tensor3d(values, outShape, 'int32');\n    };\n    MathBackendCPU.prototype.read = function (dataId) {\n        return __awaiter(this, void 0, void 0, function () {\n            return __generator(this, function (_a) {\n                return [2, this.readSync(dataId)];\n            });\n        });\n    };\n    MathBackendCPU.prototype.readSync = function (dataId) {\n        this.throwIfNoData(dataId);\n        return this.data.get(dataId);\n    };\n    MathBackendCPU.prototype.disposeData = function (dataId) {\n        if (this.data.has(dataId)) {\n            this.data.delete(dataId);\n        }\n    };\n    MathBackendCPU.prototype.time = function (f) {\n        return __awaiter(this, void 0, void 0, function () {\n            var start, kernelMs;\n            return __generator(this, function (_a) {\n                start = performance.now();\n                f();\n                kernelMs = performance.now() - start;\n                return [2, { kernelMs: kernelMs }];\n            });\n        });\n    };\n    MathBackendCPU.prototype.memory = function () {\n        return {\n            unreliable: true\n        };\n    };\n    MathBackendCPU.prototype.throwIfNoData = function (dataId) {\n        if (!this.data.has(dataId)) {\n            throw new Error(\"CPU backend: No data found for this tensor. \" +\n                \"Did you change your backend in the middle of the program? \" +\n                \"New backends can't use Tensors created with previous backends\");\n        }\n    };\n    MathBackendCPU.prototype.slice = function (x, begin, size) {\n        var buffer = ops.buffer(size, x.dtype);\n        for (var i = 0; i < buffer.size; ++i) {\n            var loc = buffer.indexToLoc(i);\n            var xLoc = loc.map(function (idx, j) { return idx + begin[j]; });\n            buffer.set.apply(buffer, [x.get.apply(x, xLoc)].concat(loc));\n        }\n        return buffer.toTensor();\n    };\n    MathBackendCPU.prototype.stridedSlice = function (x, begin, end, strides, beginMask, endMask) {\n        var _a = getStridedSlicedInfo(x.shape, begin, end, strides, beginMask, endMask), beginIndex = _a[0], size = _a[1];\n        if (size.some(function (axis) { return axis === 0; })) {\n            return ops.tensor([], size);\n        }\n        var buffer = ops.buffer(size, x.dtype);\n        for (var i = 0; i < buffer.size; i++) {\n            var loc = buffer.indexToLoc(i);\n            var newLoc = new Array(loc.length);\n            for (var j = 0; j < newLoc.length; j++) {\n                newLoc[j] = loc[j] * strides[j] + beginIndex[j];\n            }\n            buffer.set.apply(buffer, [x.get.apply(x, newLoc)].concat(loc));\n        }\n        return buffer.toTensor();\n    };\n    MathBackendCPU.prototype.reverse = function (x, axis) {\n        var buffer = ops.buffer(x.shape, x.dtype);\n        var xBuffer = x.buffer();\n        var _loop_1 = function (i) {\n            var outLoc = buffer.indexToLoc(i);\n            var inLoc = outLoc.slice();\n            axis.forEach(function (ax) { return inLoc[ax] = x.shape[ax] - 1 - inLoc[ax]; });\n            buffer.set.apply(buffer, [xBuffer.get.apply(xBuffer, inLoc)].concat(outLoc));\n        };\n        for (var i = 0; i < buffer.size; i++) {\n            _loop_1(i);\n        }\n        return buffer.toTensor();\n    };\n    MathBackendCPU.prototype.concat = function (a, b) {\n        var outShape = concat_util.computeOutShape(a.shape, b.shape, 1);\n        var buffer = ops.buffer(outShape, a.dtype);\n        if (a.shape[0] === 1 && b.shape[0] === 1) {\n            var aVals = a.dataSync();\n            var bVals = b.dataSync();\n            var vals = buffer.values;\n            vals.set(aVals, 0);\n            vals.set(bVals, a.size);\n            return buffer.toTensor();\n        }\n        for (var i = 0; i < outShape[0]; ++i) {\n            for (var j = 0; j < a.shape[1]; ++j) {\n                buffer.set(a.get(i, j), i, j);\n            }\n            for (var j = 0; j < b.shape[1]; ++j) {\n                buffer.set(b.get(i, j), i, j + a.shape[1]);\n            }\n        }\n        return buffer.toTensor();\n    };\n    MathBackendCPU.prototype.neg = function (x) {\n        return this.multiply(ops.scalar(-1), x);\n    };\n    MathBackendCPU.prototype.add = function (a, b) {\n        return this.broadcastedBinaryOp(a, b, types.upcastType(a.dtype, b.dtype), function (aValue, bValue) { return aValue + bValue; });\n    };\n    MathBackendCPU.prototype.subtract = function (a, b) {\n        return this.broadcastedBinaryOp(a, b, types.upcastType(a.dtype, b.dtype), function (aValue, bValue) { return aValue - bValue; });\n    };\n    MathBackendCPU.prototype.pow = function (a, b) {\n        return this.broadcastedBinaryOp(a, b, a.dtype, function (aValue, bValue) { return Math.pow(aValue, bValue); });\n    };\n    MathBackendCPU.prototype.matMul = function (a, b, transposeA, transposeB) {\n        var sharedDim = transposeA ? a.shape[0] : a.shape[1];\n        var leftDim = transposeA ? a.shape[1] : a.shape[0];\n        var rightDim = transposeB ? b.shape[0] : b.shape[1];\n        var aValues = a.dataSync();\n        var bValues = b.dataSync();\n        var _a = transposeA ? [1, a.strides[0]] : [a.strides[0], 1], aOuterStep = _a[0], aInnerStep = _a[1];\n        var _b = transposeB ? [b.strides[0], 1] : [1, b.strides[0]], bOuterStep = _b[0], bInnerStep = _b[1];\n        var aOuterEnd = leftDim * aOuterStep;\n        var bOuterEnd = rightDim * bOuterStep;\n        var result = new Float32Array(leftDim * rightDim);\n        var resultIndex = 0;\n        for (var aOuter = 0; aOuter < aOuterEnd; aOuter += aOuterStep) {\n            for (var bOuter = 0; bOuter < bOuterEnd; bOuter += bOuterStep) {\n                var aInner = aOuter;\n                var bInner = bOuter;\n                var sum = 0;\n                for (var k = 0; k < sharedDim; ++k) {\n                    sum += aValues[aInner] * bValues[bInner];\n                    aInner += aInnerStep;\n                    bInner += bInnerStep;\n                }\n                result[resultIndex++] = sum;\n            }\n        }\n        return ops.tensor2d(result, [leftDim, rightDim]);\n    };\n    MathBackendCPU.prototype.multiply = function (a, b) {\n        return this.broadcastedBinaryOp(a, b, types.upcastType(a.dtype, b.dtype), function (aValue, bValue) { return aValue * bValue; });\n    };\n    MathBackendCPU.prototype.divide = function (a, b) {\n        var op;\n        var outputDtype;\n        if (a.dtype === 'int32' && b.dtype === 'int32') {\n            outputDtype = 'int32';\n            op = function (a, b) { return Math.floor(a / b); };\n        }\n        else {\n            outputDtype = 'float32';\n            op = function (a, b) { return a / b; };\n        }\n        return this.broadcastedBinaryOp(a, b, outputDtype, op);\n    };\n    MathBackendCPU.prototype.sum = function (x, axes) {\n        axis_util.assertAxesAreInnerMostDims('sum', axes, x.rank);\n        var _a = axis_util.computeOutAndReduceShapes(x.shape, axes), outShape = _a[0], reduceShape = _a[1];\n        var resultDtype = types.upcastType(x.dtype, 'int32');\n        var result = ops.zeros(outShape, resultDtype);\n        var reduceSize = util.sizeFromShape(reduceShape);\n        var vals = result.dataSync();\n        var aVals = x.dataSync();\n        for (var i = 0; i < vals.length; ++i) {\n            var offset = i * reduceSize;\n            var sum = 0;\n            for (var j = 0; j < reduceSize; ++j) {\n                sum += aVals[offset + j];\n            }\n            vals[i] = sum;\n        }\n        return result;\n    };\n    MathBackendCPU.prototype.argMin = function (x, axis) {\n        var axes = [axis];\n        axis_util.assertAxesAreInnerMostDims('argMin', axes, x.rank);\n        var _a = axis_util.computeOutAndReduceShapes(x.shape, axes), outShape = _a[0], reduceShape = _a[1];\n        var result = ops.zeros(outShape, 'int32');\n        var reduceSize = util.sizeFromShape(reduceShape);\n        var vals = result.dataSync();\n        var aVals = x.dataSync();\n        for (var i = 0; i < vals.length; ++i) {\n            var offset = i * reduceSize;\n            var min = aVals[offset];\n            var minIndex = 0;\n            for (var j = 0; j < reduceSize; ++j) {\n                var value = aVals[offset + j];\n                if (value < min) {\n                    min = value;\n                    minIndex = j;\n                }\n            }\n            vals[i] = minIndex;\n        }\n        return result;\n    };\n    MathBackendCPU.prototype.argMax = function (x, axis) {\n        var axes = [axis];\n        axis_util.assertAxesAreInnerMostDims('argMax', axes, x.rank);\n        var _a = axis_util.computeOutAndReduceShapes(x.shape, axes), outShape = _a[0], reduceShape = _a[1];\n        var result = ops.zeros(outShape, 'int32');\n        var reduceSize = util.sizeFromShape(reduceShape);\n        var vals = result.dataSync();\n        var aVals = x.dataSync();\n        for (var i = 0; i < vals.length; ++i) {\n            var offset = i * reduceSize;\n            var max = aVals[offset];\n            var maxIndex = 0;\n            for (var j = 0; j < reduceSize; ++j) {\n                var value = aVals[offset + j];\n                if (value > max) {\n                    max = value;\n                    maxIndex = j;\n                }\n            }\n            vals[i] = maxIndex;\n        }\n        return result;\n    };\n    MathBackendCPU.prototype.cumsum = function (x, axis, exclusive, reverse) {\n        var resultDtype = types.upcastType(x.dtype, 'int32');\n        var result = ops.zeros(x.shape, resultDtype);\n        var vals = result.dataSync();\n        var aVals = x.dataSync();\n        var finalDim = x.shape[x.rank - 1];\n        var indexAdjuster = reverse ?\n            function (i, j) { return i + finalDim - j - 1; } :\n            function (i, j) { return i + j; };\n        for (var i = 0; i < aVals.length; i += finalDim) {\n            for (var j = 0; j < finalDim; j++) {\n                var idx = indexAdjuster(i, j);\n                if (j === 0) {\n                    vals[idx] = exclusive ? 0 : aVals[idx];\n                }\n                else {\n                    var prevIdx = indexAdjuster(i, j - 1);\n                    vals[idx] = exclusive ? aVals[prevIdx] + vals[prevIdx] :\n                        aVals[idx] + vals[prevIdx];\n                }\n            }\n        }\n        return result;\n    };\n    MathBackendCPU.prototype.equal = function (a, b) {\n        return this.broadcastedBinaryOp(a, b, 'bool', function (aVal, bVal) {\n            return (aVal === bVal) ? 1 : 0;\n        });\n    };\n    MathBackendCPU.prototype.notEqual = function (a, b) {\n        return this.broadcastedBinaryOp(a, b, 'bool', function (aVal, bVal) {\n            return (aVal !== bVal) ? 1 : 0;\n        });\n    };\n    MathBackendCPU.prototype.less = function (a, b) {\n        return this.broadcastedBinaryOp(a, b, 'bool', function (aVal, bVal) {\n            return (aVal < bVal) ? 1 : 0;\n        });\n    };\n    MathBackendCPU.prototype.lessEqual = function (a, b) {\n        return this.broadcastedBinaryOp(a, b, 'bool', function (aVal, bVal) {\n            return (aVal <= bVal) ? 1 : 0;\n        });\n    };\n    MathBackendCPU.prototype.greater = function (a, b) {\n        return this.broadcastedBinaryOp(a, b, 'bool', function (aVal, bVal) {\n            return (aVal > bVal) ? 1 : 0;\n        });\n    };\n    MathBackendCPU.prototype.greaterEqual = function (a, b) {\n        return this.broadcastedBinaryOp(a, b, 'bool', function (aVal, bVal) {\n            return (aVal >= bVal) ? 1 : 0;\n        });\n    };\n    MathBackendCPU.prototype.logicalNot = function (x) {\n        var values = x.dataSync();\n        var newValues = new Int32Array(values.length);\n        for (var i = 0; i < values.length; ++i) {\n            newValues[i] = values[i] ? 0 : 1;\n        }\n        return Tensor.make(x.shape, { values: newValues }, 'bool');\n    };\n    MathBackendCPU.prototype.logicalAnd = function (a, b) {\n        return this.broadcastedBinaryOp(a, b, 'bool', function (aVal, bVal) {\n            return aVal && bVal;\n        });\n    };\n    MathBackendCPU.prototype.logicalOr = function (a, b) {\n        return this.broadcastedBinaryOp(a, b, 'bool', function (aVal, bVal) {\n            return aVal || bVal;\n        });\n    };\n    MathBackendCPU.prototype.where = function (condition, a, b, dtype) {\n        var values = condition.dataSync();\n        var aValues = a.dataSync();\n        var bValues = b.dataSync();\n        var result = ops.zeros(a.shape, dtype);\n        var newValues = result.dataSync();\n        var index = 0;\n        var offset = condition.rank === 0 || condition.rank > 1 || a.rank === 1 ?\n            1 :\n            a.shape[1];\n        for (var i = 0; i < values.length; i++) {\n            for (var j = 0; j < offset; j++) {\n                if (values[i] === 1) {\n                    newValues[index++] = aValues[i];\n                }\n                else {\n                    newValues[index++] = bValues[i];\n                }\n            }\n        }\n        return result;\n    };\n    MathBackendCPU.prototype.topKValues = function (x, k) {\n        return this.topK(x, k).values;\n    };\n    MathBackendCPU.prototype.topKIndices = function (x, k) {\n        return this.topK(x, k).indices;\n    };\n    MathBackendCPU.prototype.topK = function (x, k) {\n        var values = x.dataSync();\n        var valuesAndIndices = [];\n        for (var i = 0; i < values.length; i++) {\n            valuesAndIndices.push({ value: values[i], index: i });\n        }\n        valuesAndIndices.sort(function (a, b) {\n            return b.value - a.value;\n        });\n        var topkValues = util.getTypedArrayFromDType(x.dtype, k);\n        var topkIndices = new Int32Array(k);\n        for (var i = 0; i < k; i++) {\n            topkValues[i] = valuesAndIndices[i].value;\n            topkIndices[i] = valuesAndIndices[i].index;\n        }\n        return {\n            values: ops.tensor1d(topkValues, x.dtype),\n            indices: ops.tensor1d(topkIndices, 'int32')\n        };\n    };\n    MathBackendCPU.prototype.min = function (x, axes) {\n        axis_util.assertAxesAreInnerMostDims('min', axes, x.rank);\n        var _a = axis_util.computeOutAndReduceShapes(x.shape, axes), outShape = _a[0], reduceShape = _a[1];\n        var result = ops.zeros(outShape, x.dtype);\n        var reduceSize = util.sizeFromShape(reduceShape);\n        var vals = result.dataSync();\n        var aVals = x.dataSync();\n        for (var i = 0; i < vals.length; ++i) {\n            var offset = i * reduceSize;\n            var min = aVals[0];\n            for (var j = 0; j < reduceSize; ++j) {\n                var value = aVals[offset + j];\n                if (value < min) {\n                    min = value;\n                }\n            }\n            vals[i] = min;\n        }\n        return result;\n    };\n    MathBackendCPU.prototype.minimum = function (a, b) {\n        return this.broadcastedBinaryOp(a, b, a.dtype, function (aVal, bVal) { return Math.min(aVal, bVal); });\n    };\n    MathBackendCPU.prototype.mod = function (a, b) {\n        return this.broadcastedBinaryOp(a, b, a.dtype, function (aVal, bVal) {\n            var rem = aVal % bVal;\n            if ((aVal < 0 && bVal < 0) || (aVal >= 0 && bVal >= 0)) {\n                return rem;\n            }\n            else {\n                return (rem + bVal) % bVal;\n            }\n        });\n    };\n    MathBackendCPU.prototype.max = function (x, axes) {\n        axis_util.assertAxesAreInnerMostDims('max', axes, x.rank);\n        var _a = axis_util.computeOutAndReduceShapes(x.shape, axes), outShape = _a[0], reduceShape = _a[1];\n        var result = ops.zeros(outShape, x.dtype);\n        var reduceSize = util.sizeFromShape(reduceShape);\n        var vals = result.dataSync();\n        var aVals = x.dataSync();\n        for (var i = 0; i < vals.length; ++i) {\n            var offset = i * reduceSize;\n            var max = aVals[offset];\n            for (var j = 0; j < reduceSize; ++j) {\n                var value = aVals[offset + j];\n                if (value > max) {\n                    max = value;\n                }\n            }\n            vals[i] = max;\n        }\n        return result;\n    };\n    MathBackendCPU.prototype.maximum = function (a, b) {\n        return this.broadcastedBinaryOp(a, b, a.dtype, function (aVal, bVal) { return Math.max(aVal, bVal); });\n    };\n    MathBackendCPU.prototype.squaredDifference = function (a, b) {\n        return this.broadcastedBinaryOp(a, b, a.dtype, function (aVal, bVal) {\n            var diff = aVal - bVal;\n            return diff * diff;\n        });\n    };\n    MathBackendCPU.prototype.ceil = function (x) {\n        var values = x.dataSync();\n        var newValues = new Float32Array(values.length);\n        for (var i = 0; i < values.length; ++i) {\n            newValues[i] = Math.ceil(values[i]);\n        }\n        return Tensor.make(x.shape, { values: newValues });\n    };\n    MathBackendCPU.prototype.floor = function (x) {\n        var values = x.dataSync();\n        var newValues = new Float32Array(values.length);\n        for (var i = 0; i < values.length; ++i) {\n            newValues[i] = Math.floor(values[i]);\n        }\n        return Tensor.make(x.shape, { values: newValues });\n    };\n    MathBackendCPU.prototype.sign = function (x) {\n        var values = x.dataSync();\n        var newValues = new Float32Array(values.length);\n        for (var i = 0; i < values.length; ++i) {\n            if (values[i] < 0) {\n                newValues[i] = -1;\n            }\n            else if (values[i] > 0) {\n                newValues[i] = 1;\n            }\n            else {\n                newValues[i] = 0;\n            }\n        }\n        return Tensor.make(x.shape, { values: newValues });\n    };\n    MathBackendCPU.prototype.round = function (x) {\n        var values = x.dataSync();\n        var newValues = new Float32Array(values.length);\n        for (var i = 0; i < values.length; ++i) {\n            var base = Math.floor(values[i]);\n            if (values[i] - base < 0.5) {\n                newValues[i] = Math.floor(values[i]);\n            }\n            else if (values[i] - base > 0.5) {\n                newValues[i] = Math.ceil(values[i]);\n            }\n            else {\n                if (base % 2.0 === 0.0) {\n                    newValues[i] = base;\n                }\n                else {\n                    newValues[i] = base + 1.0;\n                }\n            }\n        }\n        return Tensor.make(x.shape, { values: newValues });\n    };\n    MathBackendCPU.prototype.exp = function (x) {\n        var values = x.dataSync();\n        var newValues = new Float32Array(values.length);\n        for (var i = 0; i < values.length; ++i) {\n            newValues[i] = Math.exp(values[i]);\n        }\n        return Tensor.make(x.shape, { values: newValues });\n    };\n    MathBackendCPU.prototype.expm1 = function (x) {\n        var values = x.dataSync();\n        var newValues = new Float32Array(values.length);\n        for (var i = 0; i < values.length; ++i) {\n            newValues[i] = Math.expm1(values[i]);\n        }\n        return Tensor.make(x.shape, { values: newValues });\n    };\n    MathBackendCPU.prototype.log = function (x) {\n        var values = x.dataSync();\n        var newValues = new Float32Array(values.length);\n        for (var i = 0; i < values.length; ++i) {\n            var value = values[i];\n            newValues[i] = Math.log(value);\n        }\n        return Tensor.make(x.shape, { values: newValues });\n    };\n    MathBackendCPU.prototype.log1p = function (x) {\n        var values = x.dataSync();\n        var newValues = new Float32Array(values.length);\n        for (var i = 0; i < values.length; ++i) {\n            var value = values[i];\n            newValues[i] = Math.log1p(value);\n        }\n        return Tensor.make(x.shape, { values: newValues });\n    };\n    MathBackendCPU.prototype.sqrt = function (x) {\n        var values = x.dataSync();\n        var newValues = new Float32Array(values.length);\n        for (var i = 0; i < values.length; ++i) {\n            var value = values[i];\n            newValues[i] = Math.sqrt(value);\n        }\n        return Tensor.make(x.shape, { values: newValues });\n    };\n    MathBackendCPU.prototype.rsqrt = function (x) {\n        var values = x.dataSync();\n        var newValues = new Float32Array(values.length);\n        for (var i = 0; i < values.length; ++i) {\n            var value = values[i];\n            newValues[i] = 1 / Math.sqrt(value);\n        }\n        return Tensor.make(x.shape, { values: newValues });\n    };\n    MathBackendCPU.prototype.square = function (x) {\n        var values = x.dataSync();\n        var newValues = new Float32Array(values.length);\n        for (var i = 0; i < values.length; ++i) {\n            var value = values[i];\n            newValues[i] = value * value;\n        }\n        return Tensor.make(x.shape, { values: newValues });\n    };\n    MathBackendCPU.prototype.reciprocal = function (x) {\n        var values = x.dataSync();\n        var newValues = new Float32Array(values.length);\n        for (var i = 0; i < values.length; ++i) {\n            newValues[i] = 1 / values[i];\n        }\n        return Tensor.make(x.shape, { values: newValues });\n    };\n    MathBackendCPU.prototype.relu = function (x) {\n        var res = ops.zeros(x.shape, x.dtype);\n        var resVals = res.dataSync();\n        var inVals = x.dataSync();\n        for (var i = 0; i < inVals.length; ++i) {\n            resVals[i] = Math.max(0, inVals[i]);\n        }\n        return res;\n    };\n    MathBackendCPU.prototype.elu = function (x) {\n        var resultValues = new Float32Array(x.size);\n        var values = x.dataSync();\n        for (var i = 0; i < values.length; ++i) {\n            var v = values[i];\n            if (v >= 0) {\n                resultValues[i] = v;\n            }\n            else {\n                resultValues[i] = (Math.exp(v) - 1);\n            }\n        }\n        return Tensor.make(x.shape, { values: resultValues });\n    };\n    MathBackendCPU.prototype.eluDer = function (dy, y) {\n        var resultValues = new Float32Array(y.size);\n        var values = y.dataSync();\n        var dyValues = dy.dataSync();\n        for (var i = 0; i < values.length; ++i) {\n            var v = values[i];\n            if (v >= 1) {\n                resultValues[i] = dyValues[i];\n            }\n            else {\n                resultValues[i] = dyValues[i] * (v + 1);\n            }\n        }\n        return Tensor.make(y.shape, { values: resultValues });\n    };\n    MathBackendCPU.prototype.selu = function (x) {\n        var scaleAlpha = selu_util.SELU_SCALEALPHA;\n        var scale = selu_util.SELU_SCALE;\n        var resultValues = new Float32Array(x.size);\n        var values = x.dataSync();\n        for (var i = 0; i < values.length; ++i) {\n            var v = values[i];\n            if (v >= 0) {\n                resultValues[i] = scale * v;\n            }\n            else {\n                resultValues[i] = scaleAlpha * (Math.exp(v) - 1);\n            }\n        }\n        return Tensor.make(x.shape, { values: resultValues });\n    };\n    MathBackendCPU.prototype.clip = function (x, min, max) {\n        var resultValues = new Float32Array(x.size);\n        var values = x.dataSync();\n        for (var i = 0; i < values.length; ++i) {\n            resultValues[i] = Math.min(max, Math.max(min, values[i]));\n        }\n        return Tensor.make(x.shape, { values: resultValues });\n    };\n    MathBackendCPU.prototype.abs = function (x) {\n        var resultValues = new Float32Array(x.size);\n        var values = x.dataSync();\n        for (var i = 0; i < values.length; ++i) {\n            resultValues[i] = Math.abs(values[i]);\n        }\n        return Tensor.make(x.shape, { values: resultValues });\n    };\n    MathBackendCPU.prototype.int = function (x) {\n        var resultValues = new Int32Array(x.size);\n        var values = x.dataSync();\n        for (var i = 0; i < values.length; ++i) {\n            resultValues[i] = values[i];\n        }\n        return Tensor.make(x.shape, { values: resultValues }, 'int32');\n    };\n    MathBackendCPU.prototype.sigmoid = function (x) {\n        var resultValues = new Float32Array(x.size);\n        var values = x.dataSync();\n        for (var i = 0; i < values.length; ++i) {\n            resultValues[i] = 1 / (1 + Math.exp(-values[i]));\n        }\n        return Tensor.make(x.shape, { values: resultValues });\n    };\n    MathBackendCPU.prototype.softplus = function (x) {\n        var epsilon = 1.1920928955078125e-7;\n        var threshold = Math.log(epsilon) + 2.0;\n        var resultValues = new Float32Array(x.size);\n        var values = x.dataSync();\n        for (var i = 0; i < values.length; ++i) {\n            var tooLarge = values[i] > -threshold;\n            var tooSmall = values[i] < threshold;\n            var expX = Math.exp(values[i]);\n            var result = void 0;\n            if (tooSmall) {\n                result = expX;\n            }\n            else if (tooLarge) {\n                result = values[i];\n            }\n            else {\n                result = Math.log(1.0 + expX);\n            }\n            resultValues[i] = result;\n        }\n        return Tensor.make(x.shape, { values: resultValues });\n    };\n    MathBackendCPU.prototype.sin = function (x) {\n        var resultValues = new Float32Array(x.size);\n        var values = x.dataSync();\n        for (var i = 0; i < values.length; ++i) {\n            resultValues[i] = Math.sin(values[i]);\n        }\n        return Tensor.make(x.shape, { values: resultValues });\n    };\n    MathBackendCPU.prototype.cos = function (x) {\n        var resultValues = new Float32Array(x.size);\n        var values = x.dataSync();\n        for (var i = 0; i < values.length; ++i) {\n            resultValues[i] = Math.cos(values[i]);\n        }\n        return Tensor.make(x.shape, { values: resultValues });\n    };\n    MathBackendCPU.prototype.tan = function (x) {\n        var resultValues = new Float32Array(x.size);\n        var values = x.dataSync();\n        for (var i = 0; i < values.length; ++i) {\n            resultValues[i] = Math.tan(values[i]);\n        }\n        return Tensor.make(x.shape, { values: resultValues });\n    };\n    MathBackendCPU.prototype.asin = function (x) {\n        var resultValues = new Float32Array(x.size);\n        var values = x.dataSync();\n        for (var i = 0; i < values.length; ++i) {\n            resultValues[i] = Math.asin(values[i]);\n        }\n        return Tensor.make(x.shape, { values: resultValues });\n    };\n    MathBackendCPU.prototype.acos = function (x) {\n        var resultValues = new Float32Array(x.size);\n        var values = x.dataSync();\n        for (var i = 0; i < values.length; ++i) {\n            resultValues[i] = Math.acos(values[i]);\n        }\n        return Tensor.make(x.shape, { values: resultValues });\n    };\n    MathBackendCPU.prototype.atan = function (x) {\n        var resultValues = new Float32Array(x.size);\n        var values = x.dataSync();\n        for (var i = 0; i < values.length; ++i) {\n            resultValues[i] = Math.atan(values[i]);\n        }\n        return Tensor.make(x.shape, { values: resultValues });\n    };\n    MathBackendCPU.prototype.atan2 = function (a, b) {\n        return this.broadcastedBinaryOp(a, b, a.dtype, function (aValue, bValue) { return Math.atan2(aValue, bValue); });\n    };\n    MathBackendCPU.prototype.sinh = function (x) {\n        var resultValues = new Float32Array(x.size);\n        var values = x.dataSync();\n        for (var i = 0; i < values.length; ++i) {\n            resultValues[i] = Math.sinh(values[i]);\n        }\n        return Tensor.make(x.shape, { values: resultValues });\n    };\n    MathBackendCPU.prototype.cosh = function (x) {\n        var resultValues = new Float32Array(x.size);\n        var values = x.dataSync();\n        for (var i = 0; i < values.length; ++i) {\n            resultValues[i] = Math.cosh(values[i]);\n        }\n        return Tensor.make(x.shape, { values: resultValues });\n    };\n    MathBackendCPU.prototype.tanh = function (x) {\n        var resultValues = new Float32Array(x.size);\n        var values = x.dataSync();\n        for (var i = 0; i < values.length; ++i) {\n            resultValues[i] = util.tanh(values[i]);\n        }\n        return Tensor.make(x.shape, { values: resultValues });\n    };\n    MathBackendCPU.prototype.asinh = function (x) {\n        var resultValues = new Float32Array(x.size);\n        var values = x.dataSync();\n        for (var i = 0; i < values.length; ++i) {\n            resultValues[i] = Math.asinh(values[i]);\n        }\n        return Tensor.make(x.shape, { values: resultValues });\n    };\n    MathBackendCPU.prototype.acosh = function (x) {\n        var resultValues = new Float32Array(x.size);\n        var values = x.dataSync();\n        for (var i = 0; i < values.length; ++i) {\n            resultValues[i] = Math.acosh(values[i]);\n        }\n        return Tensor.make(x.shape, { values: resultValues });\n    };\n    MathBackendCPU.prototype.atanh = function (x) {\n        var resultValues = new Float32Array(x.size);\n        var values = x.dataSync();\n        for (var i = 0; i < values.length; ++i) {\n            resultValues[i] = Math.atanh(values[i]);\n        }\n        return Tensor.make(x.shape, { values: resultValues });\n    };\n    MathBackendCPU.prototype.erf = function (x) {\n        var resultValues = new Float32Array(x.size);\n        var values = x.dataSync();\n        var p = erf_util.ERF_P;\n        var a1 = erf_util.ERF_A1;\n        var a2 = erf_util.ERF_A2;\n        var a3 = erf_util.ERF_A3;\n        var a4 = erf_util.ERF_A4;\n        var a5 = erf_util.ERF_A5;\n        for (var i = 0; i < values.length; ++i) {\n            var v = values[i];\n            var t = 1.0 / (1.0 + p * v);\n            resultValues[i] = 1.0 -\n                (((((a5 * t + a4) * t) + a3) * t + a2) * t + a1) * t *\n                    Math.exp(-v * v);\n        }\n        return Tensor.make(x.shape, { values: resultValues });\n    };\n    MathBackendCPU.prototype.step = function (x, alpha) {\n        if (alpha === void 0) { alpha = 0; }\n        var resultValues = new Float32Array(x.size);\n        var values = x.dataSync();\n        for (var i = 0; i < values.length; ++i) {\n            var value = values[i];\n            if (isNaN(value)) {\n                resultValues[i] = NaN;\n            }\n            else {\n                resultValues[i] = value > 0 ? 1 : alpha;\n            }\n        }\n        return Tensor.make(x.shape, { values: resultValues });\n    };\n    MathBackendCPU.prototype.conv2d = function (x, filter, convInfo) {\n        var filterHeight = convInfo.filterHeight;\n        var filterWidth = convInfo.filterWidth;\n        var dilationHeight = convInfo.dilationHeight;\n        var dilationWidth = convInfo.dilationWidth;\n        var padLeft = convInfo.padInfo.left;\n        var padTop = convInfo.padInfo.top;\n        var y = ops.buffer(convInfo.outShape, x.dtype);\n        for (var b = 0; b < convInfo.batchSize; ++b) {\n            for (var d2 = 0; d2 < convInfo.outChannels; ++d2) {\n                for (var yR = 0; yR < convInfo.outHeight; ++yR) {\n                    var xRCorner = yR * convInfo.strideHeight - padLeft;\n                    for (var yC = 0; yC < convInfo.outWidth; ++yC) {\n                        var xCCorner = yC * convInfo.strideWidth - padTop;\n                        var dotProd = 0;\n                        for (var wR = 0; wR < filterHeight; wR++) {\n                            var xR = xRCorner + wR * dilationHeight;\n                            if (xR < 0 || xR >= convInfo.inHeight) {\n                                continue;\n                            }\n                            for (var wC = 0; wC < filterWidth; wC++) {\n                                var xC = xCCorner + wC * dilationWidth;\n                                if (xC < 0 || xC >= convInfo.inWidth) {\n                                    continue;\n                                }\n                                for (var d1 = 0; d1 < convInfo.inChannels; ++d1) {\n                                    var pixel = x.get(b, xR, xC, d1);\n                                    var weight = filter.get(wR, wC, d1, d2);\n                                    dotProd += pixel * weight;\n                                }\n                            }\n                        }\n                        y.set(dotProd, b, yR, yC, d2);\n                    }\n                }\n            }\n        }\n        return y.toTensor();\n    };\n    MathBackendCPU.prototype.conv2dDerInput = function (dy, filter, convInfo) {\n        var dx = ops.buffer(convInfo.inShape, 'float32');\n        var dxValues = dx.values;\n        var _a = dx.strides, dxS0 = _a[0], dxS1 = _a[1], dxS2 = _a[2];\n        var dyValues = dy.dataSync();\n        var _b = dy.strides, dyS0 = _b[0], dyS1 = _b[1], dyS2 = _b[2];\n        var fltValues = filter.dataSync();\n        var _c = filter.strides, fltS0 = _c[0], fltS1 = _c[1], fltS2 = _c[2];\n        var batchSize = convInfo.batchSize, filterHeight = convInfo.filterHeight, filterWidth = convInfo.filterWidth, inChannels = convInfo.inChannels, inHeight = convInfo.inHeight, inWidth = convInfo.inWidth, outChannels = convInfo.outChannels, outHeight = convInfo.outHeight, outWidth = convInfo.outWidth, strideHeight = convInfo.strideHeight, strideWidth = convInfo.strideWidth;\n        var topPad = filterHeight - 1 - convInfo.padInfo.top;\n        var leftPad = filterWidth - 1 - convInfo.padInfo.left;\n        for (var b = 0; b < batchSize; ++b) {\n            for (var d1 = 0; d1 < inChannels; ++d1) {\n                for (var xR = 0; xR < inHeight; ++xR) {\n                    var xRCorner = xR - topPad;\n                    var xRMin = Math.max(0, Math.ceil(xRCorner / strideHeight));\n                    var yRMax = Math.min(outHeight, (filterHeight + xRCorner) / strideHeight);\n                    for (var xC = 0; xC < inWidth; ++xC) {\n                        var xCCorner = xC - leftPad;\n                        var xCMin = Math.max(0, Math.ceil(xCCorner / strideWidth));\n                        var yCMax = Math.min(outWidth, (filterWidth + xCCorner) / strideWidth);\n                        var dotProd = 0;\n                        for (var yR = xRMin; yR < yRMax; ++yR) {\n                            var wR = yR * strideHeight - xRCorner;\n                            for (var yC = xCMin; yC < yCMax; ++yC) {\n                                var wC = yC * strideWidth - xCCorner;\n                                var dyOffset = dyS0 * b + dyS1 * yR + dyS2 * yC;\n                                var fltOffset = fltS0 * (filterHeight - 1 - wR) +\n                                    fltS1 * (filterWidth - 1 - wC) + fltS2 * d1;\n                                for (var d2 = 0; d2 < outChannels; ++d2) {\n                                    var pixel = dyValues[dyOffset + d2];\n                                    var weight = fltValues[fltOffset + d2];\n                                    dotProd += pixel * weight;\n                                }\n                            }\n                        }\n                        dxValues[dxS0 * b + dxS1 * xR + dxS2 * xC + d1] = dotProd;\n                    }\n                }\n            }\n        }\n        return dx.toTensor();\n    };\n    MathBackendCPU.prototype.conv2dDerFilter = function (x, dy, convInfo) {\n        var strideHeight = convInfo.strideHeight;\n        var strideWidth = convInfo.strideWidth;\n        var filterHeight = convInfo.filterHeight;\n        var filterWidth = convInfo.filterWidth;\n        var dW = ops.buffer(convInfo.filterShape, 'float32');\n        var leftPad = convInfo.padInfo.left;\n        var topPad = convInfo.padInfo.top;\n        for (var wR = 0; wR < filterHeight; ++wR) {\n            var yRMin = Math.max(0, Math.ceil((topPad - wR) / strideHeight));\n            var yRMax = Math.min(convInfo.outHeight, (convInfo.inHeight + topPad - wR) / strideHeight);\n            for (var wC = 0; wC < filterWidth; ++wC) {\n                var yCMin = Math.max(0, Math.ceil((leftPad - wC) / strideWidth));\n                var yCMax = Math.min(convInfo.outWidth, (convInfo.inWidth + leftPad - wC) / strideWidth);\n                for (var d1 = 0; d1 < convInfo.inChannels; ++d1) {\n                    for (var d2 = 0; d2 < convInfo.outChannels; ++d2) {\n                        var dotProd = 0;\n                        for (var b = 0; b < convInfo.batchSize; ++b) {\n                            for (var yR = yRMin; yR < yRMax; ++yR) {\n                                var xR = wR + yR * strideHeight - topPad;\n                                for (var yC = yCMin; yC < yCMax; ++yC) {\n                                    var xC = wC + yC * strideWidth - leftPad;\n                                    dotProd += x.get(b, xR, xC, d1) * dy.get(b, yR, yC, d2);\n                                }\n                            }\n                        }\n                        dW.set(dotProd, wR, wC, d1, d2);\n                    }\n                }\n            }\n        }\n        return dW.toTensor();\n    };\n    MathBackendCPU.prototype.depthwiseConv2D = function (x, filter, convInfo) {\n        var filterHeight = convInfo.filterHeight;\n        var filterWidth = convInfo.filterWidth;\n        var dilationHeight = convInfo.dilationHeight;\n        var dilationWidth = convInfo.dilationWidth;\n        var padLeft = convInfo.padInfo.left;\n        var padTop = convInfo.padInfo.top;\n        var chMul = convInfo.outChannels / convInfo.inChannels;\n        var y = ops.buffer(convInfo.outShape, x.dtype);\n        for (var b = 0; b < convInfo.batchSize; ++b) {\n            for (var d1 = 0; d1 < convInfo.inChannels; ++d1) {\n                for (var yR = 0; yR < convInfo.outHeight; ++yR) {\n                    var xRCorner = yR * convInfo.strideHeight - padLeft;\n                    for (var yC = 0; yC < convInfo.outWidth; ++yC) {\n                        var xCCorner = yC * convInfo.strideWidth - padTop;\n                        for (var q = 0; q < chMul; ++q) {\n                            var dotProd = 0;\n                            for (var wR = 0; wR < filterHeight; ++wR) {\n                                var xR = xRCorner + wR * dilationHeight;\n                                if (xR < 0 || xR >= convInfo.inHeight) {\n                                    continue;\n                                }\n                                for (var wC = 0; wC < filterWidth; ++wC) {\n                                    var xC = xCCorner + wC * dilationWidth;\n                                    if (xC < 0 || xC >= convInfo.inWidth) {\n                                        continue;\n                                    }\n                                    var pixel = x.get(b, xR, xC, d1);\n                                    var weight = filter.get(wR, wC, d1, q);\n                                    dotProd += pixel * weight;\n                                }\n                            }\n                            y.set(dotProd, b, yR, yC, d1 * chMul + q);\n                        }\n                    }\n                }\n            }\n        }\n        return y.toTensor();\n    };\n    MathBackendCPU.prototype.tile = function (x, reps) {\n        var newShape = new Array(x.rank);\n        for (var i = 0; i < newShape.length; i++) {\n            newShape[i] = x.shape[i] * reps[i];\n        }\n        var result = ops.buffer(newShape, x.dtype);\n        var xBuf = x.buffer();\n        for (var i = 0; i < result.values.length; ++i) {\n            var newLoc = result.indexToLoc(i);\n            var originalLoc = new Array(x.rank);\n            for (var i_1 = 0; i_1 < originalLoc.length; i_1++) {\n                originalLoc[i_1] = newLoc[i_1] % x.shape[i_1];\n            }\n            var originalIndex = xBuf.locToIndex(originalLoc);\n            result.values[i] = xBuf.values[originalIndex];\n        }\n        return result.toTensor();\n    };\n    MathBackendCPU.prototype.pad = function (x, paddings, constantValue) {\n        var outShape = paddings.map(function (p, i) { return p[0] + x.shape[i] + p[1]; });\n        var start = paddings.map(function (p) { return p[0]; });\n        var xBuffer = x.buffer();\n        var buffer = ops.buffer(outShape, x.dtype);\n        if (constantValue !== 0) {\n            buffer.values.fill(constantValue);\n        }\n        for (var i = 0; i < x.size; i++) {\n            var coords = xBuffer.indexToLoc(i);\n            var outCoords = coords.map(function (c, i) { return c + start[i]; });\n            buffer.set.apply(buffer, [x.get.apply(x, coords)].concat(outCoords));\n        }\n        return buffer.toTensor();\n    };\n    MathBackendCPU.prototype.transpose = function (x, perm) {\n        var newShape = new Array(x.rank);\n        for (var i = 0; i < newShape.length; i++) {\n            newShape[i] = x.shape[perm[i]];\n        }\n        var values = x.dataSync();\n        var result = buffer(newShape, x.dtype);\n        var xBuf = x.buffer();\n        for (var i = 0; i < x.size; ++i) {\n            var loc = xBuf.indexToLoc(i);\n            var newLoc = new Array(loc.length);\n            for (var i_2 = 0; i_2 < newLoc.length; i_2++) {\n                newLoc[i_2] = loc[perm[i_2]];\n            }\n            var newIndex = result.locToIndex(newLoc);\n            result.values[newIndex] = values[i];\n        }\n        return result.toTensor();\n    };\n    MathBackendCPU.prototype.gather = function (x, indices, axis) {\n        var newShape = x.shape.slice();\n        var indicesValues = indices.dataSync();\n        newShape[axis] = indicesValues.length;\n        var result = buffer(newShape, x.dtype);\n        var xBuf = x.buffer();\n        for (var i = 0; i < result.size; ++i) {\n            var newLoc = result.indexToLoc(i);\n            var originalLoc = newLoc.slice();\n            originalLoc[axis] = indicesValues[newLoc[axis]];\n            var originalIndex = xBuf.locToIndex(originalLoc);\n            result.values[i] = xBuf.values[originalIndex];\n        }\n        return result.toTensor();\n    };\n    MathBackendCPU.prototype.pool = function (x, convInfo, poolType) {\n        var strideHeight = convInfo.strideHeight;\n        var strideWidth = convInfo.strideWidth;\n        var filterHeight = convInfo.filterHeight;\n        var filterWidth = convInfo.filterWidth;\n        var y = ops.buffer(convInfo.outShape, 'float32');\n        var padTop = convInfo.padInfo.top;\n        var padLeft = convInfo.padInfo.left;\n        for (var b = 0; b < convInfo.batchSize; ++b) {\n            for (var d = 0; d < convInfo.inChannels; ++d) {\n                for (var yR = 0; yR < convInfo.outHeight; ++yR) {\n                    var xRCorner = yR * strideHeight - padTop;\n                    var xRMin = Math.max(0, xRCorner);\n                    var xRMax = Math.min(convInfo.inHeight, filterHeight + xRCorner);\n                    for (var yC = 0; yC < convInfo.outWidth; ++yC) {\n                        var xCCorner = yC * strideWidth - padLeft;\n                        var xCMin = Math.max(0, xCCorner);\n                        var xCMax = Math.min(convInfo.inWidth, filterWidth + xCCorner);\n                        var minMaxValue = (poolType === 'max' ? Number.NEGATIVE_INFINITY :\n                            Number.POSITIVE_INFINITY);\n                        var avgValue = 0;\n                        var count = 0;\n                        for (var xR = xRMin; xR < xRMax; ++xR) {\n                            for (var xC = xCMin; xC < xCMax; ++xC) {\n                                var pixel = x.get(b, xR, xC, d);\n                                if ((poolType === 'max' && pixel > minMaxValue)) {\n                                    minMaxValue = pixel;\n                                }\n                                else if (poolType === 'avg') {\n                                    avgValue += pixel;\n                                    count++;\n                                }\n                            }\n                            if (isNaN(minMaxValue)) {\n                                break;\n                            }\n                        }\n                        y.set(poolType === 'avg' ? avgValue / count : minMaxValue, b, yR, yC, d);\n                    }\n                }\n            }\n        }\n        return y.toTensor();\n    };\n    MathBackendCPU.prototype.maxPool = function (x, convInfo) {\n        return this.pool(x, convInfo, 'max');\n    };\n    MathBackendCPU.prototype.maxPoolPositions = function (x, convInfo) {\n        var maxPositions = ops.buffer(convInfo.outShape, 'int32');\n        var strideHeight = convInfo.strideHeight;\n        var strideWidth = convInfo.strideWidth;\n        var filterHeight = convInfo.filterHeight;\n        var filterWidth = convInfo.filterWidth;\n        var padTop = convInfo.padInfo.top;\n        var padLeft = convInfo.padInfo.left;\n        for (var b = 0; b < convInfo.batchSize; ++b) {\n            for (var d = 0; d < convInfo.inChannels; ++d) {\n                for (var yR = 0; yR < convInfo.outHeight; ++yR) {\n                    var xRCorner = yR * strideHeight - padTop;\n                    var xRMin = Math.max(0, xRCorner);\n                    var xRMax = Math.min(convInfo.inHeight, filterHeight + xRCorner);\n                    for (var yC = 0; yC < convInfo.outWidth; ++yC) {\n                        var xCCorner = yC * strideWidth - padLeft;\n                        var xCMin = Math.max(0, xCCorner);\n                        var xCMax = Math.min(convInfo.inWidth, filterWidth + xCCorner);\n                        var maxValue = Number.NEGATIVE_INFINITY;\n                        var maxPosition = -1;\n                        for (var xR = xRMin; xR < xRMax; ++xR) {\n                            var wR = xR - xRCorner;\n                            for (var xC = xCMin; xC < xCMax; ++xC) {\n                                var wC = xC - xCCorner;\n                                var pixel = x.get(b, xR, xC, d);\n                                if (pixel > maxValue) {\n                                    maxValue = pixel;\n                                    maxPosition = wR * filterWidth + wC;\n                                }\n                            }\n                        }\n                        maxPositions.set(maxPosition, b, yR, yC, d);\n                    }\n                }\n            }\n        }\n        return maxPositions.toTensor();\n    };\n    MathBackendCPU.prototype.maxPoolBackprop = function (dy, x, y, convInfo) {\n        var maxPositions = this.maxPoolPositions(x, convInfo);\n        var strideHeight = convInfo.strideHeight;\n        var strideWidth = convInfo.strideWidth;\n        var filterHeight = convInfo.filterHeight;\n        var filterWidth = convInfo.filterWidth;\n        var padLeft = filterWidth - 1 - convInfo.padInfo.left;\n        var padTop = filterHeight - 1 - convInfo.padInfo.top;\n        var dx = ops.buffer(x.shape, 'float32');\n        for (var b = 0; b < convInfo.batchSize; ++b) {\n            for (var d = 0; d < convInfo.inChannels; ++d) {\n                for (var dxR = 0; dxR < convInfo.inHeight; ++dxR) {\n                    for (var dxC = 0; dxC < convInfo.inWidth; ++dxC) {\n                        var dyRCorner = dxR - padTop;\n                        var dyCCorner = dxC - padLeft;\n                        var dotProd = 0;\n                        for (var wR = 0; wR < filterHeight; ++wR) {\n                            var dyR = (dyRCorner + wR) / strideHeight;\n                            if (dyR < 0 || dyR >= convInfo.outHeight ||\n                                Math.floor(dyR) !== dyR) {\n                                continue;\n                            }\n                            for (var wC = 0; wC < filterWidth; ++wC) {\n                                var dyC = (dyCCorner + wC) / strideWidth;\n                                if (dyC < 0 || dyC >= convInfo.outWidth ||\n                                    Math.floor(dyC) !== dyC) {\n                                    continue;\n                                }\n                                var maxPos = filterHeight * filterWidth - 1 -\n                                    maxPositions.get(b, dyR, dyC, d);\n                                var curPos = wR * filterWidth + wC;\n                                var mask = maxPos === curPos ? 1 : 0;\n                                if (mask === 0) {\n                                    continue;\n                                }\n                                var pixel = dy.get(b, dyR, dyC, d);\n                                dotProd += pixel * mask;\n                            }\n                        }\n                        dx.set(dotProd, b, dxR, dxC, d);\n                    }\n                }\n            }\n        }\n        return dx.toTensor();\n    };\n    MathBackendCPU.prototype.avgPoolBackprop = function (dy, x, convInfo) {\n        var strideHeight = convInfo.strideHeight;\n        var strideWidth = convInfo.strideWidth;\n        var filterHeight = convInfo.filterHeight;\n        var filterWidth = convInfo.filterWidth;\n        var padLeft = filterWidth - 1 - convInfo.padInfo.left;\n        var padTop = filterHeight - 1 - convInfo.padInfo.top;\n        var dx = ops.buffer(x.shape, 'float32');\n        var avgMultiplier = 1 / (filterHeight * filterWidth);\n        for (var b = 0; b < convInfo.batchSize; ++b) {\n            for (var d = 0; d < convInfo.inChannels; ++d) {\n                for (var dxR = 0; dxR < convInfo.inHeight; ++dxR) {\n                    for (var dxC = 0; dxC < convInfo.inWidth; ++dxC) {\n                        var dyRCorner = dxR - padTop;\n                        var dyCCorner = dxC - padLeft;\n                        var dotProd = 0;\n                        for (var wR = 0; wR < filterHeight; ++wR) {\n                            var dyR = (dyRCorner + wR) / strideHeight;\n                            if (dyR < 0 || dyR >= convInfo.outHeight ||\n                                Math.floor(dyR) !== dyR) {\n                                continue;\n                            }\n                            for (var wC = 0; wC < filterWidth; ++wC) {\n                                var dyC = (dyCCorner + wC) / strideWidth;\n                                if (dyC < 0 || dyC >= convInfo.outWidth ||\n                                    Math.floor(dyC) !== dyC) {\n                                    continue;\n                                }\n                                var pixel = dy.get(b, dyR, dyC, d);\n                                dotProd += pixel;\n                            }\n                        }\n                        dx.set(dotProd * avgMultiplier, b, dxR, dxC, d);\n                    }\n                }\n            }\n        }\n        return dx.toTensor();\n    };\n    MathBackendCPU.prototype.cast = function (x, dtype) {\n        return backend_util.castTensor(x, dtype, this);\n    };\n    MathBackendCPU.prototype.reshape = function (x, shape) {\n        return backend_util.reshapeTensor(x, shape);\n    };\n    MathBackendCPU.prototype.avgPool = function (x, convInfo) {\n        return this.pool(x, convInfo, 'avg').toFloat();\n    };\n    MathBackendCPU.prototype.resizeBilinear = function (x, newHeight, newWidth, alignCorners) {\n        var _a = x.shape, batch = _a[0], oldHeight = _a[1], oldWidth = _a[2], numChannels = _a[3];\n        var output = ops.buffer([batch, newHeight, newWidth, numChannels], x.dtype);\n        var effectiveInputSize = [\n            (alignCorners && newHeight > 1) ? oldHeight - 1 : oldHeight,\n            (alignCorners && newWidth > 1) ? oldWidth - 1 : oldWidth\n        ];\n        var effectiveOutputSize = [\n            (alignCorners && newHeight > 1) ? newHeight - 1 : newHeight,\n            (alignCorners && newWidth > 1) ? newWidth - 1 : newWidth\n        ];\n        for (var b = 0; b < batch; b++) {\n            for (var r = 0; r < newHeight; r++) {\n                for (var c = 0; c < newWidth; c++) {\n                    for (var d = 0; d < numChannels; d++) {\n                        var sourceFracRow = (effectiveInputSize[0]) * r / (effectiveOutputSize[0]);\n                        var sourceFracCol = (effectiveInputSize[1]) * c / (effectiveOutputSize[1]);\n                        var sourceRowFloor = Math.floor(sourceFracRow);\n                        var sourceRowCeil = Math.min(oldHeight - 1, Math.ceil(sourceFracRow));\n                        var sourceColFloor = Math.floor(sourceFracCol);\n                        var sourceColCeil = Math.min(oldWidth - 1, Math.ceil(sourceFracCol));\n                        var topLeft = x.get(b, sourceRowFloor, sourceColFloor, d);\n                        var bottomLeft = x.get(b, sourceRowCeil, sourceColFloor, d);\n                        var topRight = x.get(b, sourceRowFloor, sourceColCeil, d);\n                        var bottomRight = x.get(b, sourceRowCeil, sourceColCeil, d);\n                        var rowFrac = sourceFracRow - sourceRowFloor;\n                        var colFrac = sourceFracCol - sourceColFloor;\n                        var top_1 = topLeft + (topRight - topLeft) * colFrac;\n                        var bottom = bottomLeft + (bottomRight - bottomLeft) * colFrac;\n                        var newValue = top_1 + (bottom - top_1) * rowFrac;\n                        output.set(newValue, b, r, c, d);\n                    }\n                }\n            }\n        }\n        return output.toTensor();\n    };\n    MathBackendCPU.prototype.resizeBilinearBackprop = function (dy, x, alignCorners) {\n        var _a = x.shape, batch = _a[0], xHeight = _a[1], xWidth = _a[2], depth = _a[3];\n        var _b = dy.shape, yHeight = _b[1], yWidth = _b[2];\n        var output = ops.buffer([batch, xHeight, xWidth, depth], x.dtype);\n        var effectiveXSize = [\n            (alignCorners && yHeight > 1) ? xHeight - 1 : xHeight,\n            (alignCorners && yWidth > 1) ? xWidth - 1 : xWidth\n        ];\n        var effectiveYSize = [\n            (alignCorners && yHeight > 1) ? yHeight - 1 : yHeight,\n            (alignCorners && yWidth > 1) ? yWidth - 1 : yWidth\n        ];\n        var heightScale = effectiveXSize[0] / effectiveYSize[0];\n        var widthScale = effectiveXSize[1] / effectiveYSize[1];\n        for (var b = 0; b < batch; b++) {\n            for (var r = 0; r < yHeight; r++) {\n                var dxR = r * heightScale;\n                var topDxRIndex = Math.floor(dxR);\n                var bottomDxRIndex = Math.min(Math.ceil(dxR), xHeight - 1);\n                var dxRLerp = dxR - topDxRIndex;\n                var inverseDxRLerp = 1.0 - dxRLerp;\n                for (var c = 0; c < yWidth; c++) {\n                    var dxC = c * widthScale;\n                    var leftDxCIndex = Math.floor(dxC);\n                    var rightDxCIndex = Math.min(Math.ceil(dxC), xWidth - 1);\n                    var dxCLerp = dxC - leftDxCIndex;\n                    var inverseDxCLerp = 1.0 - dxCLerp;\n                    for (var d = 0; d < depth; d++) {\n                        var dyVal = dy.get(b, r, c, d);\n                        var topLeft = output.get(b, topDxRIndex, leftDxCIndex, d);\n                        topLeft += dyVal * inverseDxRLerp * inverseDxCLerp;\n                        output.set(topLeft, b, topDxRIndex, leftDxCIndex, d);\n                        var topRight = output.get(b, topDxRIndex, rightDxCIndex, d);\n                        topRight += dyVal * inverseDxRLerp * dxCLerp;\n                        output.set(topRight, b, topDxRIndex, rightDxCIndex, d);\n                        var bottomLeft = output.get(b, bottomDxRIndex, leftDxCIndex, d);\n                        bottomLeft += dyVal * dxRLerp * inverseDxCLerp;\n                        output.set(bottomLeft, b, bottomDxRIndex, leftDxCIndex, d);\n                        var bottomRight = output.get(b, bottomDxRIndex, rightDxCIndex, d);\n                        bottomRight += dyVal * dxRLerp * dxCLerp;\n                        output.set(bottomRight, b, bottomDxRIndex, rightDxCIndex, d);\n                    }\n                }\n            }\n        }\n        return output.toTensor();\n    };\n    MathBackendCPU.prototype.resizeNearestNeighbor = function (x, newHeight, newWidth, alignCorners) {\n        var _a = x.shape, batch = _a[0], oldHeight = _a[1], oldWidth = _a[2], numChannels = _a[3];\n        var output = ops.buffer([batch, newHeight, newWidth, numChannels], x.dtype);\n        var effectiveInputSize = alignCorners ? [oldHeight - 1, oldWidth - 1] : [oldHeight, oldWidth];\n        var effectiveOutputSize = alignCorners ? [newHeight - 1, newWidth - 1] : [newHeight, newWidth];\n        for (var b = 0; b < batch; b++) {\n            for (var r = 0; r < newHeight; r++) {\n                for (var c = 0; c < newWidth; c++) {\n                    for (var d = 0; d < numChannels; d++) {\n                        var sourceFracRow = (effectiveInputSize[0]) * r / (effectiveOutputSize[0]);\n                        var sourceFracCol = (effectiveInputSize[1]) * c / (effectiveOutputSize[1]);\n                        var sourceNearestRow = Math.min(oldHeight - 1, alignCorners ? Math.round(sourceFracRow) :\n                            Math.floor(sourceFracRow));\n                        var sourceNearestCol = Math.min(oldWidth - 1, alignCorners ? Math.round(sourceFracCol) :\n                            Math.floor(sourceFracCol));\n                        var newValue = x.get(b, sourceNearestRow, sourceNearestCol, d);\n                        output.set(newValue, b, r, c, d);\n                    }\n                }\n            }\n        }\n        return output.toTensor();\n    };\n    MathBackendCPU.prototype.batchNormalization = function (x, mean, variance, varianceEpsilon, scale, offset) {\n        var xValues = x.dataSync();\n        var meanValues = mean.dataSync();\n        var varianceValues = variance.dataSync();\n        var scaleValues = scale ? scale.dataSync() : new Float32Array([1]);\n        var offsetValues = offset ? offset.dataSync() : new Float32Array([0]);\n        var outValues = new Float32Array(xValues.length);\n        for (var i = 0; i < xValues.length; i++) {\n            outValues[i] = offsetValues[i % offsetValues.length] +\n                (xValues[i] - meanValues[i % meanValues.length]) *\n                    scaleValues[i % scaleValues.length] /\n                    Math.sqrt(varianceValues[i % varianceValues.length] + varianceEpsilon);\n        }\n        return tensor4d(outValues, x.shape);\n    };\n    MathBackendCPU.prototype.localResponseNormalization4D = function (x, radius, bias, alpha, beta) {\n        var output = ops.buffer(x.shape, 'float32');\n        var rad = radius;\n        var maxD = output.shape[3] - 1;\n        function sumAcrossChannels(b, r, c, d) {\n            var sum = 0.0;\n            for (var j = Math.max(0, d - rad); j <= Math.min(d + rad, maxD); j++) {\n                var z = x.get(b, r, c, j);\n                sum += z * z;\n            }\n            return sum;\n        }\n        for (var b = 0; b < output.shape[0]; b++) {\n            for (var r = 0; r <= output.shape[1]; r++) {\n                for (var c = 0; c < output.shape[2]; c++) {\n                    for (var d = 0; d < output.shape[3]; d++) {\n                        var sum = sumAcrossChannels(b, r, c, d);\n                        var val = x.get(b, r, c, d) * Math.pow(bias + alpha * sum, -beta);\n                        output.set(val, b, r, c, d);\n                    }\n                }\n            }\n        }\n        return output.toTensor();\n    };\n    MathBackendCPU.prototype.multinomial = function (logits, normalized, numSamples, seed) {\n        var probabilities = normalized ? logits : ops.softmax(logits);\n        var batchSize = probabilities.shape[0];\n        var numEvents = probabilities.shape[1];\n        var res = ops.zeros([batchSize, numSamples], 'int32');\n        var resVals = res.dataSync();\n        var probVals = probabilities.dataSync();\n        for (var b = 0; b < batchSize; ++b) {\n            var offset = b * numEvents;\n            var cdf = new Float32Array(numEvents - 1);\n            cdf[0] = probVals[offset];\n            for (var event_1 = 1; event_1 < cdf.length; ++event_1) {\n                cdf[event_1] = cdf[event_1 - 1] + probVals[offset + event_1];\n            }\n            var random = seedrandom.alea(seed.toString());\n            var outOffset = b * numSamples;\n            for (var sampleId = 0; sampleId < numSamples; ++sampleId) {\n                var r = random();\n                resVals[outOffset + sampleId] = cdf.length;\n                for (var event_2 = 0; event_2 < cdf.length; event_2++) {\n                    if (r < cdf[event_2]) {\n                        resVals[outOffset + sampleId] = event_2;\n                        break;\n                    }\n                }\n            }\n        }\n        return res;\n    };\n    MathBackendCPU.prototype.oneHot = function (indices, depth, onValue, offValue) {\n        var res = new Float32Array(indices.size * depth);\n        res.fill(offValue);\n        for (var event_3 = 0; event_3 < indices.size; ++event_3) {\n            res[event_3 * depth + indices.get(event_3)] = onValue;\n        }\n        return ops.tensor2d(res, [indices.size, depth]);\n    };\n    MathBackendCPU.prototype.broadcastedBinaryOp = function (a, b, dtype, op) {\n        var newShape = broadcast_util.assertAndGetBroadcastShape(a.shape, b.shape);\n        var result = ops.buffer(newShape, dtype);\n        var aValues = a.dataSync();\n        var bValues = b.dataSync();\n        var aBroadcastDims = broadcast_util.getBroadcastDims(a.shape, newShape);\n        var bBroadcastDims = broadcast_util.getBroadcastDims(b.shape, newShape);\n        var aBuf = a.buffer();\n        var bBuf = b.buffer();\n        var _loop_2 = function (i) {\n            var loc = result.indexToLoc(i);\n            var aLoc = loc.slice(-a.rank);\n            aBroadcastDims.forEach(function (d) { return aLoc[d] = 0; });\n            var aIndex = aBuf.locToIndex(aLoc);\n            var bLoc = loc.slice(-b.rank);\n            bBroadcastDims.forEach(function (d) { return bLoc[d] = 0; });\n            var bIndex = bBuf.locToIndex(bLoc);\n            result.values[i] = op(aValues[aIndex], bValues[bIndex]);\n        };\n        for (var i = 0; i < result.values.length; ++i) {\n            _loop_2(i);\n        }\n        return result.toTensor();\n    };\n    MathBackendCPU.prototype.dispose = function () { };\n    return MathBackendCPU;\n}());\nexport { MathBackendCPU };\nENV.registerBackend('cpu', function () { return new MathBackendCPU(); }, 1);\n//# sourceMappingURL=backend_cpu.js.map","var __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\n};\nimport { doc } from './doc';\nvar BrowserUtil = (function () {\n    function BrowserUtil() {\n    }\n    BrowserUtil.nextFrame = function () {\n        return new Promise(function (resolve) { return requestAnimationFrame(function () { return resolve(); }); });\n    };\n    __decorate([\n        doc({ heading: 'Performance', subheading: 'Timing' })\n    ], BrowserUtil, \"nextFrame\", null);\n    return BrowserUtil;\n}());\nexport { BrowserUtil };\n//# sourceMappingURL=browser_util.js.map","export var DTYPE_VALUE_SIZE_MAP = {\n    'float32': 4,\n    'int32': 4,\n    'uint16': 2,\n    'uint8': 1,\n    'bool': 1,\n};\n//# sourceMappingURL=types.js.map","var __awaiter = (this && this.__awaiter) || function (thisArg, _arguments, P, generator) {\n    return new (P || (P = Promise))(function (resolve, reject) {\n        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\n        function rejected(value) { try { step(generator[\"throw\"](value)); } catch (e) { reject(e); } }\n        function step(result) { result.done ? resolve(result.value) : new P(function (resolve) { resolve(result.value); }).then(fulfilled, rejected); }\n        step((generator = generator.apply(thisArg, _arguments || [])).next());\n    });\n};\nvar __generator = (this && this.__generator) || function (thisArg, body) {\n    var _ = { label: 0, sent: function() { if (t[0] & 1) throw t[1]; return t[1]; }, trys: [], ops: [] }, f, y, t, g;\n    return g = { next: verb(0), \"throw\": verb(1), \"return\": verb(2) }, typeof Symbol === \"function\" && (g[Symbol.iterator] = function() { return this; }), g;\n    function verb(n) { return function (v) { return step([n, v]); }; }\n    function step(op) {\n        if (f) throw new TypeError(\"Generator is already executing.\");\n        while (_) try {\n            if (f = 1, y && (t = y[op[0] & 2 ? \"return\" : op[0] ? \"throw\" : \"next\"]) && !(t = t.call(y, op[1])).done) return t;\n            if (y = 0, t) op = [0, t.value];\n            switch (op[0]) {\n                case 0: case 1: t = op; break;\n                case 4: _.label++; return { value: op[1], done: false };\n                case 5: _.label++; y = op[1]; op = [0]; continue;\n                case 7: op = _.ops.pop(); _.trys.pop(); continue;\n                default:\n                    if (!(t = _.trys, t = t.length > 0 && t[t.length - 1]) && (op[0] === 6 || op[0] === 2)) { _ = 0; continue; }\n                    if (op[0] === 3 && (!t || (op[1] > t[0] && op[1] < t[3]))) { _.label = op[1]; break; }\n                    if (op[0] === 6 && _.label < t[1]) { _.label = t[1]; t = op; break; }\n                    if (t && _.label < t[2]) { _.label = t[2]; _.ops.push(op); break; }\n                    if (t[2]) _.ops.pop();\n                    _.trys.pop(); continue;\n            }\n            op = body.call(thisArg, _);\n        } catch (e) { op = [6, e]; y = 0; } finally { f = t = 0; }\n        if (op[0] & 5) throw op[1]; return { value: op[0] ? op[1] : void 0, done: true };\n    }\n};\nimport { ArrayOps } from '../ops/array_ops';\nimport { sizeFromShape } from '../util';\nimport { DTYPE_VALUE_SIZE_MAP } from './types';\nexport function encodeWeights(tensors) {\n    return __awaiter(this, void 0, void 0, function () {\n        var specs, dataPromises, name_1, t, tensorValues;\n        return __generator(this, function (_a) {\n            switch (_a.label) {\n                case 0:\n                    specs = [];\n                    dataPromises = [];\n                    for (name_1 in tensors) {\n                        t = tensors[name_1];\n                        if (t.dtype !== 'float32' && t.dtype !== 'int32' && t.dtype !== 'bool') {\n                            throw new Error(\"Unsupported dtype in weight '\" + name_1 + \"': \" + t.dtype);\n                        }\n                        specs.push({ name: name_1, shape: t.shape, dtype: t.dtype });\n                        dataPromises.push(t.data());\n                    }\n                    return [4, Promise.all(dataPromises)];\n                case 1:\n                    tensorValues = _a.sent();\n                    return [2, { data: concatenateTypedArrays(tensorValues), specs: specs }];\n            }\n        });\n    });\n}\nexport function decodeWeights(buffer, specs) {\n    var out = {};\n    var offset = 0;\n    for (var _i = 0, specs_1 = specs; _i < specs_1.length; _i++) {\n        var spec = specs_1[_i];\n        var name_2 = spec.name;\n        var dtype = spec.dtype;\n        var shape = spec.shape;\n        if (spec.quantization != null) {\n            throw new Error(\"decodeWeights does not support quantization yet, but encountered \" +\n                (\"weight '\" + name_2 + \" with quantization.'\"));\n        }\n        var size = sizeFromShape(shape);\n        var value = void 0;\n        if (dtype === 'float32') {\n            value = ArrayOps.tensor(new Float32Array(buffer, offset, size), shape, 'float32');\n        }\n        else if (dtype === 'int32') {\n            value =\n                ArrayOps.tensor(new Int32Array(buffer, offset, size), shape, 'int32');\n        }\n        else if (dtype === 'bool') {\n            value =\n                ArrayOps.tensor(new Uint8Array(buffer, offset, size), shape, 'bool');\n        }\n        else {\n            throw new Error(\"Unsupported dtype in weight '\" + name_2 + \"': \" + dtype);\n        }\n        out[name_2] = value;\n        offset += size * DTYPE_VALUE_SIZE_MAP[dtype];\n    }\n    return out;\n}\nexport function concatenateTypedArrays(xs) {\n    if (xs === null) {\n        throw new Error(\"Invalid input value: \" + JSON.stringify(xs));\n    }\n    var totalByteLength = 0;\n    xs.forEach(function (x) {\n        if (x instanceof Float32Array || x instanceof Int32Array) {\n            totalByteLength += x.length * 4;\n        }\n        else if (x instanceof Uint8Array) {\n            totalByteLength += x.length;\n        }\n        else {\n            throw new Error(\"Unsupported TypedArray subtype: \" + x.constructor.name);\n        }\n    });\n    var y = new Uint8Array(totalByteLength);\n    var offset = 0;\n    xs.forEach(function (x) {\n        y.set(new Uint8Array(x.buffer), offset);\n        if (x instanceof Float32Array || x instanceof Int32Array) {\n            offset += x.length * 4;\n        }\n        else {\n            offset += x.length;\n        }\n    });\n    return y.buffer;\n}\nexport function stringByteLength(str) {\n    return new Blob([str]).size;\n}\nexport function arrayBufferToBase64String(buffer) {\n    return btoa(String.fromCharCode.apply(null, new Uint8Array(buffer)));\n}\nexport function base64StringToArrayBuffer(str) {\n    var s = atob(str);\n    var buffer = new Uint8Array(s.length);\n    for (var i = 0; i < s.length; ++i) {\n        buffer.set([s.charCodeAt(i)], i);\n    }\n    return buffer.buffer;\n}\nexport function concatenateArrayBuffers(buffers) {\n    var totalByteLength = 0;\n    buffers.forEach(function (buffer) {\n        totalByteLength += buffer.byteLength;\n    });\n    var temp = new Uint8Array(totalByteLength);\n    var offset = 0;\n    buffers.forEach(function (buffer) {\n        temp.set(new Uint8Array(buffer), offset);\n        offset += buffer.byteLength;\n    });\n    return temp.buffer;\n}\nexport function basename(path) {\n    var SEPARATOR = '/';\n    path = path.trim();\n    while (path.endsWith(SEPARATOR)) {\n        path = path.slice(0, path.length - 1);\n    }\n    var items = path.split(SEPARATOR);\n    return items[items.length - 1];\n}\nexport function getModelArtifactsInfoForJSON(modelArtifacts) {\n    if (modelArtifacts.modelTopology instanceof ArrayBuffer) {\n        throw new Error('Expected JSON model topology, received ArrayBuffer.');\n    }\n    return {\n        dateSaved: new Date(),\n        modelTopologyType: 'JSON',\n        modelTopologyBytes: modelArtifacts.modelTopology == null ?\n            0 :\n            stringByteLength(JSON.stringify(modelArtifacts.modelTopology)),\n        weightSpecsBytes: modelArtifacts.weightSpecs == null ?\n            0 :\n            stringByteLength(JSON.stringify(modelArtifacts.weightSpecs)),\n        weightDataBytes: modelArtifacts.weightData == null ?\n            0 :\n            modelArtifacts.weightData.byteLength,\n    };\n}\n//# sourceMappingURL=io_utils.js.map","var IORouterRegistry = (function () {\n    function IORouterRegistry() {\n        this.saveRouters = [];\n        this.loadRouters = [];\n    }\n    IORouterRegistry.getInstance = function () {\n        if (IORouterRegistry.instance == null) {\n            IORouterRegistry.instance = new IORouterRegistry();\n        }\n        return IORouterRegistry.instance;\n    };\n    IORouterRegistry.registerSaveRouter = function (saveRouter) {\n        IORouterRegistry.getInstance().saveRouters.push(saveRouter);\n    };\n    IORouterRegistry.registerLoadRouter = function (loadRouter) {\n        IORouterRegistry.getInstance().loadRouters.push(loadRouter);\n    };\n    IORouterRegistry.getSaveHandlers = function (url) {\n        return IORouterRegistry.getHandlers(url, 'save');\n    };\n    IORouterRegistry.getLoadHandlers = function (url) {\n        return IORouterRegistry.getHandlers(url, 'load');\n    };\n    IORouterRegistry.getHandlers = function (url, handlerType) {\n        var validHandlers = [];\n        var routers = handlerType === 'load' ? this.getInstance().loadRouters :\n            this.getInstance().saveRouters;\n        routers.forEach(function (router) {\n            var handler = router(url);\n            if (handler !== null) {\n                validHandlers.push(handler);\n            }\n        });\n        return validHandlers;\n    };\n    return IORouterRegistry;\n}());\nexport { IORouterRegistry };\n//# sourceMappingURL=router_registry.js.map","var __awaiter = (this && this.__awaiter) || function (thisArg, _arguments, P, generator) {\n    return new (P || (P = Promise))(function (resolve, reject) {\n        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\n        function rejected(value) { try { step(generator[\"throw\"](value)); } catch (e) { reject(e); } }\n        function step(result) { result.done ? resolve(result.value) : new P(function (resolve) { resolve(result.value); }).then(fulfilled, rejected); }\n        step((generator = generator.apply(thisArg, _arguments || [])).next());\n    });\n};\nvar __generator = (this && this.__generator) || function (thisArg, body) {\n    var _ = { label: 0, sent: function() { if (t[0] & 1) throw t[1]; return t[1]; }, trys: [], ops: [] }, f, y, t, g;\n    return g = { next: verb(0), \"throw\": verb(1), \"return\": verb(2) }, typeof Symbol === \"function\" && (g[Symbol.iterator] = function() { return this; }), g;\n    function verb(n) { return function (v) { return step([n, v]); }; }\n    function step(op) {\n        if (f) throw new TypeError(\"Generator is already executing.\");\n        while (_) try {\n            if (f = 1, y && (t = y[op[0] & 2 ? \"return\" : op[0] ? \"throw\" : \"next\"]) && !(t = t.call(y, op[1])).done) return t;\n            if (y = 0, t) op = [0, t.value];\n            switch (op[0]) {\n                case 0: case 1: t = op; break;\n                case 4: _.label++; return { value: op[1], done: false };\n                case 5: _.label++; y = op[1]; op = [0]; continue;\n                case 7: op = _.ops.pop(); _.trys.pop(); continue;\n                default:\n                    if (!(t = _.trys, t = t.length > 0 && t[t.length - 1]) && (op[0] === 6 || op[0] === 2)) { _ = 0; continue; }\n                    if (op[0] === 3 && (!t || (op[1] > t[0] && op[1] < t[3]))) { _.label = op[1]; break; }\n                    if (op[0] === 6 && _.label < t[1]) { _.label = t[1]; t = op; break; }\n                    if (t && _.label < t[2]) { _.label = t[2]; _.ops.push(op); break; }\n                    if (t[2]) _.ops.pop();\n                    _.trys.pop(); continue;\n            }\n            op = body.call(thisArg, _);\n        } catch (e) { op = [6, e]; y = 0; } finally { f = t = 0; }\n        if (op[0] & 5) throw op[1]; return { value: op[0] ? op[1] : void 0, done: true };\n    }\n};\nimport { assert } from '../util';\nimport { IORouterRegistry } from './router_registry';\nvar URL_SCHEME_SUFFIX = '://';\nvar ModelStoreManagerRegistry = (function () {\n    function ModelStoreManagerRegistry() {\n        this.managers = {};\n    }\n    ModelStoreManagerRegistry.getInstance = function () {\n        if (ModelStoreManagerRegistry.instance == null) {\n            ModelStoreManagerRegistry.instance = new ModelStoreManagerRegistry();\n        }\n        return ModelStoreManagerRegistry.instance;\n    };\n    ModelStoreManagerRegistry.registerManager = function (scheme, manager) {\n        assert(scheme != null, 'scheme must not be undefined or null.');\n        if (scheme.endsWith(URL_SCHEME_SUFFIX)) {\n            scheme = scheme.slice(0, scheme.indexOf(URL_SCHEME_SUFFIX));\n        }\n        assert(scheme.length > 0, 'scheme must not be an empty string.');\n        var registry = ModelStoreManagerRegistry.getInstance();\n        assert(registry.managers[scheme] == null, \"A model store manager is already registered for scheme '\" + scheme + \"'.\");\n        registry.managers[scheme] = manager;\n    };\n    ModelStoreManagerRegistry.getManager = function (scheme) {\n        var manager = this.getInstance().managers[scheme];\n        if (manager == null) {\n            throw new Error(\"Cannot find model manager for scheme '\" + scheme + \"'\");\n        }\n        return manager;\n    };\n    ModelStoreManagerRegistry.getSchemes = function () {\n        return Object.keys(this.getInstance().managers);\n    };\n    return ModelStoreManagerRegistry;\n}());\nexport { ModelStoreManagerRegistry };\nfunction parseURL(url) {\n    if (url.indexOf(URL_SCHEME_SUFFIX) === -1) {\n        throw new Error(\"The url string provided does not contain a scheme. \" +\n            \"Supported schemes are: \" +\n            (\"\" + ModelStoreManagerRegistry.getSchemes().join(',')));\n    }\n    return {\n        scheme: url.split(URL_SCHEME_SUFFIX)[0],\n        path: url.split(URL_SCHEME_SUFFIX)[1],\n    };\n}\nexport function listModels() {\n    return __awaiter(this, void 0, void 0, function () {\n        var schemes, out, _i, schemes_1, scheme, schemeOut, path, url;\n        return __generator(this, function (_a) {\n            switch (_a.label) {\n                case 0:\n                    schemes = ModelStoreManagerRegistry.getSchemes();\n                    out = {};\n                    _i = 0, schemes_1 = schemes;\n                    _a.label = 1;\n                case 1:\n                    if (!(_i < schemes_1.length)) return [3, 4];\n                    scheme = schemes_1[_i];\n                    return [4, ModelStoreManagerRegistry.getManager(scheme).listModels()];\n                case 2:\n                    schemeOut = _a.sent();\n                    for (path in schemeOut) {\n                        url = scheme + URL_SCHEME_SUFFIX + path;\n                        out[url] = schemeOut[path];\n                    }\n                    _a.label = 3;\n                case 3:\n                    _i++;\n                    return [3, 1];\n                case 4: return [2, out];\n            }\n        });\n    });\n}\nexport function removeModel(url) {\n    return __awaiter(this, void 0, void 0, function () {\n        var schemeAndPath, manager;\n        return __generator(this, function (_a) {\n            switch (_a.label) {\n                case 0:\n                    schemeAndPath = parseURL(url);\n                    manager = ModelStoreManagerRegistry.getManager(schemeAndPath.scheme);\n                    return [4, manager.removeModel(schemeAndPath.path)];\n                case 1: return [2, _a.sent()];\n            }\n        });\n    });\n}\nfunction cloneModelInternal(sourceURL, destURL, deleteSource) {\n    if (deleteSource === void 0) { deleteSource = false; }\n    return __awaiter(this, void 0, void 0, function () {\n        var loadHandlers, loadHandler, saveHandlers, saveHandler, sourceScheme, sourcePath, sameMedium, modelArtifacts, saveResult;\n        return __generator(this, function (_a) {\n            switch (_a.label) {\n                case 0:\n                    assert(sourceURL !== destURL, \"Old path and new path are the same: '\" + sourceURL + \"'\");\n                    loadHandlers = IORouterRegistry.getLoadHandlers(sourceURL);\n                    assert(loadHandlers.length > 0, \"Copying failed because no load handler is found for source URL \" + sourceURL + \".\");\n                    assert(loadHandlers.length < 2, \"Copying failed because more than one (\" + loadHandlers.length + \") \" +\n                        (\"load handlers for source URL \" + sourceURL + \".\"));\n                    loadHandler = loadHandlers[0];\n                    saveHandlers = IORouterRegistry.getSaveHandlers(destURL);\n                    assert(saveHandlers.length > 0, \"Copying failed because no save handler is found for destination URL \" +\n                        (destURL + \".\"));\n                    assert(saveHandlers.length < 2, \"Copying failed because more than one (\" + loadHandlers.length + \") \" +\n                        (\"save handlers for destination URL \" + destURL + \".\"));\n                    saveHandler = saveHandlers[0];\n                    sourceScheme = parseURL(sourceURL).scheme;\n                    sourcePath = parseURL(sourceURL).path;\n                    sameMedium = sourceScheme === parseURL(sourceURL).scheme;\n                    return [4, loadHandler.load()];\n                case 1:\n                    modelArtifacts = _a.sent();\n                    if (!(deleteSource && sameMedium)) return [3, 3];\n                    return [4, ModelStoreManagerRegistry.getManager(sourceScheme)\n                            .removeModel(sourcePath)];\n                case 2:\n                    _a.sent();\n                    _a.label = 3;\n                case 3: return [4, saveHandler.save(modelArtifacts)];\n                case 4:\n                    saveResult = _a.sent();\n                    if (!(deleteSource && !sameMedium)) return [3, 6];\n                    return [4, ModelStoreManagerRegistry.getManager(sourceScheme)\n                            .removeModel(sourcePath)];\n                case 5:\n                    _a.sent();\n                    _a.label = 6;\n                case 6: return [2, saveResult.modelArtifactsInfo];\n            }\n        });\n    });\n}\nexport function copyModel(sourceURL, destURL) {\n    return __awaiter(this, void 0, void 0, function () {\n        var deleteSource;\n        return __generator(this, function (_a) {\n            switch (_a.label) {\n                case 0:\n                    deleteSource = false;\n                    return [4, cloneModelInternal(sourceURL, destURL, deleteSource)];\n                case 1: return [2, _a.sent()];\n            }\n        });\n    });\n}\nexport function moveModel(sourceURL, destURL) {\n    return __awaiter(this, void 0, void 0, function () {\n        var deleteSource;\n        return __generator(this, function (_a) {\n            switch (_a.label) {\n                case 0:\n                    deleteSource = true;\n                    return [4, cloneModelInternal(sourceURL, destURL, deleteSource)];\n                case 1: return [2, _a.sent()];\n            }\n        });\n    });\n}\n//# sourceMappingURL=model_management.js.map","var __awaiter = (this && this.__awaiter) || function (thisArg, _arguments, P, generator) {\n    return new (P || (P = Promise))(function (resolve, reject) {\n        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\n        function rejected(value) { try { step(generator[\"throw\"](value)); } catch (e) { reject(e); } }\n        function step(result) { result.done ? resolve(result.value) : new P(function (resolve) { resolve(result.value); }).then(fulfilled, rejected); }\n        step((generator = generator.apply(thisArg, _arguments || [])).next());\n    });\n};\nvar __generator = (this && this.__generator) || function (thisArg, body) {\n    var _ = { label: 0, sent: function() { if (t[0] & 1) throw t[1]; return t[1]; }, trys: [], ops: [] }, f, y, t, g;\n    return g = { next: verb(0), \"throw\": verb(1), \"return\": verb(2) }, typeof Symbol === \"function\" && (g[Symbol.iterator] = function() { return this; }), g;\n    function verb(n) { return function (v) { return step([n, v]); }; }\n    function step(op) {\n        if (f) throw new TypeError(\"Generator is already executing.\");\n        while (_) try {\n            if (f = 1, y && (t = y[op[0] & 2 ? \"return\" : op[0] ? \"throw\" : \"next\"]) && !(t = t.call(y, op[1])).done) return t;\n            if (y = 0, t) op = [0, t.value];\n            switch (op[0]) {\n                case 0: case 1: t = op; break;\n                case 4: _.label++; return { value: op[1], done: false };\n                case 5: _.label++; y = op[1]; op = [0]; continue;\n                case 7: op = _.ops.pop(); _.trys.pop(); continue;\n                default:\n                    if (!(t = _.trys, t = t.length > 0 && t[t.length - 1]) && (op[0] === 6 || op[0] === 2)) { _ = 0; continue; }\n                    if (op[0] === 3 && (!t || (op[1] > t[0] && op[1] < t[3]))) { _.label = op[1]; break; }\n                    if (op[0] === 6 && _.label < t[1]) { _.label = t[1]; t = op; break; }\n                    if (t && _.label < t[2]) { _.label = t[2]; _.ops.push(op); break; }\n                    if (t[2]) _.ops.pop();\n                    _.trys.pop(); continue;\n            }\n            op = body.call(thisArg, _);\n        } catch (e) { op = [6, e]; y = 0; } finally { f = t = 0; }\n        if (op[0] & 5) throw op[1]; return { value: op[0] ? op[1] : void 0, done: true };\n    }\n};\nimport { ENV } from '../environment';\nimport { getModelArtifactsInfoForJSON } from './io_utils';\nimport { ModelStoreManagerRegistry } from './model_management';\nimport { IORouterRegistry } from './router_registry';\nvar DATABASE_NAME = 'tensorflowjs';\nvar DATABASE_VERSION = 1;\nvar MODEL_STORE_NAME = 'models_store';\nvar INFO_STORE_NAME = 'model_info_store';\nexport function deleteDatabase() {\n    return __awaiter(this, void 0, void 0, function () {\n        var idbFactory;\n        return __generator(this, function (_a) {\n            idbFactory = getIndexedDBFactory();\n            return [2, new Promise(function (resolve, reject) {\n                    var deleteRequest = idbFactory.deleteDatabase(DATABASE_NAME);\n                    deleteRequest.onsuccess = function () { return resolve(); };\n                    deleteRequest.onerror = function (error) { return reject(error); };\n                })];\n        });\n    });\n}\nfunction getIndexedDBFactory() {\n    if (!ENV.get('IS_BROWSER')) {\n        throw new Error('Failed to obtain IndexedDB factory because the current environment' +\n            'is not a web browser.');\n    }\n    var theWindow = window;\n    var factory = theWindow.indexedDB || theWindow.mozIndexedDB ||\n        theWindow.webkitIndexedDB || theWindow.msIndexedDB ||\n        theWindow.shimIndexedDB;\n    if (factory == null) {\n        throw new Error('The current browser does not appear to support IndexedDB.');\n    }\n    return factory;\n}\nfunction setUpDatabase(openRequest) {\n    var db = openRequest.result;\n    db.createObjectStore(MODEL_STORE_NAME, { keyPath: 'modelPath' });\n    db.createObjectStore(INFO_STORE_NAME, { keyPath: 'modelPath' });\n}\nvar BrowserIndexedDB = (function () {\n    function BrowserIndexedDB(modelPath) {\n        this.indexedDB = getIndexedDBFactory();\n        if (modelPath == null || !modelPath) {\n            throw new Error('For IndexedDB, modelPath must not be null, undefined or empty.');\n        }\n        this.modelPath = modelPath;\n    }\n    BrowserIndexedDB.prototype.save = function (modelArtifacts) {\n        return __awaiter(this, void 0, void 0, function () {\n            return __generator(this, function (_a) {\n                if (modelArtifacts.modelTopology instanceof ArrayBuffer) {\n                    throw new Error('BrowserLocalStorage.save() does not support saving model topology ' +\n                        'in binary formats yet.');\n                }\n                return [2, this.databaseAction(this.modelPath, modelArtifacts)];\n            });\n        });\n    };\n    BrowserIndexedDB.prototype.load = function () {\n        return __awaiter(this, void 0, void 0, function () {\n            return __generator(this, function (_a) {\n                return [2, this.databaseAction(this.modelPath)];\n            });\n        });\n    };\n    BrowserIndexedDB.prototype.databaseAction = function (modelPath, modelArtifacts) {\n        var _this = this;\n        return new Promise(function (resolve, reject) {\n            var openRequest = _this.indexedDB.open(DATABASE_NAME, DATABASE_VERSION);\n            openRequest.onupgradeneeded = function () { return setUpDatabase(openRequest); };\n            openRequest.onsuccess = function () {\n                var db = openRequest.result;\n                if (modelArtifacts == null) {\n                    var modelTx = db.transaction(MODEL_STORE_NAME, 'readonly');\n                    var modelStore = modelTx.objectStore(MODEL_STORE_NAME);\n                    var getRequest_1 = modelStore.get(_this.modelPath);\n                    getRequest_1.onsuccess = function () {\n                        if (getRequest_1.result == null) {\n                            db.close();\n                            return reject(new Error(\"Cannot find model with path '\" + _this.modelPath + \"' \" +\n                                \"in IndexedDB.\"));\n                        }\n                        else {\n                            resolve(getRequest_1.result.modelArtifacts);\n                        }\n                    };\n                    getRequest_1.onerror = function (error) {\n                        db.close();\n                        return reject(getRequest_1.error);\n                    };\n                    modelTx.oncomplete = function () { return db.close(); };\n                }\n                else {\n                    var modelArtifactsInfo_1 = getModelArtifactsInfoForJSON(modelArtifacts);\n                    var infoTx_1 = db.transaction(INFO_STORE_NAME, 'readwrite');\n                    var infoStore_1 = infoTx_1.objectStore(INFO_STORE_NAME);\n                    var putInfoRequest_1 = infoStore_1.put({ modelPath: _this.modelPath, modelArtifactsInfo: modelArtifactsInfo_1 });\n                    var modelTx_1;\n                    putInfoRequest_1.onsuccess = function () {\n                        modelTx_1 = db.transaction(MODEL_STORE_NAME, 'readwrite');\n                        var modelStore = modelTx_1.objectStore(MODEL_STORE_NAME);\n                        var putModelRequest = modelStore.put({\n                            modelPath: _this.modelPath,\n                            modelArtifacts: modelArtifacts,\n                            modelArtifactsInfo: modelArtifactsInfo_1\n                        });\n                        putModelRequest.onsuccess = function () { return resolve({ modelArtifactsInfo: modelArtifactsInfo_1 }); };\n                        putModelRequest.onerror = function (error) {\n                            infoStore_1 = infoTx_1.objectStore(INFO_STORE_NAME);\n                            var deleteInfoRequest = infoStore_1.delete(_this.modelPath);\n                            deleteInfoRequest.onsuccess = function () {\n                                db.close();\n                                return reject(putModelRequest.error);\n                            };\n                            deleteInfoRequest.onerror = function (error) {\n                                db.close();\n                                return reject(putModelRequest.error);\n                            };\n                        };\n                    };\n                    putInfoRequest_1.onerror = function (error) {\n                        db.close();\n                        return reject(putInfoRequest_1.error);\n                    };\n                    infoTx_1.oncomplete = function () {\n                        if (modelTx_1 == null) {\n                            db.close();\n                        }\n                        else {\n                            modelTx_1.oncomplete = function () { return db.close(); };\n                        }\n                    };\n                }\n            };\n            openRequest.onerror = function (error) { return reject(openRequest.error); };\n        });\n    };\n    BrowserIndexedDB.URL_SCHEME = 'indexeddb://';\n    return BrowserIndexedDB;\n}());\nexport { BrowserIndexedDB };\nexport var indexedDBRouter = function (url) {\n    if (!ENV.get('IS_BROWSER')) {\n        return null;\n    }\n    else {\n        if (url.startsWith(BrowserIndexedDB.URL_SCHEME)) {\n            return browserIndexedDB(url.slice(BrowserIndexedDB.URL_SCHEME.length));\n        }\n        else {\n            return null;\n        }\n    }\n};\nIORouterRegistry.registerSaveRouter(indexedDBRouter);\nIORouterRegistry.registerLoadRouter(indexedDBRouter);\nexport function browserIndexedDB(modelPath) {\n    return new BrowserIndexedDB(modelPath);\n}\nfunction maybeStripScheme(key) {\n    return key.startsWith(BrowserIndexedDB.URL_SCHEME) ?\n        key.slice(BrowserIndexedDB.URL_SCHEME.length) :\n        key;\n}\nvar BrowserIndexedDBManager = (function () {\n    function BrowserIndexedDBManager() {\n        this.indexedDB = getIndexedDBFactory();\n    }\n    BrowserIndexedDBManager.prototype.listModels = function () {\n        return __awaiter(this, void 0, void 0, function () {\n            var _this = this;\n            return __generator(this, function (_a) {\n                return [2, new Promise(function (resolve, reject) {\n                        var openRequest = _this.indexedDB.open(DATABASE_NAME, DATABASE_VERSION);\n                        openRequest.onupgradeneeded = function () { return setUpDatabase(openRequest); };\n                        openRequest.onsuccess = function () {\n                            var db = openRequest.result;\n                            var tx = db.transaction(INFO_STORE_NAME, 'readonly');\n                            var store = tx.objectStore(INFO_STORE_NAME);\n                            var getAllInfoRequest = store.getAll();\n                            getAllInfoRequest.onsuccess = function () {\n                                var out = {};\n                                for (var _i = 0, _a = getAllInfoRequest.result; _i < _a.length; _i++) {\n                                    var item = _a[_i];\n                                    out[item.modelPath] = item.modelArtifactsInfo;\n                                }\n                                resolve(out);\n                            };\n                            getAllInfoRequest.onerror = function (error) {\n                                db.close();\n                                return reject(getAllInfoRequest.error);\n                            };\n                            tx.oncomplete = function () { return db.close(); };\n                        };\n                        openRequest.onerror = function (error) { return reject(openRequest.error); };\n                    })];\n            });\n        });\n    };\n    BrowserIndexedDBManager.prototype.removeModel = function (path) {\n        return __awaiter(this, void 0, void 0, function () {\n            var _this = this;\n            return __generator(this, function (_a) {\n                path = maybeStripScheme(path);\n                return [2, new Promise(function (resolve, reject) {\n                        var openRequest = _this.indexedDB.open(DATABASE_NAME, DATABASE_VERSION);\n                        openRequest.onupgradeneeded = function () { return setUpDatabase(openRequest); };\n                        openRequest.onsuccess = function () {\n                            var db = openRequest.result;\n                            var infoTx = db.transaction(INFO_STORE_NAME, 'readwrite');\n                            var infoStore = infoTx.objectStore(INFO_STORE_NAME);\n                            var getInfoRequest = infoStore.get(path);\n                            var modelTx;\n                            getInfoRequest.onsuccess = function () {\n                                if (getInfoRequest.result == null) {\n                                    db.close();\n                                    return reject(new Error(\"Cannot find model with path '\" + path + \"' \" +\n                                        \"in IndexedDB.\"));\n                                }\n                                else {\n                                    var deleteInfoRequest = infoStore.delete(path);\n                                    var deleteModelData_1 = function () {\n                                        modelTx = db.transaction(MODEL_STORE_NAME, 'readwrite');\n                                        var modelStore = modelTx.objectStore(MODEL_STORE_NAME);\n                                        var deleteModelRequest = modelStore.delete(path);\n                                        deleteModelRequest.onsuccess = function () {\n                                            return resolve(getInfoRequest.result.modelArtifactsInfo);\n                                        };\n                                        deleteModelRequest.onerror = function (error) {\n                                            return reject(getInfoRequest.error);\n                                        };\n                                    };\n                                    deleteInfoRequest.onsuccess = deleteModelData_1;\n                                    deleteInfoRequest.onerror = function (error) {\n                                        deleteModelData_1();\n                                        db.close();\n                                        return reject(getInfoRequest.error);\n                                    };\n                                }\n                            };\n                            getInfoRequest.onerror = function (error) {\n                                db.close();\n                                return reject(getInfoRequest.error);\n                            };\n                            infoTx.oncomplete = function () {\n                                if (modelTx == null) {\n                                    db.close();\n                                }\n                                else {\n                                    modelTx.oncomplete = function () { return db.close(); };\n                                }\n                            };\n                        };\n                        openRequest.onerror = function (error) { return reject(openRequest.error); };\n                    })];\n            });\n        });\n    };\n    return BrowserIndexedDBManager;\n}());\nexport { BrowserIndexedDBManager };\nif (ENV.get('IS_BROWSER')) {\n    try {\n        ModelStoreManagerRegistry.registerManager(BrowserIndexedDB.URL_SCHEME, new BrowserIndexedDBManager());\n    }\n    catch (err) {\n    }\n}\n//# sourceMappingURL=indexed_db.js.map","var __awaiter = (this && this.__awaiter) || function (thisArg, _arguments, P, generator) {\n    return new (P || (P = Promise))(function (resolve, reject) {\n        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\n        function rejected(value) { try { step(generator[\"throw\"](value)); } catch (e) { reject(e); } }\n        function step(result) { result.done ? resolve(result.value) : new P(function (resolve) { resolve(result.value); }).then(fulfilled, rejected); }\n        step((generator = generator.apply(thisArg, _arguments || [])).next());\n    });\n};\nvar __generator = (this && this.__generator) || function (thisArg, body) {\n    var _ = { label: 0, sent: function() { if (t[0] & 1) throw t[1]; return t[1]; }, trys: [], ops: [] }, f, y, t, g;\n    return g = { next: verb(0), \"throw\": verb(1), \"return\": verb(2) }, typeof Symbol === \"function\" && (g[Symbol.iterator] = function() { return this; }), g;\n    function verb(n) { return function (v) { return step([n, v]); }; }\n    function step(op) {\n        if (f) throw new TypeError(\"Generator is already executing.\");\n        while (_) try {\n            if (f = 1, y && (t = y[op[0] & 2 ? \"return\" : op[0] ? \"throw\" : \"next\"]) && !(t = t.call(y, op[1])).done) return t;\n            if (y = 0, t) op = [0, t.value];\n            switch (op[0]) {\n                case 0: case 1: t = op; break;\n                case 4: _.label++; return { value: op[1], done: false };\n                case 5: _.label++; y = op[1]; op = [0]; continue;\n                case 7: op = _.ops.pop(); _.trys.pop(); continue;\n                default:\n                    if (!(t = _.trys, t = t.length > 0 && t[t.length - 1]) && (op[0] === 6 || op[0] === 2)) { _ = 0; continue; }\n                    if (op[0] === 3 && (!t || (op[1] > t[0] && op[1] < t[3]))) { _.label = op[1]; break; }\n                    if (op[0] === 6 && _.label < t[1]) { _.label = t[1]; t = op; break; }\n                    if (t && _.label < t[2]) { _.label = t[2]; _.ops.push(op); break; }\n                    if (t[2]) _.ops.pop();\n                    _.trys.pop(); continue;\n            }\n            op = body.call(thisArg, _);\n        } catch (e) { op = [6, e]; y = 0; } finally { f = t = 0; }\n        if (op[0] & 5) throw op[1]; return { value: op[0] ? op[1] : void 0, done: true };\n    }\n};\nimport { ENV } from '../environment';\nimport { assert } from '../util';\nimport { arrayBufferToBase64String, base64StringToArrayBuffer, getModelArtifactsInfoForJSON } from './io_utils';\nimport { ModelStoreManagerRegistry } from './model_management';\nimport { IORouterRegistry } from './router_registry';\nvar PATH_SEPARATOR = '/';\nvar PATH_PREFIX = 'tensorflowjs_models';\nvar INFO_SUFFIX = 'info';\nvar MODEL_TOPOLOGY_SUFFIX = 'model_topology';\nvar WEIGHT_SPECS_SUFFIX = 'weight_specs';\nvar WEIGHT_DATA_SUFFIX = 'weight_data';\nexport function purgeLocalStorageArtifacts() {\n    if (!ENV.get('IS_BROWSER') || typeof window.localStorage === 'undefined') {\n        throw new Error('purgeLocalStorageModels() cannot proceed because local storage is ' +\n            'unavailable in the current environment.');\n    }\n    var LS = window.localStorage;\n    var purgedModelPaths = [];\n    for (var i = 0; i < LS.length; ++i) {\n        var key = LS.key(i);\n        var prefix = PATH_PREFIX + PATH_SEPARATOR;\n        if (key.startsWith(prefix) && key.length > prefix.length) {\n            LS.removeItem(key);\n            var modelName = getModelPathFromKey(key);\n            if (purgedModelPaths.indexOf(modelName) === -1) {\n                purgedModelPaths.push(modelName);\n            }\n        }\n    }\n    return purgedModelPaths;\n}\nfunction getModelKeys(path) {\n    return {\n        info: [PATH_PREFIX, path, INFO_SUFFIX].join(PATH_SEPARATOR),\n        topology: [PATH_PREFIX, path, MODEL_TOPOLOGY_SUFFIX].join(PATH_SEPARATOR),\n        weightSpecs: [PATH_PREFIX, path, WEIGHT_SPECS_SUFFIX].join(PATH_SEPARATOR),\n        weightData: [PATH_PREFIX, path, WEIGHT_DATA_SUFFIX].join(PATH_SEPARATOR)\n    };\n}\nfunction getModelPathFromKey(key) {\n    var items = key.split(PATH_SEPARATOR);\n    if (items.length < 3) {\n        throw new Error(\"Invalid key format: \" + key);\n    }\n    return items.slice(1, items.length - 1).join(PATH_SEPARATOR);\n}\nfunction maybeStripScheme(key) {\n    return key.startsWith(BrowserLocalStorage.URL_SCHEME) ?\n        key.slice(BrowserLocalStorage.URL_SCHEME.length) :\n        key;\n}\nvar BrowserLocalStorage = (function () {\n    function BrowserLocalStorage(modelPath) {\n        if (!ENV.get('IS_BROWSER') || typeof window.localStorage === 'undefined') {\n            throw new Error('The current environment does not support local storage.');\n        }\n        this.LS = window.localStorage;\n        if (modelPath == null || !modelPath) {\n            throw new Error('For local storage, modelPath must not be null, undefined or empty.');\n        }\n        this.modelPath = modelPath;\n        this.keys = getModelKeys(this.modelPath);\n    }\n    BrowserLocalStorage.prototype.save = function (modelArtifacts) {\n        return __awaiter(this, void 0, void 0, function () {\n            var topology, weightSpecs, modelArtifactsInfo, key;\n            return __generator(this, function (_a) {\n                if (modelArtifacts.modelTopology instanceof ArrayBuffer) {\n                    throw new Error('BrowserLocalStorage.save() does not support saving model topology ' +\n                        'in binary formats yet.');\n                }\n                else {\n                    topology = JSON.stringify(modelArtifacts.modelTopology);\n                    weightSpecs = JSON.stringify(modelArtifacts.weightSpecs);\n                    modelArtifactsInfo = getModelArtifactsInfoForJSON(modelArtifacts);\n                    try {\n                        this.LS.setItem(this.keys.info, JSON.stringify(modelArtifactsInfo));\n                        this.LS.setItem(this.keys.topology, topology);\n                        this.LS.setItem(this.keys.weightSpecs, weightSpecs);\n                        this.LS.setItem(this.keys.weightData, arrayBufferToBase64String(modelArtifacts.weightData));\n                        return [2, { modelArtifactsInfo: modelArtifactsInfo }];\n                    }\n                    catch (err) {\n                        for (key in this.keys) {\n                            this.LS.removeItem(this.keys[key]);\n                        }\n                        throw new Error(\"Failed to save model '\" + this.modelPath + \"' to local storage: \" +\n                            \"size quota being exceeded is a possible cause of this failure: \" +\n                            (\"modelTopologyBytes=\" + modelArtifactsInfo.modelTopologyBytes + \", \") +\n                            (\"weightSpecsBytes=\" + modelArtifactsInfo.weightSpecsBytes + \", \") +\n                            (\"weightDataBytes=\" + modelArtifactsInfo.weightDataBytes + \".\"));\n                    }\n                }\n                return [2];\n            });\n        });\n    };\n    BrowserLocalStorage.prototype.load = function () {\n        return __awaiter(this, void 0, void 0, function () {\n            var info, out, topology, weightSpecs, weightDataBase64;\n            return __generator(this, function (_a) {\n                info = JSON.parse(this.LS.getItem(this.keys.info));\n                if (info == null) {\n                    throw new Error(\"In local storage, there is no model with name '\" + this.modelPath + \"'\");\n                }\n                if (info.modelTopologyType !== 'JSON') {\n                    throw new Error('BrowserLocalStorage does not support loading non-JSON model ' +\n                        'topology yet.');\n                }\n                out = {};\n                topology = JSON.parse(this.LS.getItem(this.keys.topology));\n                if (topology == null) {\n                    throw new Error(\"In local storage, the topology of model '\" + this.modelPath + \"' \" +\n                        \"is missing.\");\n                }\n                out.modelTopology = topology;\n                weightSpecs = JSON.parse(this.LS.getItem(this.keys.weightSpecs));\n                if (weightSpecs == null) {\n                    throw new Error(\"In local storage, the weight specs of model '\" + this.modelPath + \"' \" +\n                        \"are missing.\");\n                }\n                out.weightSpecs = weightSpecs;\n                weightDataBase64 = this.LS.getItem(this.keys.weightData);\n                if (weightDataBase64 == null) {\n                    throw new Error(\"In local storage, the binary weight values of model \" +\n                        (\"'\" + this.modelPath + \"' are missing.\"));\n                }\n                out.weightData = base64StringToArrayBuffer(weightDataBase64);\n                return [2, out];\n            });\n        });\n    };\n    BrowserLocalStorage.URL_SCHEME = 'localstorage://';\n    return BrowserLocalStorage;\n}());\nexport { BrowserLocalStorage };\nexport var localStorageRouter = function (url) {\n    if (!ENV.get('IS_BROWSER')) {\n        return null;\n    }\n    else {\n        if (url.startsWith(BrowserLocalStorage.URL_SCHEME)) {\n            return browserLocalStorage(url.slice(BrowserLocalStorage.URL_SCHEME.length));\n        }\n        else {\n            return null;\n        }\n    }\n};\nIORouterRegistry.registerSaveRouter(localStorageRouter);\nIORouterRegistry.registerLoadRouter(localStorageRouter);\nexport function browserLocalStorage(modelPath) {\n    return new BrowserLocalStorage(modelPath);\n}\nvar BrowserLocalStorageManager = (function () {\n    function BrowserLocalStorageManager() {\n        assert(ENV.get('IS_BROWSER'), 'Current environment is not a web browser');\n        assert(typeof window.localStorage !== 'undefined', 'Current browser does not appear to support localStorage');\n        this.LS = window.localStorage;\n    }\n    BrowserLocalStorageManager.prototype.listModels = function () {\n        return __awaiter(this, void 0, void 0, function () {\n            var out, prefix, suffix, i, key, modelPath;\n            return __generator(this, function (_a) {\n                out = {};\n                prefix = PATH_PREFIX + PATH_SEPARATOR;\n                suffix = PATH_SEPARATOR + INFO_SUFFIX;\n                for (i = 0; i < this.LS.length; ++i) {\n                    key = this.LS.key(i);\n                    if (key.startsWith(prefix) && key.endsWith(suffix)) {\n                        modelPath = getModelPathFromKey(key);\n                        out[modelPath] = JSON.parse(this.LS.getItem(key));\n                    }\n                }\n                return [2, out];\n            });\n        });\n    };\n    BrowserLocalStorageManager.prototype.removeModel = function (path) {\n        return __awaiter(this, void 0, void 0, function () {\n            var keys, info;\n            return __generator(this, function (_a) {\n                path = maybeStripScheme(path);\n                keys = getModelKeys(path);\n                if (this.LS.getItem(keys.info) == null) {\n                    throw new Error(\"Cannot find model at path '\" + path + \"'\");\n                }\n                info = JSON.parse(this.LS.getItem(keys.info));\n                this.LS.removeItem(keys.info);\n                this.LS.removeItem(keys.topology);\n                this.LS.removeItem(keys.weightSpecs);\n                this.LS.removeItem(keys.weightData);\n                return [2, info];\n            });\n        });\n    };\n    return BrowserLocalStorageManager;\n}());\nexport { BrowserLocalStorageManager };\nif (ENV.get('IS_BROWSER')) {\n    try {\n        ModelStoreManagerRegistry.registerManager(BrowserLocalStorage.URL_SCHEME, new BrowserLocalStorageManager());\n    }\n    catch (err) {\n    }\n}\n//# sourceMappingURL=local_storage.js.map","var __awaiter = (this && this.__awaiter) || function (thisArg, _arguments, P, generator) {\n    return new (P || (P = Promise))(function (resolve, reject) {\n        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\n        function rejected(value) { try { step(generator[\"throw\"](value)); } catch (e) { reject(e); } }\n        function step(result) { result.done ? resolve(result.value) : new P(function (resolve) { resolve(result.value); }).then(fulfilled, rejected); }\n        step((generator = generator.apply(thisArg, _arguments || [])).next());\n    });\n};\nvar __generator = (this && this.__generator) || function (thisArg, body) {\n    var _ = { label: 0, sent: function() { if (t[0] & 1) throw t[1]; return t[1]; }, trys: [], ops: [] }, f, y, t, g;\n    return g = { next: verb(0), \"throw\": verb(1), \"return\": verb(2) }, typeof Symbol === \"function\" && (g[Symbol.iterator] = function() { return this; }), g;\n    function verb(n) { return function (v) { return step([n, v]); }; }\n    function step(op) {\n        if (f) throw new TypeError(\"Generator is already executing.\");\n        while (_) try {\n            if (f = 1, y && (t = y[op[0] & 2 ? \"return\" : op[0] ? \"throw\" : \"next\"]) && !(t = t.call(y, op[1])).done) return t;\n            if (y = 0, t) op = [0, t.value];\n            switch (op[0]) {\n                case 0: case 1: t = op; break;\n                case 4: _.label++; return { value: op[1], done: false };\n                case 5: _.label++; y = op[1]; op = [0]; continue;\n                case 7: op = _.ops.pop(); _.trys.pop(); continue;\n                default:\n                    if (!(t = _.trys, t = t.length > 0 && t[t.length - 1]) && (op[0] === 6 || op[0] === 2)) { _ = 0; continue; }\n                    if (op[0] === 3 && (!t || (op[1] > t[0] && op[1] < t[3]))) { _.label = op[1]; break; }\n                    if (op[0] === 6 && _.label < t[1]) { _.label = t[1]; t = op; break; }\n                    if (t && _.label < t[2]) { _.label = t[2]; _.ops.push(op); break; }\n                    if (t[2]) _.ops.pop();\n                    _.trys.pop(); continue;\n            }\n            op = body.call(thisArg, _);\n        } catch (e) { op = [6, e]; y = 0; } finally { f = t = 0; }\n        if (op[0] & 5) throw op[1]; return { value: op[0] ? op[1] : void 0, done: true };\n    }\n};\nimport { ENV } from '../environment';\nimport { basename, concatenateArrayBuffers, getModelArtifactsInfoForJSON } from './io_utils';\nimport { IORouterRegistry } from './router_registry';\nvar DEFAULT_FILE_NAME_PREFIX = 'model';\nvar DEFAULT_JSON_EXTENSION_NAME = '.json';\nvar DEFAULT_WEIGHT_DATA_EXTENSION_NAME = '.weights.bin';\nvar BrowserDownloads = (function () {\n    function BrowserDownloads(fileNamePrefix) {\n        if (!ENV.get('IS_BROWSER')) {\n            throw new Error('triggerDownloads() cannot proceed because the current environment ' +\n                'is not a browser.');\n        }\n        if (fileNamePrefix.startsWith(BrowserDownloads.URL_SCHEME)) {\n            fileNamePrefix = fileNamePrefix.slice(BrowserDownloads.URL_SCHEME.length);\n        }\n        if (fileNamePrefix == null || fileNamePrefix.length === 0) {\n            fileNamePrefix = DEFAULT_FILE_NAME_PREFIX;\n        }\n        this.modelTopologyFileName = fileNamePrefix + DEFAULT_JSON_EXTENSION_NAME;\n        this.weightDataFileName =\n            fileNamePrefix + DEFAULT_WEIGHT_DATA_EXTENSION_NAME;\n    }\n    BrowserDownloads.prototype.save = function (modelArtifacts) {\n        return __awaiter(this, void 0, void 0, function () {\n            var weightsURL, weightsManifest, modelTopologyAndWeightManifest, modelTopologyAndWeightManifestURL, jsonAnchor, weightDataAnchor;\n            return __generator(this, function (_a) {\n                weightsURL = window.URL.createObjectURL(new Blob([modelArtifacts.weightData], { type: 'application/octet-stream' }));\n                if (modelArtifacts.modelTopology instanceof ArrayBuffer) {\n                    throw new Error('DownloadTrigger.save() does not support saving model topology ' +\n                        'in binary formats yet.');\n                }\n                else {\n                    weightsManifest = [{\n                            paths: ['./' + this.weightDataFileName],\n                            weights: modelArtifacts.weightSpecs\n                        }];\n                    modelTopologyAndWeightManifest = {\n                        modelTopology: modelArtifacts.modelTopology,\n                        weightsManifest: weightsManifest\n                    };\n                    modelTopologyAndWeightManifestURL = window.URL.createObjectURL(new Blob([JSON.stringify(modelTopologyAndWeightManifest)], { type: 'application/json' }));\n                    jsonAnchor = this.jsonAnchor == null ? document.createElement('a') :\n                        this.jsonAnchor;\n                    jsonAnchor.download = this.modelTopologyFileName;\n                    jsonAnchor.href = modelTopologyAndWeightManifestURL;\n                    jsonAnchor.click();\n                    if (modelArtifacts.weightData != null) {\n                        weightDataAnchor = this.weightDataAnchor == null ?\n                            document.createElement('a') :\n                            this.weightDataAnchor;\n                        weightDataAnchor.download = this.weightDataFileName;\n                        weightDataAnchor.href = weightsURL;\n                        weightDataAnchor.click();\n                    }\n                    return [2, { modelArtifactsInfo: getModelArtifactsInfoForJSON(modelArtifacts) }];\n                }\n                return [2];\n            });\n        });\n    };\n    BrowserDownloads.URL_SCHEME = 'downloads://';\n    return BrowserDownloads;\n}());\nexport { BrowserDownloads };\nvar BrowserFiles = (function () {\n    function BrowserFiles(files) {\n        if (files == null || files.length < 1) {\n            throw new Error(\"When calling browserFiles, at least 1 file is required, \" +\n                (\"but received \" + files));\n        }\n        this.files = files;\n    }\n    BrowserFiles.prototype.load = function () {\n        return __awaiter(this, void 0, void 0, function () {\n            var _this = this;\n            var jsonFile, weightFiles;\n            return __generator(this, function (_a) {\n                jsonFile = this.files[0];\n                weightFiles = this.files.slice(1);\n                return [2, new Promise(function (resolve, reject) {\n                        var jsonReader = new FileReader();\n                        jsonReader.onload = function (event) {\n                            var modelJSON = JSON.parse(event.target.result);\n                            var modelTopology = modelJSON.modelTopology;\n                            if (modelTopology == null) {\n                                reject(new Error(\"modelTopology field is missing from file \" + jsonFile.name));\n                                return;\n                            }\n                            if (weightFiles.length === 0) {\n                                resolve({ modelTopology: modelTopology });\n                            }\n                            var weightsManifest = modelJSON.weightsManifest;\n                            if (weightsManifest == null) {\n                                reject(new Error(\"weightManifest field is missing from file \" + jsonFile.name));\n                                return;\n                            }\n                            var pathToFile;\n                            try {\n                                pathToFile =\n                                    _this.checkManifestAndWeightFiles(weightsManifest, weightFiles);\n                            }\n                            catch (err) {\n                                reject(err);\n                                return;\n                            }\n                            var weightSpecs = [];\n                            var paths = [];\n                            var perFileBuffers = [];\n                            weightsManifest.forEach(function (weightsGroup) {\n                                weightsGroup.paths.forEach(function (path) {\n                                    paths.push(path);\n                                    perFileBuffers.push(null);\n                                });\n                                weightSpecs.push.apply(weightSpecs, weightsGroup.weights);\n                            });\n                            weightsManifest.forEach(function (weightsGroup) {\n                                weightsGroup.paths.forEach(function (path) {\n                                    var weightFileReader = new FileReader();\n                                    weightFileReader.onload = function (event) {\n                                        var weightData = event.target.result;\n                                        var index = paths.indexOf(path);\n                                        perFileBuffers[index] = weightData;\n                                        if (perFileBuffers.indexOf(null) === -1) {\n                                            resolve({\n                                                modelTopology: modelTopology,\n                                                weightSpecs: weightSpecs,\n                                                weightData: concatenateArrayBuffers(perFileBuffers),\n                                            });\n                                        }\n                                    };\n                                    weightFileReader.onerror = function (error) {\n                                        reject(\"Failed to weights data from file of path '\" + path + \"'.\");\n                                        return;\n                                    };\n                                    weightFileReader.readAsArrayBuffer(pathToFile[path]);\n                                });\n                            });\n                        };\n                        jsonReader.onerror = function (error) {\n                            reject(\"Failed to read model topology and weights manifest JSON \" +\n                                (\"from file '\" + jsonFile.name + \"'. BrowserFiles supports loading \") +\n                                \"Keras-style tf.Model artifacts only.\");\n                            return;\n                        };\n                        jsonReader.readAsText(jsonFile);\n                    })];\n            });\n        });\n    };\n    BrowserFiles.prototype.checkManifestAndWeightFiles = function (manifest, files) {\n        var basenames = [];\n        var fileNames = files.map(function (file) { return basename(file.name); });\n        var pathToFile = {};\n        for (var _i = 0, manifest_1 = manifest; _i < manifest_1.length; _i++) {\n            var group = manifest_1[_i];\n            group.paths.forEach(function (path) {\n                var pathBasename = basename(path);\n                if (basenames.indexOf(pathBasename) !== -1) {\n                    throw new Error(\"Duplicate file basename found in weights manifest: \" +\n                        (\"'\" + pathBasename + \"'\"));\n                }\n                basenames.push(pathBasename);\n                if (fileNames.indexOf(pathBasename) === -1) {\n                    throw new Error(\"Weight file with basename '\" + pathBasename + \"' is not provided.\");\n                }\n                else {\n                    pathToFile[path] = files[fileNames.indexOf(pathBasename)];\n                }\n            });\n        }\n        if (basenames.length !== files.length) {\n            throw new Error(\"Mismatch in the number of files in weights manifest \" +\n                (\"(\" + basenames.length + \") and the number of weight files provided \") +\n                (\"(\" + files.length + \").\"));\n        }\n        return pathToFile;\n    };\n    return BrowserFiles;\n}());\nexport var browserDownloadsRouter = function (url) {\n    if (!ENV.get('IS_BROWSER')) {\n        return null;\n    }\n    else {\n        if (url.startsWith(BrowserDownloads.URL_SCHEME)) {\n            return browserDownloads(url.slice(BrowserDownloads.URL_SCHEME.length));\n        }\n        else {\n            return null;\n        }\n    }\n};\nIORouterRegistry.registerSaveRouter(browserDownloadsRouter);\nexport function browserDownloads(fileNamePrefix) {\n    if (fileNamePrefix === void 0) { fileNamePrefix = 'model'; }\n    return new BrowserDownloads(fileNamePrefix);\n}\nexport function browserFiles(files) {\n    return new BrowserFiles(files);\n}\n//# sourceMappingURL=browser_files.js.map","var __awaiter = (this && this.__awaiter) || function (thisArg, _arguments, P, generator) {\n    return new (P || (P = Promise))(function (resolve, reject) {\n        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\n        function rejected(value) { try { step(generator[\"throw\"](value)); } catch (e) { reject(e); } }\n        function step(result) { result.done ? resolve(result.value) : new P(function (resolve) { resolve(result.value); }).then(fulfilled, rejected); }\n        step((generator = generator.apply(thisArg, _arguments || [])).next());\n    });\n};\nvar __generator = (this && this.__generator) || function (thisArg, body) {\n    var _ = { label: 0, sent: function() { if (t[0] & 1) throw t[1]; return t[1]; }, trys: [], ops: [] }, f, y, t, g;\n    return g = { next: verb(0), \"throw\": verb(1), \"return\": verb(2) }, typeof Symbol === \"function\" && (g[Symbol.iterator] = function() { return this; }), g;\n    function verb(n) { return function (v) { return step([n, v]); }; }\n    function step(op) {\n        if (f) throw new TypeError(\"Generator is already executing.\");\n        while (_) try {\n            if (f = 1, y && (t = y[op[0] & 2 ? \"return\" : op[0] ? \"throw\" : \"next\"]) && !(t = t.call(y, op[1])).done) return t;\n            if (y = 0, t) op = [0, t.value];\n            switch (op[0]) {\n                case 0: case 1: t = op; break;\n                case 4: _.label++; return { value: op[1], done: false };\n                case 5: _.label++; y = op[1]; op = [0]; continue;\n                case 7: op = _.ops.pop(); _.trys.pop(); continue;\n                default:\n                    if (!(t = _.trys, t = t.length > 0 && t[t.length - 1]) && (op[0] === 6 || op[0] === 2)) { _ = 0; continue; }\n                    if (op[0] === 3 && (!t || (op[1] > t[0] && op[1] < t[3]))) { _.label = op[1]; break; }\n                    if (op[0] === 6 && _.label < t[1]) { _.label = t[1]; t = op; break; }\n                    if (t && _.label < t[2]) { _.label = t[2]; _.ops.push(op); break; }\n                    if (t[2]) _.ops.pop();\n                    _.trys.pop(); continue;\n            }\n            op = body.call(thisArg, _);\n        } catch (e) { op = [6, e]; y = 0; } finally { f = t = 0; }\n        if (op[0] & 5) throw op[1]; return { value: op[0] ? op[1] : void 0, done: true };\n    }\n};\nimport { ENV } from '../environment';\nimport { assert } from '../util';\nimport { getModelArtifactsInfoForJSON } from './io_utils';\nimport { IORouterRegistry } from './router_registry';\nvar BrowserHTTPRequest = (function () {\n    function BrowserHTTPRequest(path, requestInit) {\n        this.DEFAULT_METHOD = 'POST';\n        if (!ENV.get('IS_BROWSER')) {\n            throw new Error('browserHTTPRequest is not supported outside the web browser.');\n        }\n        assert(path != null && path.length > 0, 'URL path for browserHTTPRequest must not be null, undefined or ' +\n            'empty.');\n        this.path = path;\n        if (requestInit != null && requestInit.body != null) {\n            throw new Error('requestInit is expected to have no pre-existing body, but has one.');\n        }\n        this.requestInit = requestInit || {};\n    }\n    BrowserHTTPRequest.prototype.save = function (modelArtifacts) {\n        return __awaiter(this, void 0, void 0, function () {\n            var init, weightsManifest, modelTopologyAndWeightManifest, response;\n            return __generator(this, function (_a) {\n                switch (_a.label) {\n                    case 0:\n                        if (modelArtifacts.modelTopology instanceof ArrayBuffer) {\n                            throw new Error('BrowserHTTPRequest.save() does not support saving model topology ' +\n                                'in binary formats yet.');\n                        }\n                        init = Object.assign({ method: this.DEFAULT_METHOD }, this.requestInit);\n                        init.body = new FormData();\n                        weightsManifest = [{\n                                paths: ['./model.weights.bin'],\n                                weights: modelArtifacts.weightSpecs,\n                            }];\n                        modelTopologyAndWeightManifest = {\n                            modelTopology: modelArtifacts.modelTopology,\n                            weightsManifest: weightsManifest\n                        };\n                        init.body.append('model.json', new Blob([JSON.stringify(modelTopologyAndWeightManifest)], { type: 'application/json' }), 'model.json');\n                        if (modelArtifacts.weightData != null) {\n                            init.body.append('model.weights.bin', new Blob([modelArtifacts.weightData], { type: 'application/octet-stream' }), 'model.weights.bin');\n                        }\n                        return [4, fetch(this.path, init)];\n                    case 1:\n                        response = _a.sent();\n                        if (response.status === 200) {\n                            return [2, {\n                                    modelArtifactsInfo: getModelArtifactsInfoForJSON(modelArtifacts),\n                                    responses: [response],\n                                }];\n                        }\n                        else {\n                            throw new Error(\"BrowserHTTPRequest.save() failed due to HTTP response status \" +\n                                (response.status + \".\"));\n                        }\n                        return [2];\n                }\n            });\n        });\n    };\n    BrowserHTTPRequest.URL_SCHEMES = ['http://', 'https://'];\n    return BrowserHTTPRequest;\n}());\nexport { BrowserHTTPRequest };\nexport var httpRequestRouter = function (url) {\n    if (!ENV.get('IS_BROWSER')) {\n        return null;\n    }\n    else {\n        for (var _i = 0, _a = BrowserHTTPRequest.URL_SCHEMES; _i < _a.length; _i++) {\n            var scheme = _a[_i];\n            if (url.startsWith(scheme)) {\n                return browserHTTPRequest(url);\n            }\n        }\n        return null;\n    }\n};\nIORouterRegistry.registerSaveRouter(httpRequestRouter);\nexport function browserHTTPRequest(path, requestInit) {\n    return new BrowserHTTPRequest(path, requestInit);\n}\n//# sourceMappingURL=browser_http.js.map","var __awaiter = (this && this.__awaiter) || function (thisArg, _arguments, P, generator) {\n    return new (P || (P = Promise))(function (resolve, reject) {\n        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\n        function rejected(value) { try { step(generator[\"throw\"](value)); } catch (e) { reject(e); } }\n        function step(result) { result.done ? resolve(result.value) : new P(function (resolve) { resolve(result.value); }).then(fulfilled, rejected); }\n        step((generator = generator.apply(thisArg, _arguments || [])).next());\n    });\n};\nvar __generator = (this && this.__generator) || function (thisArg, body) {\n    var _ = { label: 0, sent: function() { if (t[0] & 1) throw t[1]; return t[1]; }, trys: [], ops: [] }, f, y, t, g;\n    return g = { next: verb(0), \"throw\": verb(1), \"return\": verb(2) }, typeof Symbol === \"function\" && (g[Symbol.iterator] = function() { return this; }), g;\n    function verb(n) { return function (v) { return step([n, v]); }; }\n    function step(op) {\n        if (f) throw new TypeError(\"Generator is already executing.\");\n        while (_) try {\n            if (f = 1, y && (t = y[op[0] & 2 ? \"return\" : op[0] ? \"throw\" : \"next\"]) && !(t = t.call(y, op[1])).done) return t;\n            if (y = 0, t) op = [0, t.value];\n            switch (op[0]) {\n                case 0: case 1: t = op; break;\n                case 4: _.label++; return { value: op[1], done: false };\n                case 5: _.label++; y = op[1]; op = [0]; continue;\n                case 7: op = _.ops.pop(); _.trys.pop(); continue;\n                default:\n                    if (!(t = _.trys, t = t.length > 0 && t[t.length - 1]) && (op[0] === 6 || op[0] === 2)) { _ = 0; continue; }\n                    if (op[0] === 3 && (!t || (op[1] > t[0] && op[1] < t[3]))) { _.label = op[1]; break; }\n                    if (op[0] === 6 && _.label < t[1]) { _.label = t[1]; t = op; break; }\n                    if (t && _.label < t[2]) { _.label = t[2]; _.ops.push(op); break; }\n                    if (t[2]) _.ops.pop();\n                    _.trys.pop(); continue;\n            }\n            op = body.call(thisArg, _);\n        } catch (e) { op = [6, e]; y = 0; } finally { f = t = 0; }\n        if (op[0] & 5) throw op[1]; return { value: op[0] ? op[1] : void 0, done: true };\n    }\n};\nimport { tensor } from '../ops/ops';\nimport * as util from '../util';\nimport { DTYPE_VALUE_SIZE_MAP } from './types';\nexport function loadWeights(manifest, filePathPrefix, weightNames, requestOptions) {\n    if (filePathPrefix === void 0) { filePathPrefix = ''; }\n    return __awaiter(this, void 0, void 0, function () {\n        var groupIndicesToFetchMap, groupWeightsToFetch, weightsFound, allManifestWeightNames, weightsNotFound, groupIndicesToFetch, requests, responses, buffers, weightsTensorMap, bufferIndexOffset;\n        return __generator(this, function (_a) {\n            switch (_a.label) {\n                case 0:\n                    groupIndicesToFetchMap = manifest.map(function () { return false; });\n                    groupWeightsToFetch = {};\n                    weightsFound = weightNames != null ? weightNames.map(function () { return false; }) : [];\n                    allManifestWeightNames = [];\n                    manifest.forEach(function (manifestGroupConfig, groupIndex) {\n                        var groupOffset = 0;\n                        manifestGroupConfig.weights.forEach(function (weightsEntry) {\n                            var rawDtype = ('quantization' in weightsEntry) ?\n                                weightsEntry.quantization.dtype :\n                                weightsEntry.dtype;\n                            var weightsBytes = DTYPE_VALUE_SIZE_MAP[rawDtype] *\n                                util.sizeFromShape(weightsEntry.shape);\n                            var enqueueWeightsForFetchingFn = function () {\n                                groupIndicesToFetchMap[groupIndex] = true;\n                                if (groupWeightsToFetch[groupIndex] == null) {\n                                    groupWeightsToFetch[groupIndex] = [];\n                                }\n                                groupWeightsToFetch[groupIndex].push({\n                                    manifestEntry: weightsEntry,\n                                    groupOffset: groupOffset,\n                                    sizeBytes: weightsBytes\n                                });\n                            };\n                            if (weightNames != null) {\n                                weightNames.forEach(function (weightName, weightIndex) {\n                                    if (weightName === weightsEntry.name) {\n                                        enqueueWeightsForFetchingFn();\n                                        weightsFound[weightIndex] = true;\n                                    }\n                                });\n                            }\n                            else {\n                                enqueueWeightsForFetchingFn();\n                            }\n                            allManifestWeightNames.push(weightsEntry.name);\n                            groupOffset += weightsBytes;\n                        });\n                    });\n                    if (!weightsFound.every(function (found) { return found; })) {\n                        weightsNotFound = weightNames.filter(function (weight, i) { return !weightsFound[i]; });\n                        throw new Error(\"Could not find weights in manifest with names: \" +\n                            (weightsNotFound.join(', ') + \". \\n\") +\n                            \"Manifest JSON has weights with names: \" +\n                            (allManifestWeightNames.join(', ') + \".\"));\n                    }\n                    groupIndicesToFetch = groupIndicesToFetchMap.reduce(function (accumulator, shouldFetch, i) {\n                        if (shouldFetch) {\n                            accumulator.push(i);\n                        }\n                        return accumulator;\n                    }, []);\n                    requests = [];\n                    groupIndicesToFetch.forEach(function (i) {\n                        manifest[i].paths.forEach(function (filepath) {\n                            var fetchUrl = filePathPrefix +\n                                (!filePathPrefix.endsWith('/') ? '/' : '') + filepath;\n                            requests.push(fetch(fetchUrl, requestOptions));\n                        });\n                    });\n                    return [4, Promise.all(requests)];\n                case 1:\n                    responses = _a.sent();\n                    return [4, Promise.all(responses.map(function (response) { return response.arrayBuffer(); }))];\n                case 2:\n                    buffers = _a.sent();\n                    weightsTensorMap = {};\n                    bufferIndexOffset = 0;\n                    groupIndicesToFetch.forEach(function (i) {\n                        var numBuffers = manifest[i].paths.length;\n                        var groupBytes = 0;\n                        for (var i_1 = 0; i_1 < numBuffers; i_1++) {\n                            groupBytes += buffers[bufferIndexOffset + i_1].byteLength;\n                        }\n                        var groupBuffer = new ArrayBuffer(groupBytes);\n                        var groupByteBuffer = new Uint8Array(groupBuffer);\n                        var groupBufferOffset = 0;\n                        for (var i_2 = 0; i_2 < numBuffers; i_2++) {\n                            var buffer = new Uint8Array(buffers[bufferIndexOffset + i_2]);\n                            groupByteBuffer.set(buffer, groupBufferOffset);\n                            groupBufferOffset += buffer.byteLength;\n                        }\n                        var weightsEntries = groupWeightsToFetch[i];\n                        weightsEntries.forEach(function (weightsEntry) {\n                            var byteBuffer = groupBuffer.slice(weightsEntry.groupOffset, weightsEntry.groupOffset + weightsEntry.sizeBytes);\n                            var typedArray;\n                            var dtype = weightsEntry.manifestEntry.dtype;\n                            if ('quantization' in weightsEntry.manifestEntry) {\n                                var quantization_1 = weightsEntry.manifestEntry.quantization;\n                                if (quantization_1.dtype !== 'uint8' && quantization_1.dtype !== 'uint16') {\n                                    throw new Error(\"Weight \" + weightsEntry.manifestEntry.name + \" has unknown \" +\n                                        (\"quantization dtype \" + quantization_1.dtype + \".\"));\n                                }\n                                var quantizedArray = (quantization_1.dtype === 'uint8') ?\n                                    new Uint8Array(byteBuffer) :\n                                    new Uint16Array(byteBuffer);\n                                if (dtype === 'float32') {\n                                    typedArray = Float32Array.from(quantizedArray, function (v) { return v * quantization_1.scale + quantization_1.min; });\n                                }\n                                else if (dtype === 'int32') {\n                                    typedArray = Int32Array.from(quantizedArray, function (v) { return Math.round(v * quantization_1.scale + quantization_1.min); });\n                                }\n                                else {\n                                    throw new Error(\"Weight \" + weightsEntry.manifestEntry.name + \" has a dtype not \" +\n                                        (\"supported by quantization: \" + dtype));\n                                }\n                            }\n                            else {\n                                if (dtype === 'float32') {\n                                    typedArray = new Float32Array(byteBuffer);\n                                }\n                                else if (dtype === 'int32') {\n                                    typedArray = new Int32Array(byteBuffer);\n                                }\n                                else {\n                                    throw new Error(\"Weight \" + weightsEntry.manifestEntry.name + \" has unknown dtype \" +\n                                        (dtype + \".\"));\n                                }\n                            }\n                            var weightName = weightsEntry.manifestEntry.name;\n                            if (weightsTensorMap[weightName] != null) {\n                                throw new Error(\"Duplicate weight with name \" + weightName + \". \" +\n                                    \"Please make sure weights names are unique in the manifest JSON.\");\n                            }\n                            weightsTensorMap[weightName] = tensor(typedArray, weightsEntry.manifestEntry.shape, weightsEntry.manifestEntry.dtype);\n                        });\n                        bufferIndexOffset += numBuffers;\n                    });\n                    return [2, weightsTensorMap];\n            }\n        });\n    });\n}\n//# sourceMappingURL=weights_loader.js.map","import './indexed_db';\nimport './local_storage';\nimport { browserFiles } from './browser_files';\nimport { browserHTTPRequest } from './browser_http';\nimport { decodeWeights, encodeWeights } from './io_utils';\nimport { copyModel, listModels, moveModel, removeModel } from './model_management';\nimport { IORouterRegistry } from './router_registry';\nimport { loadWeights } from './weights_loader';\nvar registerSaveRouter = IORouterRegistry.registerSaveRouter;\nvar registerLoadRouter = IORouterRegistry.registerLoadRouter;\nvar getSaveHandlers = IORouterRegistry.getSaveHandlers;\nvar getLoadHandlers = IORouterRegistry.getLoadHandlers;\nexport { browserFiles, browserHTTPRequest, copyModel, decodeWeights, encodeWeights, getLoadHandlers, getSaveHandlers, listModels, loadWeights, moveModel, registerLoadRouter, registerSaveRouter, removeModel };\n//# sourceMappingURL=io.js.map","var Serializable = (function () {\n    function Serializable() {\n    }\n    Serializable.prototype.getClassName = function () {\n        return this.constructor\n            .className;\n    };\n    Serializable.fromConfig = function (cls, config) {\n        return new cls(config);\n    };\n    return Serializable;\n}());\nexport { Serializable };\nvar SerializationMap = (function () {\n    function SerializationMap() {\n        this.classNameMap = {};\n    }\n    SerializationMap.getMap = function () {\n        if (SerializationMap.instance == null) {\n            SerializationMap.instance = new SerializationMap();\n        }\n        return SerializationMap.instance;\n    };\n    SerializationMap.register = function (cls) {\n        this.getMap().classNameMap[cls.className] = [cls, cls.fromConfig];\n    };\n    return SerializationMap;\n}());\nexport { SerializationMap };\n//# sourceMappingURL=serialization.js.map","import { Tensor } from './tensor';\nimport * as util from './util';\nexport var WEBGL_ENVS = {\n    'BACKEND': 'test-webgl'\n};\nexport var CPU_ENVS = {\n    'BACKEND': 'test-cpu'\n};\nexport var ALL_ENVS = {};\nexport var TEST_EPSILON = 1e-3;\nexport function expectArraysClose(actual, expected, epsilon) {\n    if (epsilon === void 0) { epsilon = TEST_EPSILON; }\n    if (!(actual instanceof Tensor) && !(expected instanceof Tensor)) {\n        var aType = actual.constructor.name;\n        var bType = expected.constructor.name;\n        if (aType !== bType) {\n            throw new Error(\"Arrays are of different type actual: \" + aType + \" \" +\n                (\"vs expected: \" + bType));\n        }\n    }\n    else if (actual instanceof Tensor && expected instanceof Tensor) {\n        if (actual.dtype !== expected.dtype) {\n            throw new Error(\"Arrays are of different type actual: \" + actual.dtype + \" \" +\n                (\"vs expected: \" + expected.dtype + \".\"));\n        }\n        if (!util.arraysEqual(actual.shape, expected.shape)) {\n            throw new Error(\"Arrays are of different shape actual: \" + actual.shape + \" \" +\n                (\"vs expected: \" + expected.shape + \".\"));\n        }\n    }\n    var actualValues;\n    var expectedValues;\n    if (actual instanceof Tensor) {\n        actualValues = actual.dataSync();\n    }\n    else {\n        actualValues = actual;\n    }\n    if (expected instanceof Tensor) {\n        expectedValues = expected.dataSync();\n    }\n    else {\n        expectedValues = expected;\n    }\n    if (actualValues.length !== expectedValues.length) {\n        throw new Error(\"Arrays have different lengths actual: \" + actualValues.length + \" vs \" +\n            (\"expected: \" + expectedValues.length + \".\\n\") +\n            (\"Actual:   \" + actualValues + \".\\n\") +\n            (\"Expected: \" + expectedValues + \".\"));\n    }\n    for (var i = 0; i < expectedValues.length; ++i) {\n        var a = actualValues[i];\n        var e = expectedValues[i];\n        if (!areClose(a, Number(e), epsilon)) {\n            throw new Error(\"Arrays differ: actual[\" + i + \"] = \" + a + \", expected[\" + i + \"] = \" + e + \".\\n\" +\n                (\"Actual:   \" + actualValues + \".\\n\") +\n                (\"Expected: \" + expectedValues + \".\"));\n        }\n    }\n}\nexport function expectPromiseToFail(fn, done) {\n    fn().then(function () { return done.fail(); }, function () { return done(); });\n}\nexport function expectArraysEqual(actual, expected) {\n    return expectArraysClose(actual, expected, 0);\n}\nexport function expectNumbersClose(a, e, epsilon) {\n    if (epsilon === void 0) { epsilon = TEST_EPSILON; }\n    if (!areClose(a, e, epsilon)) {\n        throw new Error(\"Numbers differ: actual === \" + a + \", expected === \" + e);\n    }\n}\nfunction areClose(a, e, epsilon) {\n    if (isNaN(a) && isNaN(e)) {\n        return true;\n    }\n    if (isNaN(a) || isNaN(e) || Math.abs(a - e) > epsilon) {\n        return false;\n    }\n    return true;\n}\nexport function expectValuesInRange(actual, low, high) {\n    var actualVals;\n    if (actual instanceof Tensor) {\n        actualVals = actual.dataSync();\n    }\n    else {\n        actualVals = actual;\n    }\n    for (var i = 0; i < actualVals.length; i++) {\n        if (actualVals[i] < low || actualVals[i] > high) {\n            throw new Error(\"Value out of range:\" + actualVals[i] + \" low: \" + low + \", high: \" + high);\n        }\n    }\n}\n//# sourceMappingURL=test_util.js.map","var version = '0.11.0';\nexport { version };\n//# sourceMappingURL=version.js.map","import * as webgl_util from './kernels/webgl/webgl_util';\nimport * as gpgpu_util from './kernels/webgl/gpgpu_util';\nexport { MathBackendWebGL } from './kernels/backend_webgl';\nexport { GPGPUContext } from './kernels/webgl/gpgpu_context';\nexport { gpgpu_util, webgl_util };\n//# sourceMappingURL=webgl.js.map","var __extends = (this && this.__extends) || (function () {\n    var extendStatics = Object.setPrototypeOf ||\n        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n        function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nvar __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\n};\nimport { doc } from '../doc';\nimport { variableGrads } from '../globals';\nimport { Serializable } from '../serialization';\nvar Optimizer = (function (_super) {\n    __extends(Optimizer, _super);\n    function Optimizer() {\n        return _super !== null && _super.apply(this, arguments) || this;\n    }\n    Optimizer.prototype.minimize = function (f, returnCost, varList) {\n        if (returnCost === void 0) { returnCost = false; }\n        var _a = this.computeGradients(f, varList), value = _a.value, grads = _a.grads;\n        this.applyGradients(grads);\n        var varNames = Object.keys(grads);\n        varNames.forEach(function (varName) { return grads[varName].dispose(); });\n        if (returnCost) {\n            return value;\n        }\n        else {\n            value.dispose();\n            return null;\n        }\n    };\n    Optimizer.prototype.computeGradients = function (f, varList) {\n        return variableGrads(f, varList);\n    };\n    __decorate([\n        doc({ heading: 'Training', subheading: 'Optimizers' })\n    ], Optimizer.prototype, \"minimize\", null);\n    Optimizer = __decorate([\n        doc({ heading: 'Training', subheading: 'Classes', namespace: 'train' })\n    ], Optimizer);\n    return Optimizer;\n}(Serializable));\nexport { Optimizer };\n//# sourceMappingURL=optimizer.js.map","var __extends = (this && this.__extends) || (function () {\n    var extendStatics = Object.setPrototypeOf ||\n        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n        function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nimport { ENV } from '../environment';\nimport { keep, tidy } from '../globals';\nimport { scalar, zerosLike } from '../ops/ops';\nimport { SerializationMap } from '../serialization';\nimport { Optimizer } from './optimizer';\nvar AdadeltaOptimizer = (function (_super) {\n    __extends(AdadeltaOptimizer, _super);\n    function AdadeltaOptimizer(learningRate, rho, epsilon) {\n        if (epsilon === void 0) { epsilon = 1e-8; }\n        var _this = _super.call(this) || this;\n        _this.learningRate = learningRate;\n        _this.rho = rho;\n        _this.epsilon = epsilon;\n        _this.accumulatedGrads = {};\n        _this.accumulatedUpdates = {};\n        _this.c = keep(scalar(-learningRate));\n        _this.epsilonScalar = keep(scalar(epsilon));\n        _this.rhoScalar = keep(scalar(rho));\n        _this.oneMinusRho = keep(scalar(1 - rho));\n        return _this;\n    }\n    AdadeltaOptimizer.prototype.applyGradients = function (variableGradients) {\n        var _this = this;\n        var _loop_1 = function (variableName) {\n            var value = ENV.engine.registeredVariables[variableName];\n            if (this_1.accumulatedGrads[variableName] == null) {\n                var trainable_1 = false;\n                tidy(function () {\n                    _this.accumulatedGrads[variableName] =\n                        zerosLike(value).variable(trainable_1);\n                });\n            }\n            if (this_1.accumulatedUpdates[variableName] == null) {\n                var trainable_2 = false;\n                tidy(function () {\n                    _this.accumulatedUpdates[variableName] =\n                        zerosLike(value).variable(trainable_2);\n                });\n            }\n            var gradient = variableGradients[variableName];\n            var accumulatedGrad = this_1.accumulatedGrads[variableName];\n            var accumulatedUpdate = this_1.accumulatedUpdates[variableName];\n            tidy(function () {\n                var newAccumulatedGrad = _this.rhoScalar.mul(accumulatedGrad)\n                    .add(_this.oneMinusRho.mul(gradient.square()));\n                var updates = accumulatedUpdate.add(_this.epsilonScalar)\n                    .sqrt()\n                    .div(accumulatedGrad.add(_this.epsilonScalar).sqrt())\n                    .mul(gradient);\n                var newAccumulatedUpdate = _this.rhoScalar.mul(accumulatedUpdate)\n                    .add(_this.oneMinusRho.mul(updates.square()));\n                _this.accumulatedGrads[variableName].assign(newAccumulatedGrad);\n                _this.accumulatedUpdates[variableName].assign(newAccumulatedUpdate);\n                var newValue = _this.c.mul(updates).add(value);\n                value.assign(newValue);\n            });\n        };\n        var this_1 = this;\n        for (var variableName in variableGradients) {\n            _loop_1(variableName);\n        }\n    };\n    AdadeltaOptimizer.prototype.dispose = function () {\n        var _this = this;\n        this.c.dispose();\n        this.epsilonScalar.dispose();\n        this.rhoScalar.dispose();\n        this.oneMinusRho.dispose();\n        if (this.accumulatedUpdates != null) {\n            Object.keys(this.accumulatedUpdates)\n                .forEach(function (name) { return _this.accumulatedUpdates[name].dispose(); });\n            Object.keys(this.accumulatedGrads)\n                .forEach(function (name) { return _this.accumulatedGrads[name].dispose(); });\n        }\n    };\n    AdadeltaOptimizer.prototype.getConfig = function () {\n        return {\n            learningRate: this.learningRate,\n            rho: this.rho,\n            epsilon: this.epsilon\n        };\n    };\n    AdadeltaOptimizer.fromConfig = function (cls, config) {\n        return new cls(config.learningRate, config.rho, config.epsilon);\n    };\n    AdadeltaOptimizer.className = 'AdadeltaOptimizer';\n    return AdadeltaOptimizer;\n}(Optimizer));\nexport { AdadeltaOptimizer };\nSerializationMap.register(AdadeltaOptimizer);\n//# sourceMappingURL=adadelta_optimizer.js.map","var __extends = (this && this.__extends) || (function () {\n    var extendStatics = Object.setPrototypeOf ||\n        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n        function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nimport { ENV } from '../environment';\nimport { keep, tidy } from '../globals';\nimport { fill, scalar } from '../ops/ops';\nimport { SerializationMap } from '../serialization';\nimport { Optimizer } from './optimizer';\nvar AdagradOptimizer = (function (_super) {\n    __extends(AdagradOptimizer, _super);\n    function AdagradOptimizer(learningRate, initialAccumulatorValue) {\n        if (initialAccumulatorValue === void 0) { initialAccumulatorValue = 0.1; }\n        var _this = _super.call(this) || this;\n        _this.learningRate = learningRate;\n        _this.initialAccumulatorValue = initialAccumulatorValue;\n        _this.accumulatedGrads = {};\n        _this.c = keep(scalar(-learningRate));\n        _this.epsilon = keep(scalar(1e-8));\n        return _this;\n    }\n    AdagradOptimizer.prototype.applyGradients = function (variableGradients) {\n        var _this = this;\n        var _loop_1 = function (variableName) {\n            var value = ENV.engine.registeredVariables[variableName];\n            if (this_1.accumulatedGrads[variableName] == null) {\n                var trainable_1 = false;\n                tidy(function () {\n                    _this.accumulatedGrads[variableName] =\n                        fill(value.shape, _this.initialAccumulatorValue)\n                            .variable(trainable_1);\n                });\n            }\n            var gradient = variableGradients[variableName];\n            var accumulatedGrad = this_1.accumulatedGrads[variableName];\n            tidy(function () {\n                var newAccumulatedGrad = accumulatedGrad.add(gradient.square());\n                _this.accumulatedGrads[variableName].assign(newAccumulatedGrad);\n                var newValue = _this.c\n                    .mul(gradient.div(newAccumulatedGrad.add(_this.epsilon).sqrt()))\n                    .add(value);\n                value.assign(newValue);\n            });\n        };\n        var this_1 = this;\n        for (var variableName in variableGradients) {\n            _loop_1(variableName);\n        }\n    };\n    AdagradOptimizer.prototype.dispose = function () {\n        var _this = this;\n        this.epsilon.dispose();\n        this.c.dispose();\n        if (this.accumulatedGrads != null) {\n            Object.keys(this.accumulatedGrads)\n                .forEach(function (name) { return _this.accumulatedGrads[name].dispose(); });\n        }\n    };\n    AdagradOptimizer.prototype.getConfig = function () {\n        return {\n            learningRate: this.learningRate,\n            initialAccumulatorValue: this.initialAccumulatorValue,\n        };\n    };\n    AdagradOptimizer.fromConfig = function (cls, config) {\n        return new cls(config.learningRate, config.initialAccumulatorValue);\n    };\n    AdagradOptimizer.className = 'AdagradOptimizer';\n    return AdagradOptimizer;\n}(Optimizer));\nexport { AdagradOptimizer };\nSerializationMap.register(AdagradOptimizer);\n//# sourceMappingURL=adagrad_optimizer.js.map","var __extends = (this && this.__extends) || (function () {\n    var extendStatics = Object.setPrototypeOf ||\n        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n        function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nimport { ENV } from '../environment';\nimport { keep, tidy } from '../globals';\nimport { scalar, zerosLike } from '../ops/ops';\nimport { SerializationMap } from '../serialization';\nimport { Optimizer } from './optimizer';\nvar AdamOptimizer = (function (_super) {\n    __extends(AdamOptimizer, _super);\n    function AdamOptimizer(learningRate, beta1, beta2, epsilon) {\n        if (epsilon === void 0) { epsilon = 1e-8; }\n        var _this = _super.call(this) || this;\n        _this.learningRate = learningRate;\n        _this.beta1 = beta1;\n        _this.beta2 = beta2;\n        _this.epsilon = epsilon;\n        _this.accumulatedFirstMoment = {};\n        _this.accumulatedSecondMoment = {};\n        _this.c = keep(scalar(-learningRate));\n        _this.epsScalar = keep(scalar(epsilon));\n        _this.beta1Scalar = keep(scalar(beta1));\n        _this.beta2Scalar = keep(scalar(beta2));\n        tidy(function () {\n            _this.accBeta1 = scalar(beta1).variable();\n            _this.accBeta2 = scalar(beta2).variable();\n        });\n        _this.oneMinusBeta1 = keep(scalar(1 - beta1));\n        _this.oneMinusBeta2 = keep(scalar(1 - beta2));\n        _this.one = keep(scalar(1));\n        return _this;\n    }\n    AdamOptimizer.prototype.applyGradients = function (variableGradients) {\n        var _this = this;\n        tidy(function () {\n            var oneMinusAccBeta1 = _this.one.sub(_this.accBeta1);\n            var oneMinusAccBeta2 = _this.one.sub(_this.accBeta2);\n            for (var variableName in variableGradients) {\n                var value = ENV.engine.registeredVariables[variableName];\n                if (_this.accumulatedFirstMoment[variableName] == null) {\n                    var trainable = false;\n                    _this.accumulatedFirstMoment[variableName] =\n                        zerosLike(value).variable(trainable);\n                }\n                if (_this.accumulatedSecondMoment[variableName] == null) {\n                    var trainable = false;\n                    _this.accumulatedSecondMoment[variableName] =\n                        zerosLike(value).variable(trainable);\n                }\n                var gradient = variableGradients[variableName];\n                var firstMoment = _this.accumulatedFirstMoment[variableName];\n                var secondMoment = _this.accumulatedSecondMoment[variableName];\n                var newFirstMoment = _this.beta1Scalar.mul(firstMoment)\n                    .add(_this.oneMinusBeta1.mul(gradient));\n                var newSecondMoment = _this.beta2Scalar.mul(secondMoment)\n                    .add(_this.oneMinusBeta2.mul(gradient.square()));\n                var biasCorrectedFirstMoment = newFirstMoment.div(oneMinusAccBeta1);\n                var biasCorrectedSecondMoment = newSecondMoment.div(oneMinusAccBeta2);\n                _this.accumulatedFirstMoment[variableName].assign(newFirstMoment);\n                _this.accumulatedSecondMoment[variableName].assign(newSecondMoment);\n                var newValue = _this.c\n                    .mul(biasCorrectedFirstMoment.div(_this.epsScalar.add(biasCorrectedSecondMoment.sqrt())))\n                    .add(value);\n                value.assign(newValue);\n            }\n            _this.accBeta1.assign(_this.accBeta1.mul(_this.beta1Scalar));\n            _this.accBeta2.assign(_this.accBeta2.mul(_this.beta2Scalar));\n        });\n    };\n    AdamOptimizer.prototype.dispose = function () {\n        var _this = this;\n        this.c.dispose();\n        this.epsScalar.dispose();\n        this.beta1Scalar.dispose();\n        this.beta2Scalar.dispose();\n        this.accBeta1.dispose();\n        this.accBeta2.dispose();\n        this.oneMinusBeta1.dispose();\n        this.oneMinusBeta2.dispose();\n        this.one.dispose();\n        if (this.accumulatedFirstMoment != null) {\n            Object.keys(this.accumulatedFirstMoment)\n                .forEach(function (name) { return _this.accumulatedFirstMoment[name].dispose(); });\n        }\n        if (this.accumulatedSecondMoment != null) {\n            Object.keys(this.accumulatedSecondMoment)\n                .forEach(function (name) { return _this.accumulatedSecondMoment[name].dispose(); });\n        }\n    };\n    AdamOptimizer.prototype.getConfig = function () {\n        return {\n            learningRate: this.learningRate,\n            beta1: this.beta1,\n            beta2: this.beta2,\n            epsilon: this.epsilon,\n        };\n    };\n    AdamOptimizer.fromConfig = function (cls, config) {\n        return new cls(config.learningRate, config.beta1, config.beta2, config.epsilon);\n    };\n    AdamOptimizer.className = 'AdamOptimizer';\n    return AdamOptimizer;\n}(Optimizer));\nexport { AdamOptimizer };\nSerializationMap.register(AdamOptimizer);\n//# sourceMappingURL=adam_optimizer.js.map","var __extends = (this && this.__extends) || (function () {\n    var extendStatics = Object.setPrototypeOf ||\n        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n        function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nimport { ENV } from '../environment';\nimport { keep, tidy } from '../globals';\nimport { scalar, zerosLike } from '../ops/ops';\nimport { SerializationMap } from '../serialization';\nimport { Optimizer } from './optimizer';\nvar AdamaxOptimizer = (function (_super) {\n    __extends(AdamaxOptimizer, _super);\n    function AdamaxOptimizer(learningRate, beta1, beta2, epsilon, decay) {\n        if (epsilon === void 0) { epsilon = 1e-8; }\n        if (decay === void 0) { decay = 0.0; }\n        var _this = _super.call(this) || this;\n        _this.learningRate = learningRate;\n        _this.beta1 = beta1;\n        _this.beta2 = beta2;\n        _this.epsilon = epsilon;\n        _this.decay = decay;\n        _this.accumulatedFirstMoment = {};\n        _this.accumulatedWeightedInfNorm = {};\n        _this.c = keep(scalar(-learningRate));\n        _this.epsScalar = keep(scalar(epsilon));\n        _this.beta1Scalar = keep(scalar(beta1));\n        _this.beta2Scalar = keep(scalar(beta2));\n        _this.decayScalar = keep(scalar(decay));\n        tidy(function () {\n            _this.iteration = scalar(0).variable();\n            _this.accBeta1 = scalar(beta1).variable();\n        });\n        _this.oneMinusBeta1 = keep(scalar(1 - beta1));\n        _this.one = keep(scalar(1));\n        return _this;\n    }\n    AdamaxOptimizer.prototype.applyGradients = function (variableGradients) {\n        var _this = this;\n        tidy(function () {\n            var oneMinusAccBeta1 = _this.one.sub(_this.accBeta1);\n            var lr = _this.c.div(_this.one.add(_this.decayScalar.mul(_this.iteration)));\n            for (var variableName in variableGradients) {\n                var value = ENV.engine.registeredVariables[variableName];\n                if (_this.accumulatedFirstMoment[variableName] == null) {\n                    var trainable = false;\n                    _this.accumulatedFirstMoment[variableName] =\n                        zerosLike(value).variable(trainable);\n                }\n                if (_this.accumulatedWeightedInfNorm[variableName] == null) {\n                    var trainable = false;\n                    _this.accumulatedWeightedInfNorm[variableName] =\n                        zerosLike(value).variable(trainable);\n                }\n                var gradient = variableGradients[variableName];\n                var firstMoment = _this.accumulatedFirstMoment[variableName];\n                var weightedInfNorm = _this.accumulatedWeightedInfNorm[variableName];\n                var newFirstMoment = _this.beta1Scalar.mul(firstMoment)\n                    .add(_this.oneMinusBeta1.mul(gradient));\n                var ut0 = _this.beta2Scalar.mul(weightedInfNorm);\n                var ut1 = gradient.abs();\n                var newWeightedInfNorm = ut0.maximum(ut1);\n                _this.accumulatedFirstMoment[variableName].assign(newFirstMoment);\n                _this.accumulatedWeightedInfNorm[variableName].assign(newWeightedInfNorm);\n                var newValue = lr.div(oneMinusAccBeta1)\n                    .mul(newFirstMoment.div(_this.epsScalar.add(newWeightedInfNorm)))\n                    .add(value);\n                value.assign(newValue);\n            }\n            _this.iteration.assign(_this.iteration.add(_this.one));\n            _this.accBeta1.assign(_this.accBeta1.mul(_this.beta1Scalar));\n        });\n    };\n    AdamaxOptimizer.prototype.dispose = function () {\n        var _this = this;\n        this.c.dispose();\n        this.epsScalar.dispose();\n        this.accBeta1.dispose();\n        this.beta1Scalar.dispose();\n        this.beta2Scalar.dispose();\n        this.oneMinusBeta1.dispose();\n        this.decayScalar.dispose();\n        this.iteration.dispose();\n        this.one.dispose();\n        if (this.accumulatedFirstMoment != null) {\n            Object.keys(this.accumulatedFirstMoment)\n                .forEach(function (name) { return _this.accumulatedFirstMoment[name].dispose(); });\n        }\n        if (this.accumulatedWeightedInfNorm != null) {\n            Object.keys(this.accumulatedWeightedInfNorm)\n                .forEach(function (name) { return _this.accumulatedWeightedInfNorm[name].dispose(); });\n        }\n    };\n    AdamaxOptimizer.prototype.getConfig = function () {\n        return {\n            learningRate: this.learningRate,\n            beta1: this.beta1,\n            beta2: this.beta2,\n            epsilon: this.epsilon,\n            decay: this.decay\n        };\n    };\n    AdamaxOptimizer.fromConfig = function (cls, config) {\n        return new cls(config.learningRate, config.beta1, config.beta2, config.epsilon, config.decay);\n    };\n    AdamaxOptimizer.className = 'AdamaxOptimizer';\n    return AdamaxOptimizer;\n}(Optimizer));\nexport { AdamaxOptimizer };\nSerializationMap.register(AdamaxOptimizer);\n//# sourceMappingURL=adamax_optimizer.js.map","var __extends = (this && this.__extends) || (function () {\n    var extendStatics = Object.setPrototypeOf ||\n        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n        function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nimport { ENV } from '../environment';\nimport { keep, tidy } from '../globals';\nimport { scalar } from '../ops/ops';\nimport { SerializationMap } from '../serialization';\nimport { Optimizer } from './optimizer';\nvar SGDOptimizer = (function (_super) {\n    __extends(SGDOptimizer, _super);\n    function SGDOptimizer(learningRate) {\n        var _this = _super.call(this) || this;\n        _this.learningRate = learningRate;\n        _this.setLearningRate(learningRate);\n        return _this;\n    }\n    SGDOptimizer.prototype.applyGradients = function (variableGradients) {\n        var _this = this;\n        var varNames = Object.keys(variableGradients);\n        varNames.forEach(function (varName) {\n            var gradient = variableGradients[varName];\n            var value = ENV.engine.registeredVariables[varName];\n            tidy(function () {\n                var newValue = _this.c.mul(gradient).add(value);\n                value.assign(newValue);\n            });\n        });\n    };\n    SGDOptimizer.prototype.setLearningRate = function (learningRate) {\n        this.learningRate = learningRate;\n        if (this.c != null) {\n            this.c.dispose();\n        }\n        this.c = keep(scalar(-learningRate));\n    };\n    SGDOptimizer.prototype.dispose = function () {\n        this.c.dispose();\n    };\n    SGDOptimizer.prototype.getConfig = function () {\n        return { learningRate: this.learningRate };\n    };\n    SGDOptimizer.fromConfig = function (cls, config) {\n        return new cls(config.learningRate);\n    };\n    SGDOptimizer.className = 'SGDOptimizer';\n    return SGDOptimizer;\n}(Optimizer));\nexport { SGDOptimizer };\nSerializationMap.register(SGDOptimizer);\n//# sourceMappingURL=sgd_optimizer.js.map","var __extends = (this && this.__extends) || (function () {\n    var extendStatics = Object.setPrototypeOf ||\n        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n        function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nimport { ENV } from '../environment';\nimport { tidy } from '../globals';\nimport { scalar, zerosLike } from '../ops/ops';\nimport { SerializationMap } from '../serialization';\nimport { SGDOptimizer } from './sgd_optimizer';\nvar MomentumOptimizer = (function (_super) {\n    __extends(MomentumOptimizer, _super);\n    function MomentumOptimizer(learningRate, momentum, useNesterov) {\n        if (useNesterov === void 0) { useNesterov = false; }\n        var _this = _super.call(this, learningRate) || this;\n        _this.learningRate = learningRate;\n        _this.momentum = momentum;\n        _this.useNesterov = useNesterov;\n        _this.m = scalar(_this.momentum);\n        _this.accumulations = {};\n        return _this;\n    }\n    MomentumOptimizer.prototype.applyGradients = function (variableGradients) {\n        var _this = this;\n        var _loop_1 = function (variableName) {\n            var value = ENV.engine.registeredVariables[variableName];\n            if (this_1.accumulations[variableName] == null) {\n                var trainable_1 = false;\n                tidy(function () {\n                    _this.accumulations[variableName] =\n                        zerosLike(value).variable(trainable_1);\n                });\n            }\n            var accumulation = this_1.accumulations[variableName];\n            var gradient = variableGradients[variableName];\n            tidy(function () {\n                var newValue;\n                var newAccumulation = _this.m.mul(accumulation).add(gradient);\n                if (_this.useNesterov) {\n                    newValue =\n                        _this.c.mul(gradient.add(newAccumulation.mul(_this.m))).add(value);\n                }\n                else {\n                    newValue = _this.c.mul(newAccumulation).add(value);\n                }\n                _this.accumulations[variableName].assign(newAccumulation);\n                value.assign(newValue);\n            });\n        };\n        var this_1 = this;\n        for (var variableName in variableGradients) {\n            _loop_1(variableName);\n        }\n    };\n    MomentumOptimizer.prototype.dispose = function () {\n        _super.prototype.dispose.call(this);\n        this.m.dispose();\n        if (this.accumulations != null) {\n            for (var variableName in this.accumulations) {\n                this.accumulations[variableName].dispose();\n            }\n        }\n    };\n    MomentumOptimizer.prototype.setMomentum = function (momentum) {\n        this.momentum = momentum;\n    };\n    MomentumOptimizer.prototype.getConfig = function () {\n        return {\n            learningRate: this.learningRate,\n            momentum: this.momentum,\n            useNesterov: this.useNesterov\n        };\n    };\n    MomentumOptimizer.fromConfig = function (cls, config) {\n        return new cls(config.learningRate, config.momentum, config.useNesterov);\n    };\n    MomentumOptimizer.className = 'MomentumOptimizer';\n    return MomentumOptimizer;\n}(SGDOptimizer));\nexport { MomentumOptimizer };\nSerializationMap.register(MomentumOptimizer);\n//# sourceMappingURL=momentum_optimizer.js.map","var __extends = (this && this.__extends) || (function () {\n    var extendStatics = Object.setPrototypeOf ||\n        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n        function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nimport { ENV } from '../environment';\nimport { keep, tidy } from '../globals';\nimport { scalar, zerosLike } from '../ops/ops';\nimport { SerializationMap } from '../serialization';\nimport { Optimizer } from './optimizer';\nvar RMSPropOptimizer = (function (_super) {\n    __extends(RMSPropOptimizer, _super);\n    function RMSPropOptimizer(learningRate, decay, momentum, epsilon, centered) {\n        if (decay === void 0) { decay = 0.9; }\n        if (momentum === void 0) { momentum = 0.0; }\n        if (epsilon === void 0) { epsilon = 1e-8; }\n        if (centered === void 0) { centered = false; }\n        var _this = _super.call(this) || this;\n        _this.learningRate = learningRate;\n        _this.decay = decay;\n        _this.momentum = momentum;\n        _this.epsilon = epsilon;\n        _this.accumulatedMeanSquares = {};\n        _this.accumulatedMeanGrads = {};\n        _this.accumulatedMoments = {};\n        _this.c = keep(scalar(learningRate));\n        _this.epsilonScalar = keep(scalar(epsilon));\n        _this.decayScalar = keep(scalar(decay));\n        _this.momentumScalar = keep(scalar(momentum));\n        _this.oneMinusDecay = keep(scalar(1 - decay));\n        _this.centered = centered;\n        return _this;\n    }\n    RMSPropOptimizer.prototype.applyGradients = function (variableGradients) {\n        var _this = this;\n        var _loop_1 = function (variableName) {\n            var value = ENV.engine.registeredVariables[variableName];\n            if (this_1.accumulatedMeanSquares[variableName] == null) {\n                var trainable_1 = false;\n                tidy(function () {\n                    _this.accumulatedMeanSquares[variableName] =\n                        zerosLike(value).variable(trainable_1);\n                });\n            }\n            if (this_1.accumulatedMeanGrads[variableName] == null && this_1.centered) {\n                var trainable_2 = false;\n                tidy(function () {\n                    _this.accumulatedMeanGrads[variableName] =\n                        zerosLike(value).variable(trainable_2);\n                });\n            }\n            if (this_1.accumulatedMoments[variableName] == null) {\n                var trainable_3 = false;\n                tidy(function () {\n                    _this.accumulatedMoments[variableName] =\n                        zerosLike(value).variable(trainable_3);\n                });\n            }\n            var accumulatedMeanSquare = this_1.accumulatedMeanSquares[variableName];\n            var accumulatedMeanGrad = this_1.accumulatedMeanGrads[variableName];\n            var accumulatedMoments = this_1.accumulatedMoments[variableName];\n            var gradient = variableGradients[variableName];\n            tidy(function () {\n                var newAccumulatedMeanSquare = _this.decayScalar.mul(accumulatedMeanSquare)\n                    .add(_this.oneMinusDecay.mul(gradient.square()));\n                if (_this.centered) {\n                    var newAccumulatedMeanGrad = _this.decayScalar.mul(accumulatedMeanGrad)\n                        .add(_this.oneMinusDecay.mul(gradient));\n                    var newAccumulatedMoments = _this.momentumScalar.mul(accumulatedMoments)\n                        .add(_this.c.mul(gradient).div(newAccumulatedMeanSquare\n                        .sub(newAccumulatedMeanGrad.square().add(_this.epsilonScalar))\n                        .sqrt()));\n                    _this.accumulatedMeanSquares[variableName].assign(newAccumulatedMeanSquare);\n                    _this.accumulatedMeanGrads[variableName].assign(newAccumulatedMeanGrad);\n                    _this.accumulatedMoments[variableName].assign(newAccumulatedMoments);\n                    var newValue = value.sub(newAccumulatedMoments);\n                    value.assign(newValue);\n                }\n                else {\n                    var newAccumulatedMeanSquare_1 = _this.decayScalar.mul(accumulatedMeanSquare)\n                        .add(_this.oneMinusDecay.mul(gradient.square()));\n                    var newAccumulatedMoments = _this.momentumScalar.mul(accumulatedMoments)\n                        .add(_this.c.mul(gradient).div(newAccumulatedMeanSquare_1.add(_this.epsilonScalar).sqrt()));\n                    _this.accumulatedMeanSquares[variableName].assign(newAccumulatedMeanSquare_1);\n                    _this.accumulatedMoments[variableName].assign(newAccumulatedMoments);\n                    var newValue = value.sub(newAccumulatedMoments);\n                    value.assign(newValue);\n                }\n            });\n        };\n        var this_1 = this;\n        for (var variableName in variableGradients) {\n            _loop_1(variableName);\n        }\n    };\n    RMSPropOptimizer.prototype.dispose = function () {\n        var _this = this;\n        this.c.dispose();\n        this.epsilonScalar.dispose();\n        this.decayScalar.dispose();\n        this.momentumScalar.dispose();\n        this.oneMinusDecay.dispose();\n        if (this.accumulatedMeanSquares != null) {\n            Object.keys(this.accumulatedMeanSquares)\n                .forEach(function (name) { return _this.accumulatedMeanSquares[name].dispose(); });\n        }\n        if (this.accumulatedMeanGrads != null && this.centered) {\n            Object.keys(this.accumulatedMeanGrads)\n                .forEach(function (name) { return _this.accumulatedMeanGrads[name].dispose(); });\n        }\n        if (this.accumulatedMoments != null) {\n            Object.keys(this.accumulatedMoments)\n                .forEach(function (name) { return _this.accumulatedMoments[name].dispose(); });\n        }\n    };\n    RMSPropOptimizer.prototype.getConfig = function () {\n        return {\n            learningRate: this.learningRate,\n            decay: this.decay,\n            momentum: this.momentum,\n            epsilon: this.epsilon,\n            centered: this.centered\n        };\n    };\n    RMSPropOptimizer.fromConfig = function (cls, config) {\n        return new cls(config.learningRate, config.decay, config.momentum, config.epsilon, config.centered);\n    };\n    RMSPropOptimizer.className = 'RMSPropOptimizer';\n    return RMSPropOptimizer;\n}(Optimizer));\nexport { RMSPropOptimizer };\nSerializationMap.register(RMSPropOptimizer);\n//# sourceMappingURL=rmsprop_optimizer.js.map","var __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\n};\nimport { doc } from '../doc';\nimport { AdadeltaOptimizer } from './adadelta_optimizer';\nimport { AdagradOptimizer } from './adagrad_optimizer';\nimport { AdamOptimizer } from './adam_optimizer';\nimport { AdamaxOptimizer } from './adamax_optimizer';\nimport { MomentumOptimizer } from './momentum_optimizer';\nimport { RMSPropOptimizer } from './rmsprop_optimizer';\nimport { SGDOptimizer } from './sgd_optimizer';\nvar OptimizerConstructors = (function () {\n    function OptimizerConstructors() {\n    }\n    OptimizerConstructors.sgd = function (learningRate) {\n        return new SGDOptimizer(learningRate);\n    };\n    OptimizerConstructors.momentum = function (learningRate, momentum, useNesterov) {\n        if (useNesterov === void 0) { useNesterov = false; }\n        return new MomentumOptimizer(learningRate, momentum, useNesterov);\n    };\n    OptimizerConstructors.rmsprop = function (learningRate, decay, momentum, epsilon, centered) {\n        if (decay === void 0) { decay = .9; }\n        if (momentum === void 0) { momentum = 0.0; }\n        if (epsilon === void 0) { epsilon = 1e-8; }\n        if (centered === void 0) { centered = false; }\n        return new RMSPropOptimizer(learningRate, decay, momentum, epsilon, centered);\n    };\n    OptimizerConstructors.adam = function (learningRate, beta1, beta2, epsilon) {\n        if (learningRate === void 0) { learningRate = 0.001; }\n        if (beta1 === void 0) { beta1 = 0.9; }\n        if (beta2 === void 0) { beta2 = 0.999; }\n        if (epsilon === void 0) { epsilon = 1e-8; }\n        return new AdamOptimizer(learningRate, beta1, beta2, epsilon);\n    };\n    OptimizerConstructors.adadelta = function (learningRate, rho, epsilon) {\n        if (learningRate === void 0) { learningRate = .001; }\n        if (rho === void 0) { rho = .95; }\n        if (epsilon === void 0) { epsilon = 1e-8; }\n        return new AdadeltaOptimizer(learningRate, rho, epsilon);\n    };\n    OptimizerConstructors.adamax = function (learningRate, beta1, beta2, epsilon, decay) {\n        if (learningRate === void 0) { learningRate = 0.002; }\n        if (beta1 === void 0) { beta1 = 0.9; }\n        if (beta2 === void 0) { beta2 = 0.999; }\n        if (epsilon === void 0) { epsilon = 1e-8; }\n        if (decay === void 0) { decay = 0.0; }\n        return new AdamaxOptimizer(learningRate, beta1, beta2, epsilon, decay);\n    };\n    OptimizerConstructors.adagrad = function (learningRate, initialAccumulatorValue) {\n        if (initialAccumulatorValue === void 0) { initialAccumulatorValue = 0.1; }\n        return new AdagradOptimizer(learningRate, initialAccumulatorValue);\n    };\n    __decorate([\n        doc({ heading: 'Training', subheading: 'Optimizers', namespace: 'train' })\n    ], OptimizerConstructors, \"sgd\", null);\n    __decorate([\n        doc({ heading: 'Training', subheading: 'Optimizers', namespace: 'train' })\n    ], OptimizerConstructors, \"momentum\", null);\n    __decorate([\n        doc({ heading: 'Training', subheading: 'Optimizers', namespace: 'train' })\n    ], OptimizerConstructors, \"rmsprop\", null);\n    __decorate([\n        doc({ heading: 'Training', subheading: 'Optimizers', namespace: 'train' })\n    ], OptimizerConstructors, \"adam\", null);\n    __decorate([\n        doc({ heading: 'Training', subheading: 'Optimizers', namespace: 'train' })\n    ], OptimizerConstructors, \"adadelta\", null);\n    __decorate([\n        doc({ heading: 'Training', subheading: 'Optimizers', namespace: 'train' })\n    ], OptimizerConstructors, \"adamax\", null);\n    __decorate([\n        doc({ heading: 'Training', subheading: 'Optimizers', namespace: 'train' })\n    ], OptimizerConstructors, \"adagrad\", null);\n    return OptimizerConstructors;\n}());\nexport { OptimizerConstructors };\n//# sourceMappingURL=optimizer_constructors.js.map","import { AdadeltaOptimizer } from './optimizers/adadelta_optimizer';\nimport { AdagradOptimizer } from './optimizers/adagrad_optimizer';\nimport { AdamOptimizer } from './optimizers/adam_optimizer';\nimport { AdamaxOptimizer } from './optimizers/adamax_optimizer';\nimport { MomentumOptimizer } from './optimizers/momentum_optimizer';\nimport { OptimizerConstructors } from './optimizers/optimizer_constructors';\nimport { RMSPropOptimizer } from './optimizers/rmsprop_optimizer';\nimport { SGDOptimizer } from './optimizers/sgd_optimizer';\n[MomentumOptimizer, SGDOptimizer, AdadeltaOptimizer, AdagradOptimizer,\n    RMSPropOptimizer, AdamaxOptimizer, AdamOptimizer];\nexport var train = {\n    sgd: OptimizerConstructors.sgd,\n    momentum: OptimizerConstructors.momentum,\n    adadelta: OptimizerConstructors.adadelta,\n    adagrad: OptimizerConstructors.adagrad,\n    rmsprop: OptimizerConstructors.rmsprop,\n    adamax: OptimizerConstructors.adamax,\n    adam: OptimizerConstructors.adam\n};\n//# sourceMappingURL=train.js.map","import './kernels/backend_webgl';\nimport './kernels/backend_cpu';\nimport { BrowserUtil } from './browser_util';\nimport * as environment from './environment';\nimport { Environment } from './environment';\nimport * as io from './io/io';\nimport * as serialization from './serialization';\nimport * as test_util from './test_util';\nimport * as util from './util';\nimport { version } from './version';\nimport * as webgl from './webgl';\nexport { AdadeltaOptimizer } from './optimizers/adadelta_optimizer';\nexport { AdagradOptimizer } from './optimizers/adagrad_optimizer';\nexport { AdamOptimizer } from './optimizers/adam_optimizer';\nexport { AdamaxOptimizer } from './optimizers/adamax_optimizer';\nexport { MomentumOptimizer } from './optimizers/momentum_optimizer';\nexport { Optimizer } from './optimizers/optimizer';\nexport { RMSPropOptimizer } from './optimizers/rmsprop_optimizer';\nexport { SGDOptimizer } from './optimizers/sgd_optimizer';\nexport { Tensor, TensorBuffer, variable, Variable } from './tensor';\nexport { Rank } from './types';\nexport * from './ops/ops';\nexport { Reduction } from './ops/loss_ops';\nexport * from './train';\nexport * from './globals';\nexport { ENV, Environment } from './environment';\nexport var setBackend = Environment.setBackend;\nexport var getBackend = Environment.getBackend;\nexport var disposeVariables = Environment.disposeVariables;\nexport var memory = Environment.memory;\nexport { version as version_core };\nexport { doc } from './doc';\nexport var nextFrame = BrowserUtil.nextFrame;\nexport { environment, io, serialization, test_util, util, webgl };\n//# sourceMappingURL=index.js.map","var $export = require('./_export');\n// 19.1.2.4 / 15.2.3.6 Object.defineProperty(O, P, Attributes)\n$export($export.S + $export.F * !require('./_descriptors'), 'Object', { defineProperty: require('./_object-dp').f });\n","require('../../modules/es6.object.define-property');\nvar $Object = require('../../modules/_core').Object;\nmodule.exports = function defineProperty(it, key, desc) {\n  return $Object.defineProperty(it, key, desc);\n};\n","module.exports = { \"default\": require(\"core-js/library/fn/object/define-property\"), __esModule: true };","\"use strict\";\n\nexports.__esModule = true;\n\nvar _defineProperty = require(\"../core-js/object/define-property\");\n\nvar _defineProperty2 = _interopRequireDefault(_defineProperty);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nexports.default = function (obj, key, value) {\n  if (key in obj) {\n    (0, _defineProperty2.default)(obj, key, {\n      value: value,\n      enumerable: true,\n      configurable: true,\n      writable: true\n    });\n  } else {\n    obj[key] = value;\n  }\n\n  return obj;\n};","'use strict';\nvar $defineProperty = require('./_object-dp');\nvar createDesc = require('./_property-desc');\n\nmodule.exports = function (object, index, value) {\n  if (index in object) $defineProperty.f(object, index, createDesc(0, value));\n  else object[index] = value;\n};\n","'use strict';\nvar ctx = require('./_ctx');\nvar $export = require('./_export');\nvar toObject = require('./_to-object');\nvar call = require('./_iter-call');\nvar isArrayIter = require('./_is-array-iter');\nvar toLength = require('./_to-length');\nvar createProperty = require('./_create-property');\nvar getIterFn = require('./core.get-iterator-method');\n\n$export($export.S + $export.F * !require('./_iter-detect')(function (iter) { Array.from(iter); }), 'Array', {\n  // 22.1.2.1 Array.from(arrayLike, mapfn = undefined, thisArg = undefined)\n  from: function from(arrayLike /* , mapfn = undefined, thisArg = undefined */) {\n    var O = toObject(arrayLike);\n    var C = typeof this == 'function' ? this : Array;\n    var aLen = arguments.length;\n    var mapfn = aLen > 1 ? arguments[1] : undefined;\n    var mapping = mapfn !== undefined;\n    var index = 0;\n    var iterFn = getIterFn(O);\n    var length, result, step, iterator;\n    if (mapping) mapfn = ctx(mapfn, aLen > 2 ? arguments[2] : undefined, 2);\n    // if object isn't iterable or it's array with default iterator - use simple case\n    if (iterFn != undefined && !(C == Array && isArrayIter(iterFn))) {\n      for (iterator = iterFn.call(O), result = new C(); !(step = iterator.next()).done; index++) {\n        createProperty(result, index, mapping ? call(iterator, mapfn, [step.value, index], true) : step.value);\n      }\n    } else {\n      length = toLength(O.length);\n      for (result = new C(length); length > index; index++) {\n        createProperty(result, index, mapping ? mapfn(O[index], index) : O[index]);\n      }\n    }\n    result.length = index;\n    return result;\n  }\n});\n","require('../../modules/es6.string.iterator');\nrequire('../../modules/es6.array.from');\nmodule.exports = require('../../modules/_core').Array.from;\n","module.exports = { \"default\": require(\"core-js/library/fn/array/from\"), __esModule: true };","\"use strict\";\n\nexports.__esModule = true;\n\nvar _from = require(\"../core-js/array/from\");\n\nvar _from2 = _interopRequireDefault(_from);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nexports.default = function (arr) {\n  if (Array.isArray(arr)) {\n    for (var i = 0, arr2 = Array(arr.length); i < arr.length; i++) {\n      arr2[i] = arr[i];\n    }\n\n    return arr2;\n  } else {\n    return (0, _from2.default)(arr);\n  }\n};","\"use strict\";\n\nexports.__esModule = true;\n\nexports.default = function (instance, Constructor) {\n  if (!(instance instanceof Constructor)) {\n    throw new TypeError(\"Cannot call a class as a function\");\n  }\n};","\"use strict\";\n\nexports.__esModule = true;\n\nvar _defineProperty = require(\"../core-js/object/define-property\");\n\nvar _defineProperty2 = _interopRequireDefault(_defineProperty);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nexports.default = function () {\n  function defineProperties(target, props) {\n    for (var i = 0; i < props.length; i++) {\n      var descriptor = props[i];\n      descriptor.enumerable = descriptor.enumerable || false;\n      descriptor.configurable = true;\n      if (\"value\" in descriptor) descriptor.writable = true;\n      (0, _defineProperty2.default)(target, descriptor.key, descriptor);\n    }\n  }\n\n  return function (Constructor, protoProps, staticProps) {\n    if (protoProps) defineProperties(Constructor.prototype, protoProps);\n    if (staticProps) defineProperties(Constructor, staticProps);\n    return Constructor;\n  };\n}();","/*! https://mths.be/punycode v1.4.1 by @mathias */\n;(function(root) {\n\n\t/** Detect free variables */\n\tvar freeExports = typeof exports == 'object' && exports &&\n\t\t!exports.nodeType && exports;\n\tvar freeModule = typeof module == 'object' && module &&\n\t\t!module.nodeType && module;\n\tvar freeGlobal = typeof global == 'object' && global;\n\tif (\n\t\tfreeGlobal.global === freeGlobal ||\n\t\tfreeGlobal.window === freeGlobal ||\n\t\tfreeGlobal.self === freeGlobal\n\t) {\n\t\troot = freeGlobal;\n\t}\n\n\t/**\n\t * The `punycode` object.\n\t * @name punycode\n\t * @type Object\n\t */\n\tvar punycode,\n\n\t/** Highest positive signed 32-bit float value */\n\tmaxInt = 2147483647, // aka. 0x7FFFFFFF or 2^31-1\n\n\t/** Bootstring parameters */\n\tbase = 36,\n\ttMin = 1,\n\ttMax = 26,\n\tskew = 38,\n\tdamp = 700,\n\tinitialBias = 72,\n\tinitialN = 128, // 0x80\n\tdelimiter = '-', // '\\x2D'\n\n\t/** Regular expressions */\n\tregexPunycode = /^xn--/,\n\tregexNonASCII = /[^\\x20-\\x7E]/, // unprintable ASCII chars + non-ASCII chars\n\tregexSeparators = /[\\x2E\\u3002\\uFF0E\\uFF61]/g, // RFC 3490 separators\n\n\t/** Error messages */\n\terrors = {\n\t\t'overflow': 'Overflow: input needs wider integers to process',\n\t\t'not-basic': 'Illegal input >= 0x80 (not a basic code point)',\n\t\t'invalid-input': 'Invalid input'\n\t},\n\n\t/** Convenience shortcuts */\n\tbaseMinusTMin = base - tMin,\n\tfloor = Math.floor,\n\tstringFromCharCode = String.fromCharCode,\n\n\t/** Temporary variable */\n\tkey;\n\n\t/*--------------------------------------------------------------------------*/\n\n\t/**\n\t * A generic error utility function.\n\t * @private\n\t * @param {String} type The error type.\n\t * @returns {Error} Throws a `RangeError` with the applicable error message.\n\t */\n\tfunction error(type) {\n\t\tthrow new RangeError(errors[type]);\n\t}\n\n\t/**\n\t * A generic `Array#map` utility function.\n\t * @private\n\t * @param {Array} array The array to iterate over.\n\t * @param {Function} callback The function that gets called for every array\n\t * item.\n\t * @returns {Array} A new array of values returned by the callback function.\n\t */\n\tfunction map(array, fn) {\n\t\tvar length = array.length;\n\t\tvar result = [];\n\t\twhile (length--) {\n\t\t\tresult[length] = fn(array[length]);\n\t\t}\n\t\treturn result;\n\t}\n\n\t/**\n\t * A simple `Array#map`-like wrapper to work with domain name strings or email\n\t * addresses.\n\t * @private\n\t * @param {String} domain The domain name or email address.\n\t * @param {Function} callback The function that gets called for every\n\t * character.\n\t * @returns {Array} A new string of characters returned by the callback\n\t * function.\n\t */\n\tfunction mapDomain(string, fn) {\n\t\tvar parts = string.split('@');\n\t\tvar result = '';\n\t\tif (parts.length > 1) {\n\t\t\t// In email addresses, only the domain name should be punycoded. Leave\n\t\t\t// the local part (i.e. everything up to `@`) intact.\n\t\t\tresult = parts[0] + '@';\n\t\t\tstring = parts[1];\n\t\t}\n\t\t// Avoid `split(regex)` for IE8 compatibility. See #17.\n\t\tstring = string.replace(regexSeparators, '\\x2E');\n\t\tvar labels = string.split('.');\n\t\tvar encoded = map(labels, fn).join('.');\n\t\treturn result + encoded;\n\t}\n\n\t/**\n\t * Creates an array containing the numeric code points of each Unicode\n\t * character in the string. While JavaScript uses UCS-2 internally,\n\t * this function will convert a pair of surrogate halves (each of which\n\t * UCS-2 exposes as separate characters) into a single code point,\n\t * matching UTF-16.\n\t * @see `punycode.ucs2.encode`\n\t * @see <https://mathiasbynens.be/notes/javascript-encoding>\n\t * @memberOf punycode.ucs2\n\t * @name decode\n\t * @param {String} string The Unicode input string (UCS-2).\n\t * @returns {Array} The new array of code points.\n\t */\n\tfunction ucs2decode(string) {\n\t\tvar output = [],\n\t\t    counter = 0,\n\t\t    length = string.length,\n\t\t    value,\n\t\t    extra;\n\t\twhile (counter < length) {\n\t\t\tvalue = string.charCodeAt(counter++);\n\t\t\tif (value >= 0xD800 && value <= 0xDBFF && counter < length) {\n\t\t\t\t// high surrogate, and there is a next character\n\t\t\t\textra = string.charCodeAt(counter++);\n\t\t\t\tif ((extra & 0xFC00) == 0xDC00) { // low surrogate\n\t\t\t\t\toutput.push(((value & 0x3FF) << 10) + (extra & 0x3FF) + 0x10000);\n\t\t\t\t} else {\n\t\t\t\t\t// unmatched surrogate; only append this code unit, in case the next\n\t\t\t\t\t// code unit is the high surrogate of a surrogate pair\n\t\t\t\t\toutput.push(value);\n\t\t\t\t\tcounter--;\n\t\t\t\t}\n\t\t\t} else {\n\t\t\t\toutput.push(value);\n\t\t\t}\n\t\t}\n\t\treturn output;\n\t}\n\n\t/**\n\t * Creates a string based on an array of numeric code points.\n\t * @see `punycode.ucs2.decode`\n\t * @memberOf punycode.ucs2\n\t * @name encode\n\t * @param {Array} codePoints The array of numeric code points.\n\t * @returns {String} The new Unicode string (UCS-2).\n\t */\n\tfunction ucs2encode(array) {\n\t\treturn map(array, function(value) {\n\t\t\tvar output = '';\n\t\t\tif (value > 0xFFFF) {\n\t\t\t\tvalue -= 0x10000;\n\t\t\t\toutput += stringFromCharCode(value >>> 10 & 0x3FF | 0xD800);\n\t\t\t\tvalue = 0xDC00 | value & 0x3FF;\n\t\t\t}\n\t\t\toutput += stringFromCharCode(value);\n\t\t\treturn output;\n\t\t}).join('');\n\t}\n\n\t/**\n\t * Converts a basic code point into a digit/integer.\n\t * @see `digitToBasic()`\n\t * @private\n\t * @param {Number} codePoint The basic numeric code point value.\n\t * @returns {Number} The numeric value of a basic code point (for use in\n\t * representing integers) in the range `0` to `base - 1`, or `base` if\n\t * the code point does not represent a value.\n\t */\n\tfunction basicToDigit(codePoint) {\n\t\tif (codePoint - 48 < 10) {\n\t\t\treturn codePoint - 22;\n\t\t}\n\t\tif (codePoint - 65 < 26) {\n\t\t\treturn codePoint - 65;\n\t\t}\n\t\tif (codePoint - 97 < 26) {\n\t\t\treturn codePoint - 97;\n\t\t}\n\t\treturn base;\n\t}\n\n\t/**\n\t * Converts a digit/integer into a basic code point.\n\t * @see `basicToDigit()`\n\t * @private\n\t * @param {Number} digit The numeric value of a basic code point.\n\t * @returns {Number} The basic code point whose value (when used for\n\t * representing integers) is `digit`, which needs to be in the range\n\t * `0` to `base - 1`. If `flag` is non-zero, the uppercase form is\n\t * used; else, the lowercase form is used. The behavior is undefined\n\t * if `flag` is non-zero and `digit` has no uppercase form.\n\t */\n\tfunction digitToBasic(digit, flag) {\n\t\t//  0..25 map to ASCII a..z or A..Z\n\t\t// 26..35 map to ASCII 0..9\n\t\treturn digit + 22 + 75 * (digit < 26) - ((flag != 0) << 5);\n\t}\n\n\t/**\n\t * Bias adaptation function as per section 3.4 of RFC 3492.\n\t * https://tools.ietf.org/html/rfc3492#section-3.4\n\t * @private\n\t */\n\tfunction adapt(delta, numPoints, firstTime) {\n\t\tvar k = 0;\n\t\tdelta = firstTime ? floor(delta / damp) : delta >> 1;\n\t\tdelta += floor(delta / numPoints);\n\t\tfor (/* no initialization */; delta > baseMinusTMin * tMax >> 1; k += base) {\n\t\t\tdelta = floor(delta / baseMinusTMin);\n\t\t}\n\t\treturn floor(k + (baseMinusTMin + 1) * delta / (delta + skew));\n\t}\n\n\t/**\n\t * Converts a Punycode string of ASCII-only symbols to a string of Unicode\n\t * symbols.\n\t * @memberOf punycode\n\t * @param {String} input The Punycode string of ASCII-only symbols.\n\t * @returns {String} The resulting string of Unicode symbols.\n\t */\n\tfunction decode(input) {\n\t\t// Don't use UCS-2\n\t\tvar output = [],\n\t\t    inputLength = input.length,\n\t\t    out,\n\t\t    i = 0,\n\t\t    n = initialN,\n\t\t    bias = initialBias,\n\t\t    basic,\n\t\t    j,\n\t\t    index,\n\t\t    oldi,\n\t\t    w,\n\t\t    k,\n\t\t    digit,\n\t\t    t,\n\t\t    /** Cached calculation results */\n\t\t    baseMinusT;\n\n\t\t// Handle the basic code points: let `basic` be the number of input code\n\t\t// points before the last delimiter, or `0` if there is none, then copy\n\t\t// the first basic code points to the output.\n\n\t\tbasic = input.lastIndexOf(delimiter);\n\t\tif (basic < 0) {\n\t\t\tbasic = 0;\n\t\t}\n\n\t\tfor (j = 0; j < basic; ++j) {\n\t\t\t// if it's not a basic code point\n\t\t\tif (input.charCodeAt(j) >= 0x80) {\n\t\t\t\terror('not-basic');\n\t\t\t}\n\t\t\toutput.push(input.charCodeAt(j));\n\t\t}\n\n\t\t// Main decoding loop: start just after the last delimiter if any basic code\n\t\t// points were copied; start at the beginning otherwise.\n\n\t\tfor (index = basic > 0 ? basic + 1 : 0; index < inputLength; /* no final expression */) {\n\n\t\t\t// `index` is the index of the next character to be consumed.\n\t\t\t// Decode a generalized variable-length integer into `delta`,\n\t\t\t// which gets added to `i`. The overflow checking is easier\n\t\t\t// if we increase `i` as we go, then subtract off its starting\n\t\t\t// value at the end to obtain `delta`.\n\t\t\tfor (oldi = i, w = 1, k = base; /* no condition */; k += base) {\n\n\t\t\t\tif (index >= inputLength) {\n\t\t\t\t\terror('invalid-input');\n\t\t\t\t}\n\n\t\t\t\tdigit = basicToDigit(input.charCodeAt(index++));\n\n\t\t\t\tif (digit >= base || digit > floor((maxInt - i) / w)) {\n\t\t\t\t\terror('overflow');\n\t\t\t\t}\n\n\t\t\t\ti += digit * w;\n\t\t\t\tt = k <= bias ? tMin : (k >= bias + tMax ? tMax : k - bias);\n\n\t\t\t\tif (digit < t) {\n\t\t\t\t\tbreak;\n\t\t\t\t}\n\n\t\t\t\tbaseMinusT = base - t;\n\t\t\t\tif (w > floor(maxInt / baseMinusT)) {\n\t\t\t\t\terror('overflow');\n\t\t\t\t}\n\n\t\t\t\tw *= baseMinusT;\n\n\t\t\t}\n\n\t\t\tout = output.length + 1;\n\t\t\tbias = adapt(i - oldi, out, oldi == 0);\n\n\t\t\t// `i` was supposed to wrap around from `out` to `0`,\n\t\t\t// incrementing `n` each time, so we'll fix that now:\n\t\t\tif (floor(i / out) > maxInt - n) {\n\t\t\t\terror('overflow');\n\t\t\t}\n\n\t\t\tn += floor(i / out);\n\t\t\ti %= out;\n\n\t\t\t// Insert `n` at position `i` of the output\n\t\t\toutput.splice(i++, 0, n);\n\n\t\t}\n\n\t\treturn ucs2encode(output);\n\t}\n\n\t/**\n\t * Converts a string of Unicode symbols (e.g. a domain name label) to a\n\t * Punycode string of ASCII-only symbols.\n\t * @memberOf punycode\n\t * @param {String} input The string of Unicode symbols.\n\t * @returns {String} The resulting Punycode string of ASCII-only symbols.\n\t */\n\tfunction encode(input) {\n\t\tvar n,\n\t\t    delta,\n\t\t    handledCPCount,\n\t\t    basicLength,\n\t\t    bias,\n\t\t    j,\n\t\t    m,\n\t\t    q,\n\t\t    k,\n\t\t    t,\n\t\t    currentValue,\n\t\t    output = [],\n\t\t    /** `inputLength` will hold the number of code points in `input`. */\n\t\t    inputLength,\n\t\t    /** Cached calculation results */\n\t\t    handledCPCountPlusOne,\n\t\t    baseMinusT,\n\t\t    qMinusT;\n\n\t\t// Convert the input in UCS-2 to Unicode\n\t\tinput = ucs2decode(input);\n\n\t\t// Cache the length\n\t\tinputLength = input.length;\n\n\t\t// Initialize the state\n\t\tn = initialN;\n\t\tdelta = 0;\n\t\tbias = initialBias;\n\n\t\t// Handle the basic code points\n\t\tfor (j = 0; j < inputLength; ++j) {\n\t\t\tcurrentValue = input[j];\n\t\t\tif (currentValue < 0x80) {\n\t\t\t\toutput.push(stringFromCharCode(currentValue));\n\t\t\t}\n\t\t}\n\n\t\thandledCPCount = basicLength = output.length;\n\n\t\t// `handledCPCount` is the number of code points that have been handled;\n\t\t// `basicLength` is the number of basic code points.\n\n\t\t// Finish the basic string - if it is not empty - with a delimiter\n\t\tif (basicLength) {\n\t\t\toutput.push(delimiter);\n\t\t}\n\n\t\t// Main encoding loop:\n\t\twhile (handledCPCount < inputLength) {\n\n\t\t\t// All non-basic code points < n have been handled already. Find the next\n\t\t\t// larger one:\n\t\t\tfor (m = maxInt, j = 0; j < inputLength; ++j) {\n\t\t\t\tcurrentValue = input[j];\n\t\t\t\tif (currentValue >= n && currentValue < m) {\n\t\t\t\t\tm = currentValue;\n\t\t\t\t}\n\t\t\t}\n\n\t\t\t// Increase `delta` enough to advance the decoder's <n,i> state to <m,0>,\n\t\t\t// but guard against overflow\n\t\t\thandledCPCountPlusOne = handledCPCount + 1;\n\t\t\tif (m - n > floor((maxInt - delta) / handledCPCountPlusOne)) {\n\t\t\t\terror('overflow');\n\t\t\t}\n\n\t\t\tdelta += (m - n) * handledCPCountPlusOne;\n\t\t\tn = m;\n\n\t\t\tfor (j = 0; j < inputLength; ++j) {\n\t\t\t\tcurrentValue = input[j];\n\n\t\t\t\tif (currentValue < n && ++delta > maxInt) {\n\t\t\t\t\terror('overflow');\n\t\t\t\t}\n\n\t\t\t\tif (currentValue == n) {\n\t\t\t\t\t// Represent delta as a generalized variable-length integer\n\t\t\t\t\tfor (q = delta, k = base; /* no condition */; k += base) {\n\t\t\t\t\t\tt = k <= bias ? tMin : (k >= bias + tMax ? tMax : k - bias);\n\t\t\t\t\t\tif (q < t) {\n\t\t\t\t\t\t\tbreak;\n\t\t\t\t\t\t}\n\t\t\t\t\t\tqMinusT = q - t;\n\t\t\t\t\t\tbaseMinusT = base - t;\n\t\t\t\t\t\toutput.push(\n\t\t\t\t\t\t\tstringFromCharCode(digitToBasic(t + qMinusT % baseMinusT, 0))\n\t\t\t\t\t\t);\n\t\t\t\t\t\tq = floor(qMinusT / baseMinusT);\n\t\t\t\t\t}\n\n\t\t\t\t\toutput.push(stringFromCharCode(digitToBasic(q, 0)));\n\t\t\t\t\tbias = adapt(delta, handledCPCountPlusOne, handledCPCount == basicLength);\n\t\t\t\t\tdelta = 0;\n\t\t\t\t\t++handledCPCount;\n\t\t\t\t}\n\t\t\t}\n\n\t\t\t++delta;\n\t\t\t++n;\n\n\t\t}\n\t\treturn output.join('');\n\t}\n\n\t/**\n\t * Converts a Punycode string representing a domain name or an email address\n\t * to Unicode. Only the Punycoded parts of the input will be converted, i.e.\n\t * it doesn't matter if you call it on a string that has already been\n\t * converted to Unicode.\n\t * @memberOf punycode\n\t * @param {String} input The Punycoded domain name or email address to\n\t * convert to Unicode.\n\t * @returns {String} The Unicode representation of the given Punycode\n\t * string.\n\t */\n\tfunction toUnicode(input) {\n\t\treturn mapDomain(input, function(string) {\n\t\t\treturn regexPunycode.test(string)\n\t\t\t\t? decode(string.slice(4).toLowerCase())\n\t\t\t\t: string;\n\t\t});\n\t}\n\n\t/**\n\t * Converts a Unicode string representing a domain name or an email address to\n\t * Punycode. Only the non-ASCII parts of the domain name will be converted,\n\t * i.e. it doesn't matter if you call it with a domain that's already in\n\t * ASCII.\n\t * @memberOf punycode\n\t * @param {String} input The domain name or email address to convert, as a\n\t * Unicode string.\n\t * @returns {String} The Punycode representation of the given domain name or\n\t * email address.\n\t */\n\tfunction toASCII(input) {\n\t\treturn mapDomain(input, function(string) {\n\t\t\treturn regexNonASCII.test(string)\n\t\t\t\t? 'xn--' + encode(string)\n\t\t\t\t: string;\n\t\t});\n\t}\n\n\t/*--------------------------------------------------------------------------*/\n\n\t/** Define the public API */\n\tpunycode = {\n\t\t/**\n\t\t * A string representing the current Punycode.js version number.\n\t\t * @memberOf punycode\n\t\t * @type String\n\t\t */\n\t\t'version': '1.4.1',\n\t\t/**\n\t\t * An object of methods to convert from JavaScript's internal character\n\t\t * representation (UCS-2) to Unicode code points, and back.\n\t\t * @see <https://mathiasbynens.be/notes/javascript-encoding>\n\t\t * @memberOf punycode\n\t\t * @type Object\n\t\t */\n\t\t'ucs2': {\n\t\t\t'decode': ucs2decode,\n\t\t\t'encode': ucs2encode\n\t\t},\n\t\t'decode': decode,\n\t\t'encode': encode,\n\t\t'toASCII': toASCII,\n\t\t'toUnicode': toUnicode\n\t};\n\n\t/** Expose `punycode` */\n\t// Some AMD build optimizers, like r.js, check for specific condition patterns\n\t// like the following:\n\tif (\n\t\ttypeof define == 'function' &&\n\t\ttypeof define.amd == 'object' &&\n\t\tdefine.amd\n\t) {\n\t\tdefine('punycode', function() {\n\t\t\treturn punycode;\n\t\t});\n\t} else if (freeExports && freeModule) {\n\t\tif (module.exports == freeExports) {\n\t\t\t// in Node.js, io.js, or RingoJS v0.8.0+\n\t\t\tfreeModule.exports = punycode;\n\t\t} else {\n\t\t\t// in Narwhal or RingoJS v0.7.0-\n\t\t\tfor (key in punycode) {\n\t\t\t\tpunycode.hasOwnProperty(key) && (freeExports[key] = punycode[key]);\n\t\t\t}\n\t\t}\n\t} else {\n\t\t// in Rhino or a web browser\n\t\troot.punycode = punycode;\n\t}\n\n}(this));\n","'use strict';\n\nmodule.exports = {\n  isString: function(arg) {\n    return typeof(arg) === 'string';\n  },\n  isObject: function(arg) {\n    return typeof(arg) === 'object' && arg !== null;\n  },\n  isNull: function(arg) {\n    return arg === null;\n  },\n  isNullOrUndefined: function(arg) {\n    return arg == null;\n  }\n};\n","// Copyright Joyent, Inc. and other Node contributors.\n//\n// Permission is hereby granted, free of charge, to any person obtaining a\n// copy of this software and associated documentation files (the\n// \"Software\"), to deal in the Software without restriction, including\n// without limitation the rights to use, copy, modify, merge, publish,\n// distribute, sublicense, and/or sell copies of the Software, and to permit\n// persons to whom the Software is furnished to do so, subject to the\n// following conditions:\n//\n// The above copyright notice and this permission notice shall be included\n// in all copies or substantial portions of the Software.\n//\n// THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS\n// OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF\n// MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN\n// NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM,\n// DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR\n// OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE\n// USE OR OTHER DEALINGS IN THE SOFTWARE.\n\n'use strict';\n\n// If obj.hasOwnProperty has been overridden, then calling\n// obj.hasOwnProperty(prop) will break.\n// See: https://github.com/joyent/node/issues/1707\nfunction hasOwnProperty(obj, prop) {\n  return Object.prototype.hasOwnProperty.call(obj, prop);\n}\n\nmodule.exports = function(qs, sep, eq, options) {\n  sep = sep || '&';\n  eq = eq || '=';\n  var obj = {};\n\n  if (typeof qs !== 'string' || qs.length === 0) {\n    return obj;\n  }\n\n  var regexp = /\\+/g;\n  qs = qs.split(sep);\n\n  var maxKeys = 1000;\n  if (options && typeof options.maxKeys === 'number') {\n    maxKeys = options.maxKeys;\n  }\n\n  var len = qs.length;\n  // maxKeys <= 0 means that we should not limit keys count\n  if (maxKeys > 0 && len > maxKeys) {\n    len = maxKeys;\n  }\n\n  for (var i = 0; i < len; ++i) {\n    var x = qs[i].replace(regexp, '%20'),\n        idx = x.indexOf(eq),\n        kstr, vstr, k, v;\n\n    if (idx >= 0) {\n      kstr = x.substr(0, idx);\n      vstr = x.substr(idx + 1);\n    } else {\n      kstr = x;\n      vstr = '';\n    }\n\n    k = decodeURIComponent(kstr);\n    v = decodeURIComponent(vstr);\n\n    if (!hasOwnProperty(obj, k)) {\n      obj[k] = v;\n    } else if (isArray(obj[k])) {\n      obj[k].push(v);\n    } else {\n      obj[k] = [obj[k], v];\n    }\n  }\n\n  return obj;\n};\n\nvar isArray = Array.isArray || function (xs) {\n  return Object.prototype.toString.call(xs) === '[object Array]';\n};\n","// Copyright Joyent, Inc. and other Node contributors.\n//\n// Permission is hereby granted, free of charge, to any person obtaining a\n// copy of this software and associated documentation files (the\n// \"Software\"), to deal in the Software without restriction, including\n// without limitation the rights to use, copy, modify, merge, publish,\n// distribute, sublicense, and/or sell copies of the Software, and to permit\n// persons to whom the Software is furnished to do so, subject to the\n// following conditions:\n//\n// The above copyright notice and this permission notice shall be included\n// in all copies or substantial portions of the Software.\n//\n// THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS\n// OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF\n// MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN\n// NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM,\n// DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR\n// OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE\n// USE OR OTHER DEALINGS IN THE SOFTWARE.\n\n'use strict';\n\nvar stringifyPrimitive = function(v) {\n  switch (typeof v) {\n    case 'string':\n      return v;\n\n    case 'boolean':\n      return v ? 'true' : 'false';\n\n    case 'number':\n      return isFinite(v) ? v : '';\n\n    default:\n      return '';\n  }\n};\n\nmodule.exports = function(obj, sep, eq, name) {\n  sep = sep || '&';\n  eq = eq || '=';\n  if (obj === null) {\n    obj = undefined;\n  }\n\n  if (typeof obj === 'object') {\n    return map(objectKeys(obj), function(k) {\n      var ks = encodeURIComponent(stringifyPrimitive(k)) + eq;\n      if (isArray(obj[k])) {\n        return map(obj[k], function(v) {\n          return ks + encodeURIComponent(stringifyPrimitive(v));\n        }).join(sep);\n      } else {\n        return ks + encodeURIComponent(stringifyPrimitive(obj[k]));\n      }\n    }).join(sep);\n\n  }\n\n  if (!name) return '';\n  return encodeURIComponent(stringifyPrimitive(name)) + eq +\n         encodeURIComponent(stringifyPrimitive(obj));\n};\n\nvar isArray = Array.isArray || function (xs) {\n  return Object.prototype.toString.call(xs) === '[object Array]';\n};\n\nfunction map (xs, f) {\n  if (xs.map) return xs.map(f);\n  var res = [];\n  for (var i = 0; i < xs.length; i++) {\n    res.push(f(xs[i], i));\n  }\n  return res;\n}\n\nvar objectKeys = Object.keys || function (obj) {\n  var res = [];\n  for (var key in obj) {\n    if (Object.prototype.hasOwnProperty.call(obj, key)) res.push(key);\n  }\n  return res;\n};\n","'use strict';\n\nexports.decode = exports.parse = require('./decode');\nexports.encode = exports.stringify = require('./encode');\n","// Copyright Joyent, Inc. and other Node contributors.\n//\n// Permission is hereby granted, free of charge, to any person obtaining a\n// copy of this software and associated documentation files (the\n// \"Software\"), to deal in the Software without restriction, including\n// without limitation the rights to use, copy, modify, merge, publish,\n// distribute, sublicense, and/or sell copies of the Software, and to permit\n// persons to whom the Software is furnished to do so, subject to the\n// following conditions:\n//\n// The above copyright notice and this permission notice shall be included\n// in all copies or substantial portions of the Software.\n//\n// THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS\n// OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF\n// MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN\n// NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM,\n// DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR\n// OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE\n// USE OR OTHER DEALINGS IN THE SOFTWARE.\n\n'use strict';\n\nvar punycode = require('punycode');\nvar util = require('./util');\n\nexports.parse = urlParse;\nexports.resolve = urlResolve;\nexports.resolveObject = urlResolveObject;\nexports.format = urlFormat;\n\nexports.Url = Url;\n\nfunction Url() {\n  this.protocol = null;\n  this.slashes = null;\n  this.auth = null;\n  this.host = null;\n  this.port = null;\n  this.hostname = null;\n  this.hash = null;\n  this.search = null;\n  this.query = null;\n  this.pathname = null;\n  this.path = null;\n  this.href = null;\n}\n\n// Reference: RFC 3986, RFC 1808, RFC 2396\n\n// define these here so at least they only have to be\n// compiled once on the first module load.\nvar protocolPattern = /^([a-z0-9.+-]+:)/i,\n    portPattern = /:[0-9]*$/,\n\n    // Special case for a simple path URL\n    simplePathPattern = /^(\\/\\/?(?!\\/)[^\\?\\s]*)(\\?[^\\s]*)?$/,\n\n    // RFC 2396: characters reserved for delimiting URLs.\n    // We actually just auto-escape these.\n    delims = ['<', '>', '\"', '`', ' ', '\\r', '\\n', '\\t'],\n\n    // RFC 2396: characters not allowed for various reasons.\n    unwise = ['{', '}', '|', '\\\\', '^', '`'].concat(delims),\n\n    // Allowed by RFCs, but cause of XSS attacks.  Always escape these.\n    autoEscape = ['\\''].concat(unwise),\n    // Characters that are never ever allowed in a hostname.\n    // Note that any invalid chars are also handled, but these\n    // are the ones that are *expected* to be seen, so we fast-path\n    // them.\n    nonHostChars = ['%', '/', '?', ';', '#'].concat(autoEscape),\n    hostEndingChars = ['/', '?', '#'],\n    hostnameMaxLen = 255,\n    hostnamePartPattern = /^[+a-z0-9A-Z_-]{0,63}$/,\n    hostnamePartStart = /^([+a-z0-9A-Z_-]{0,63})(.*)$/,\n    // protocols that can allow \"unsafe\" and \"unwise\" chars.\n    unsafeProtocol = {\n      'javascript': true,\n      'javascript:': true\n    },\n    // protocols that never have a hostname.\n    hostlessProtocol = {\n      'javascript': true,\n      'javascript:': true\n    },\n    // protocols that always contain a // bit.\n    slashedProtocol = {\n      'http': true,\n      'https': true,\n      'ftp': true,\n      'gopher': true,\n      'file': true,\n      'http:': true,\n      'https:': true,\n      'ftp:': true,\n      'gopher:': true,\n      'file:': true\n    },\n    querystring = require('querystring');\n\nfunction urlParse(url, parseQueryString, slashesDenoteHost) {\n  if (url && util.isObject(url) && url instanceof Url) return url;\n\n  var u = new Url;\n  u.parse(url, parseQueryString, slashesDenoteHost);\n  return u;\n}\n\nUrl.prototype.parse = function(url, parseQueryString, slashesDenoteHost) {\n  if (!util.isString(url)) {\n    throw new TypeError(\"Parameter 'url' must be a string, not \" + typeof url);\n  }\n\n  // Copy chrome, IE, opera backslash-handling behavior.\n  // Back slashes before the query string get converted to forward slashes\n  // See: https://code.google.com/p/chromium/issues/detail?id=25916\n  var queryIndex = url.indexOf('?'),\n      splitter =\n          (queryIndex !== -1 && queryIndex < url.indexOf('#')) ? '?' : '#',\n      uSplit = url.split(splitter),\n      slashRegex = /\\\\/g;\n  uSplit[0] = uSplit[0].replace(slashRegex, '/');\n  url = uSplit.join(splitter);\n\n  var rest = url;\n\n  // trim before proceeding.\n  // This is to support parse stuff like \"  http://foo.com  \\n\"\n  rest = rest.trim();\n\n  if (!slashesDenoteHost && url.split('#').length === 1) {\n    // Try fast path regexp\n    var simplePath = simplePathPattern.exec(rest);\n    if (simplePath) {\n      this.path = rest;\n      this.href = rest;\n      this.pathname = simplePath[1];\n      if (simplePath[2]) {\n        this.search = simplePath[2];\n        if (parseQueryString) {\n          this.query = querystring.parse(this.search.substr(1));\n        } else {\n          this.query = this.search.substr(1);\n        }\n      } else if (parseQueryString) {\n        this.search = '';\n        this.query = {};\n      }\n      return this;\n    }\n  }\n\n  var proto = protocolPattern.exec(rest);\n  if (proto) {\n    proto = proto[0];\n    var lowerProto = proto.toLowerCase();\n    this.protocol = lowerProto;\n    rest = rest.substr(proto.length);\n  }\n\n  // figure out if it's got a host\n  // user@server is *always* interpreted as a hostname, and url\n  // resolution will treat //foo/bar as host=foo,path=bar because that's\n  // how the browser resolves relative URLs.\n  if (slashesDenoteHost || proto || rest.match(/^\\/\\/[^@\\/]+@[^@\\/]+/)) {\n    var slashes = rest.substr(0, 2) === '//';\n    if (slashes && !(proto && hostlessProtocol[proto])) {\n      rest = rest.substr(2);\n      this.slashes = true;\n    }\n  }\n\n  if (!hostlessProtocol[proto] &&\n      (slashes || (proto && !slashedProtocol[proto]))) {\n\n    // there's a hostname.\n    // the first instance of /, ?, ;, or # ends the host.\n    //\n    // If there is an @ in the hostname, then non-host chars *are* allowed\n    // to the left of the last @ sign, unless some host-ending character\n    // comes *before* the @-sign.\n    // URLs are obnoxious.\n    //\n    // ex:\n    // http://a@b@c/ => user:a@b host:c\n    // http://a@b?@c => user:a host:c path:/?@c\n\n    // v0.12 TODO(isaacs): This is not quite how Chrome does things.\n    // Review our test case against browsers more comprehensively.\n\n    // find the first instance of any hostEndingChars\n    var hostEnd = -1;\n    for (var i = 0; i < hostEndingChars.length; i++) {\n      var hec = rest.indexOf(hostEndingChars[i]);\n      if (hec !== -1 && (hostEnd === -1 || hec < hostEnd))\n        hostEnd = hec;\n    }\n\n    // at this point, either we have an explicit point where the\n    // auth portion cannot go past, or the last @ char is the decider.\n    var auth, atSign;\n    if (hostEnd === -1) {\n      // atSign can be anywhere.\n      atSign = rest.lastIndexOf('@');\n    } else {\n      // atSign must be in auth portion.\n      // http://a@b/c@d => host:b auth:a path:/c@d\n      atSign = rest.lastIndexOf('@', hostEnd);\n    }\n\n    // Now we have a portion which is definitely the auth.\n    // Pull that off.\n    if (atSign !== -1) {\n      auth = rest.slice(0, atSign);\n      rest = rest.slice(atSign + 1);\n      this.auth = decodeURIComponent(auth);\n    }\n\n    // the host is the remaining to the left of the first non-host char\n    hostEnd = -1;\n    for (var i = 0; i < nonHostChars.length; i++) {\n      var hec = rest.indexOf(nonHostChars[i]);\n      if (hec !== -1 && (hostEnd === -1 || hec < hostEnd))\n        hostEnd = hec;\n    }\n    // if we still have not hit it, then the entire thing is a host.\n    if (hostEnd === -1)\n      hostEnd = rest.length;\n\n    this.host = rest.slice(0, hostEnd);\n    rest = rest.slice(hostEnd);\n\n    // pull out port.\n    this.parseHost();\n\n    // we've indicated that there is a hostname,\n    // so even if it's empty, it has to be present.\n    this.hostname = this.hostname || '';\n\n    // if hostname begins with [ and ends with ]\n    // assume that it's an IPv6 address.\n    var ipv6Hostname = this.hostname[0] === '[' &&\n        this.hostname[this.hostname.length - 1] === ']';\n\n    // validate a little.\n    if (!ipv6Hostname) {\n      var hostparts = this.hostname.split(/\\./);\n      for (var i = 0, l = hostparts.length; i < l; i++) {\n        var part = hostparts[i];\n        if (!part) continue;\n        if (!part.match(hostnamePartPattern)) {\n          var newpart = '';\n          for (var j = 0, k = part.length; j < k; j++) {\n            if (part.charCodeAt(j) > 127) {\n              // we replace non-ASCII char with a temporary placeholder\n              // we need this to make sure size of hostname is not\n              // broken by replacing non-ASCII by nothing\n              newpart += 'x';\n            } else {\n              newpart += part[j];\n            }\n          }\n          // we test again with ASCII char only\n          if (!newpart.match(hostnamePartPattern)) {\n            var validParts = hostparts.slice(0, i);\n            var notHost = hostparts.slice(i + 1);\n            var bit = part.match(hostnamePartStart);\n            if (bit) {\n              validParts.push(bit[1]);\n              notHost.unshift(bit[2]);\n            }\n            if (notHost.length) {\n              rest = '/' + notHost.join('.') + rest;\n            }\n            this.hostname = validParts.join('.');\n            break;\n          }\n        }\n      }\n    }\n\n    if (this.hostname.length > hostnameMaxLen) {\n      this.hostname = '';\n    } else {\n      // hostnames are always lower case.\n      this.hostname = this.hostname.toLowerCase();\n    }\n\n    if (!ipv6Hostname) {\n      // IDNA Support: Returns a punycoded representation of \"domain\".\n      // It only converts parts of the domain name that\n      // have non-ASCII characters, i.e. it doesn't matter if\n      // you call it with a domain that already is ASCII-only.\n      this.hostname = punycode.toASCII(this.hostname);\n    }\n\n    var p = this.port ? ':' + this.port : '';\n    var h = this.hostname || '';\n    this.host = h + p;\n    this.href += this.host;\n\n    // strip [ and ] from the hostname\n    // the host field still retains them, though\n    if (ipv6Hostname) {\n      this.hostname = this.hostname.substr(1, this.hostname.length - 2);\n      if (rest[0] !== '/') {\n        rest = '/' + rest;\n      }\n    }\n  }\n\n  // now rest is set to the post-host stuff.\n  // chop off any delim chars.\n  if (!unsafeProtocol[lowerProto]) {\n\n    // First, make 100% sure that any \"autoEscape\" chars get\n    // escaped, even if encodeURIComponent doesn't think they\n    // need to be.\n    for (var i = 0, l = autoEscape.length; i < l; i++) {\n      var ae = autoEscape[i];\n      if (rest.indexOf(ae) === -1)\n        continue;\n      var esc = encodeURIComponent(ae);\n      if (esc === ae) {\n        esc = escape(ae);\n      }\n      rest = rest.split(ae).join(esc);\n    }\n  }\n\n\n  // chop off from the tail first.\n  var hash = rest.indexOf('#');\n  if (hash !== -1) {\n    // got a fragment string.\n    this.hash = rest.substr(hash);\n    rest = rest.slice(0, hash);\n  }\n  var qm = rest.indexOf('?');\n  if (qm !== -1) {\n    this.search = rest.substr(qm);\n    this.query = rest.substr(qm + 1);\n    if (parseQueryString) {\n      this.query = querystring.parse(this.query);\n    }\n    rest = rest.slice(0, qm);\n  } else if (parseQueryString) {\n    // no query string, but parseQueryString still requested\n    this.search = '';\n    this.query = {};\n  }\n  if (rest) this.pathname = rest;\n  if (slashedProtocol[lowerProto] &&\n      this.hostname && !this.pathname) {\n    this.pathname = '/';\n  }\n\n  //to support http.request\n  if (this.pathname || this.search) {\n    var p = this.pathname || '';\n    var s = this.search || '';\n    this.path = p + s;\n  }\n\n  // finally, reconstruct the href based on what has been validated.\n  this.href = this.format();\n  return this;\n};\n\n// format a parsed object into a url string\nfunction urlFormat(obj) {\n  // ensure it's an object, and not a string url.\n  // If it's an obj, this is a no-op.\n  // this way, you can call url_format() on strings\n  // to clean up potentially wonky urls.\n  if (util.isString(obj)) obj = urlParse(obj);\n  if (!(obj instanceof Url)) return Url.prototype.format.call(obj);\n  return obj.format();\n}\n\nUrl.prototype.format = function() {\n  var auth = this.auth || '';\n  if (auth) {\n    auth = encodeURIComponent(auth);\n    auth = auth.replace(/%3A/i, ':');\n    auth += '@';\n  }\n\n  var protocol = this.protocol || '',\n      pathname = this.pathname || '',\n      hash = this.hash || '',\n      host = false,\n      query = '';\n\n  if (this.host) {\n    host = auth + this.host;\n  } else if (this.hostname) {\n    host = auth + (this.hostname.indexOf(':') === -1 ?\n        this.hostname :\n        '[' + this.hostname + ']');\n    if (this.port) {\n      host += ':' + this.port;\n    }\n  }\n\n  if (this.query &&\n      util.isObject(this.query) &&\n      Object.keys(this.query).length) {\n    query = querystring.stringify(this.query);\n  }\n\n  var search = this.search || (query && ('?' + query)) || '';\n\n  if (protocol && protocol.substr(-1) !== ':') protocol += ':';\n\n  // only the slashedProtocols get the //.  Not mailto:, xmpp:, etc.\n  // unless they had them to begin with.\n  if (this.slashes ||\n      (!protocol || slashedProtocol[protocol]) && host !== false) {\n    host = '//' + (host || '');\n    if (pathname && pathname.charAt(0) !== '/') pathname = '/' + pathname;\n  } else if (!host) {\n    host = '';\n  }\n\n  if (hash && hash.charAt(0) !== '#') hash = '#' + hash;\n  if (search && search.charAt(0) !== '?') search = '?' + search;\n\n  pathname = pathname.replace(/[?#]/g, function(match) {\n    return encodeURIComponent(match);\n  });\n  search = search.replace('#', '%23');\n\n  return protocol + host + pathname + search + hash;\n};\n\nfunction urlResolve(source, relative) {\n  return urlParse(source, false, true).resolve(relative);\n}\n\nUrl.prototype.resolve = function(relative) {\n  return this.resolveObject(urlParse(relative, false, true)).format();\n};\n\nfunction urlResolveObject(source, relative) {\n  if (!source) return relative;\n  return urlParse(source, false, true).resolveObject(relative);\n}\n\nUrl.prototype.resolveObject = function(relative) {\n  if (util.isString(relative)) {\n    var rel = new Url();\n    rel.parse(relative, false, true);\n    relative = rel;\n  }\n\n  var result = new Url();\n  var tkeys = Object.keys(this);\n  for (var tk = 0; tk < tkeys.length; tk++) {\n    var tkey = tkeys[tk];\n    result[tkey] = this[tkey];\n  }\n\n  // hash is always overridden, no matter what.\n  // even href=\"\" will remove it.\n  result.hash = relative.hash;\n\n  // if the relative url is empty, then there's nothing left to do here.\n  if (relative.href === '') {\n    result.href = result.format();\n    return result;\n  }\n\n  // hrefs like //foo/bar always cut to the protocol.\n  if (relative.slashes && !relative.protocol) {\n    // take everything except the protocol from relative\n    var rkeys = Object.keys(relative);\n    for (var rk = 0; rk < rkeys.length; rk++) {\n      var rkey = rkeys[rk];\n      if (rkey !== 'protocol')\n        result[rkey] = relative[rkey];\n    }\n\n    //urlParse appends trailing / to urls like http://www.example.com\n    if (slashedProtocol[result.protocol] &&\n        result.hostname && !result.pathname) {\n      result.path = result.pathname = '/';\n    }\n\n    result.href = result.format();\n    return result;\n  }\n\n  if (relative.protocol && relative.protocol !== result.protocol) {\n    // if it's a known url protocol, then changing\n    // the protocol does weird things\n    // first, if it's not file:, then we MUST have a host,\n    // and if there was a path\n    // to begin with, then we MUST have a path.\n    // if it is file:, then the host is dropped,\n    // because that's known to be hostless.\n    // anything else is assumed to be absolute.\n    if (!slashedProtocol[relative.protocol]) {\n      var keys = Object.keys(relative);\n      for (var v = 0; v < keys.length; v++) {\n        var k = keys[v];\n        result[k] = relative[k];\n      }\n      result.href = result.format();\n      return result;\n    }\n\n    result.protocol = relative.protocol;\n    if (!relative.host && !hostlessProtocol[relative.protocol]) {\n      var relPath = (relative.pathname || '').split('/');\n      while (relPath.length && !(relative.host = relPath.shift()));\n      if (!relative.host) relative.host = '';\n      if (!relative.hostname) relative.hostname = '';\n      if (relPath[0] !== '') relPath.unshift('');\n      if (relPath.length < 2) relPath.unshift('');\n      result.pathname = relPath.join('/');\n    } else {\n      result.pathname = relative.pathname;\n    }\n    result.search = relative.search;\n    result.query = relative.query;\n    result.host = relative.host || '';\n    result.auth = relative.auth;\n    result.hostname = relative.hostname || relative.host;\n    result.port = relative.port;\n    // to support http.request\n    if (result.pathname || result.search) {\n      var p = result.pathname || '';\n      var s = result.search || '';\n      result.path = p + s;\n    }\n    result.slashes = result.slashes || relative.slashes;\n    result.href = result.format();\n    return result;\n  }\n\n  var isSourceAbs = (result.pathname && result.pathname.charAt(0) === '/'),\n      isRelAbs = (\n          relative.host ||\n          relative.pathname && relative.pathname.charAt(0) === '/'\n      ),\n      mustEndAbs = (isRelAbs || isSourceAbs ||\n                    (result.host && relative.pathname)),\n      removeAllDots = mustEndAbs,\n      srcPath = result.pathname && result.pathname.split('/') || [],\n      relPath = relative.pathname && relative.pathname.split('/') || [],\n      psychotic = result.protocol && !slashedProtocol[result.protocol];\n\n  // if the url is a non-slashed url, then relative\n  // links like ../.. should be able\n  // to crawl up to the hostname, as well.  This is strange.\n  // result.protocol has already been set by now.\n  // Later on, put the first path part into the host field.\n  if (psychotic) {\n    result.hostname = '';\n    result.port = null;\n    if (result.host) {\n      if (srcPath[0] === '') srcPath[0] = result.host;\n      else srcPath.unshift(result.host);\n    }\n    result.host = '';\n    if (relative.protocol) {\n      relative.hostname = null;\n      relative.port = null;\n      if (relative.host) {\n        if (relPath[0] === '') relPath[0] = relative.host;\n        else relPath.unshift(relative.host);\n      }\n      relative.host = null;\n    }\n    mustEndAbs = mustEndAbs && (relPath[0] === '' || srcPath[0] === '');\n  }\n\n  if (isRelAbs) {\n    // it's absolute.\n    result.host = (relative.host || relative.host === '') ?\n                  relative.host : result.host;\n    result.hostname = (relative.hostname || relative.hostname === '') ?\n                      relative.hostname : result.hostname;\n    result.search = relative.search;\n    result.query = relative.query;\n    srcPath = relPath;\n    // fall through to the dot-handling below.\n  } else if (relPath.length) {\n    // it's relative\n    // throw away the existing file, and take the new path instead.\n    if (!srcPath) srcPath = [];\n    srcPath.pop();\n    srcPath = srcPath.concat(relPath);\n    result.search = relative.search;\n    result.query = relative.query;\n  } else if (!util.isNullOrUndefined(relative.search)) {\n    // just pull out the search.\n    // like href='?foo'.\n    // Put this after the other two cases because it simplifies the booleans\n    if (psychotic) {\n      result.hostname = result.host = srcPath.shift();\n      //occationaly the auth can get stuck only in host\n      //this especially happens in cases like\n      //url.resolveObject('mailto:local1@domain1', 'local2@domain2')\n      var authInHost = result.host && result.host.indexOf('@') > 0 ?\n                       result.host.split('@') : false;\n      if (authInHost) {\n        result.auth = authInHost.shift();\n        result.host = result.hostname = authInHost.shift();\n      }\n    }\n    result.search = relative.search;\n    result.query = relative.query;\n    //to support http.request\n    if (!util.isNull(result.pathname) || !util.isNull(result.search)) {\n      result.path = (result.pathname ? result.pathname : '') +\n                    (result.search ? result.search : '');\n    }\n    result.href = result.format();\n    return result;\n  }\n\n  if (!srcPath.length) {\n    // no path at all.  easy.\n    // we've already handled the other stuff above.\n    result.pathname = null;\n    //to support http.request\n    if (result.search) {\n      result.path = '/' + result.search;\n    } else {\n      result.path = null;\n    }\n    result.href = result.format();\n    return result;\n  }\n\n  // if a url ENDs in . or .., then it must get a trailing slash.\n  // however, if it ends in anything else non-slashy,\n  // then it must NOT get a trailing slash.\n  var last = srcPath.slice(-1)[0];\n  var hasTrailingSlash = (\n      (result.host || relative.host || srcPath.length > 1) &&\n      (last === '.' || last === '..') || last === '');\n\n  // strip single dots, resolve double dots to parent dir\n  // if the path tries to go above the root, `up` ends up > 0\n  var up = 0;\n  for (var i = srcPath.length; i >= 0; i--) {\n    last = srcPath[i];\n    if (last === '.') {\n      srcPath.splice(i, 1);\n    } else if (last === '..') {\n      srcPath.splice(i, 1);\n      up++;\n    } else if (up) {\n      srcPath.splice(i, 1);\n      up--;\n    }\n  }\n\n  // if the path is allowed to go above the root, restore leading ..s\n  if (!mustEndAbs && !removeAllDots) {\n    for (; up--; up) {\n      srcPath.unshift('..');\n    }\n  }\n\n  if (mustEndAbs && srcPath[0] !== '' &&\n      (!srcPath[0] || srcPath[0].charAt(0) !== '/')) {\n    srcPath.unshift('');\n  }\n\n  if (hasTrailingSlash && (srcPath.join('/').substr(-1) !== '/')) {\n    srcPath.push('');\n  }\n\n  var isAbsolute = srcPath[0] === '' ||\n      (srcPath[0] && srcPath[0].charAt(0) === '/');\n\n  // put the host back\n  if (psychotic) {\n    result.hostname = result.host = isAbsolute ? '' :\n                                    srcPath.length ? srcPath.shift() : '';\n    //occationaly the auth can get stuck only in host\n    //this especially happens in cases like\n    //url.resolveObject('mailto:local1@domain1', 'local2@domain2')\n    var authInHost = result.host && result.host.indexOf('@') > 0 ?\n                     result.host.split('@') : false;\n    if (authInHost) {\n      result.auth = authInHost.shift();\n      result.host = result.hostname = authInHost.shift();\n    }\n  }\n\n  mustEndAbs = mustEndAbs || (result.host && srcPath.length);\n\n  if (mustEndAbs && !isAbsolute) {\n    srcPath.unshift('');\n  }\n\n  if (!srcPath.length) {\n    result.pathname = null;\n    result.path = null;\n  } else {\n    result.pathname = srcPath.join('/');\n  }\n\n  //to support request.http\n  if (!util.isNull(result.pathname) || !util.isNull(result.search)) {\n    result.path = (result.pathname ? result.pathname : '') +\n                  (result.search ? result.search : '');\n  }\n  result.auth = relative.auth || result.auth;\n  result.slashes = result.slashes || relative.slashes;\n  result.href = result.format();\n  return result;\n};\n\nUrl.prototype.parseHost = function() {\n  var host = this.host;\n  var port = portPattern.exec(host);\n  if (port) {\n    port = port[0];\n    if (port !== ':') {\n      this.port = port.substr(1);\n    }\n    host = host.substr(0, host.length - port.length);\n  }\n  if (host) this.hostname = host;\n};\n","\"use strict\";\r\nmodule.exports = asPromise;\r\n\r\n/**\r\n * Callback as used by {@link util.asPromise}.\r\n * @typedef asPromiseCallback\r\n * @type {function}\r\n * @param {Error|null} error Error, if any\r\n * @param {...*} params Additional arguments\r\n * @returns {undefined}\r\n */\r\n\r\n/**\r\n * Returns a promise from a node-style callback function.\r\n * @memberof util\r\n * @param {asPromiseCallback} fn Function to call\r\n * @param {*} ctx Function context\r\n * @param {...*} params Function arguments\r\n * @returns {Promise<*>} Promisified function\r\n */\r\nfunction asPromise(fn, ctx/*, varargs */) {\r\n    var params  = new Array(arguments.length - 1),\r\n        offset  = 0,\r\n        index   = 2,\r\n        pending = true;\r\n    while (index < arguments.length)\r\n        params[offset++] = arguments[index++];\r\n    return new Promise(function executor(resolve, reject) {\r\n        params[offset] = function callback(err/*, varargs */) {\r\n            if (pending) {\r\n                pending = false;\r\n                if (err)\r\n                    reject(err);\r\n                else {\r\n                    var params = new Array(arguments.length - 1),\r\n                        offset = 0;\r\n                    while (offset < params.length)\r\n                        params[offset++] = arguments[offset];\r\n                    resolve.apply(null, params);\r\n                }\r\n            }\r\n        };\r\n        try {\r\n            fn.apply(ctx || null, params);\r\n        } catch (err) {\r\n            if (pending) {\r\n                pending = false;\r\n                reject(err);\r\n            }\r\n        }\r\n    });\r\n}\r\n","\"use strict\";\r\n\r\n/**\r\n * A minimal base64 implementation for number arrays.\r\n * @memberof util\r\n * @namespace\r\n */\r\nvar base64 = exports;\r\n\r\n/**\r\n * Calculates the byte length of a base64 encoded string.\r\n * @param {string} string Base64 encoded string\r\n * @returns {number} Byte length\r\n */\r\nbase64.length = function length(string) {\r\n    var p = string.length;\r\n    if (!p)\r\n        return 0;\r\n    var n = 0;\r\n    while (--p % 4 > 1 && string.charAt(p) === \"=\")\r\n        ++n;\r\n    return Math.ceil(string.length * 3) / 4 - n;\r\n};\r\n\r\n// Base64 encoding table\r\nvar b64 = new Array(64);\r\n\r\n// Base64 decoding table\r\nvar s64 = new Array(123);\r\n\r\n// 65..90, 97..122, 48..57, 43, 47\r\nfor (var i = 0; i < 64;)\r\n    s64[b64[i] = i < 26 ? i + 65 : i < 52 ? i + 71 : i < 62 ? i - 4 : i - 59 | 43] = i++;\r\n\r\n/**\r\n * Encodes a buffer to a base64 encoded string.\r\n * @param {Uint8Array} buffer Source buffer\r\n * @param {number} start Source start\r\n * @param {number} end Source end\r\n * @returns {string} Base64 encoded string\r\n */\r\nbase64.encode = function encode(buffer, start, end) {\r\n    var parts = null,\r\n        chunk = [];\r\n    var i = 0, // output index\r\n        j = 0, // goto index\r\n        t;     // temporary\r\n    while (start < end) {\r\n        var b = buffer[start++];\r\n        switch (j) {\r\n            case 0:\r\n                chunk[i++] = b64[b >> 2];\r\n                t = (b & 3) << 4;\r\n                j = 1;\r\n                break;\r\n            case 1:\r\n                chunk[i++] = b64[t | b >> 4];\r\n                t = (b & 15) << 2;\r\n                j = 2;\r\n                break;\r\n            case 2:\r\n                chunk[i++] = b64[t | b >> 6];\r\n                chunk[i++] = b64[b & 63];\r\n                j = 0;\r\n                break;\r\n        }\r\n        if (i > 8191) {\r\n            (parts || (parts = [])).push(String.fromCharCode.apply(String, chunk));\r\n            i = 0;\r\n        }\r\n    }\r\n    if (j) {\r\n        chunk[i++] = b64[t];\r\n        chunk[i++] = 61;\r\n        if (j === 1)\r\n            chunk[i++] = 61;\r\n    }\r\n    if (parts) {\r\n        if (i)\r\n            parts.push(String.fromCharCode.apply(String, chunk.slice(0, i)));\r\n        return parts.join(\"\");\r\n    }\r\n    return String.fromCharCode.apply(String, chunk.slice(0, i));\r\n};\r\n\r\nvar invalidEncoding = \"invalid encoding\";\r\n\r\n/**\r\n * Decodes a base64 encoded string to a buffer.\r\n * @param {string} string Source string\r\n * @param {Uint8Array} buffer Destination buffer\r\n * @param {number} offset Destination offset\r\n * @returns {number} Number of bytes written\r\n * @throws {Error} If encoding is invalid\r\n */\r\nbase64.decode = function decode(string, buffer, offset) {\r\n    var start = offset;\r\n    var j = 0, // goto index\r\n        t;     // temporary\r\n    for (var i = 0; i < string.length;) {\r\n        var c = string.charCodeAt(i++);\r\n        if (c === 61 && j > 1)\r\n            break;\r\n        if ((c = s64[c]) === undefined)\r\n            throw Error(invalidEncoding);\r\n        switch (j) {\r\n            case 0:\r\n                t = c;\r\n                j = 1;\r\n                break;\r\n            case 1:\r\n                buffer[offset++] = t << 2 | (c & 48) >> 4;\r\n                t = c;\r\n                j = 2;\r\n                break;\r\n            case 2:\r\n                buffer[offset++] = (t & 15) << 4 | (c & 60) >> 2;\r\n                t = c;\r\n                j = 3;\r\n                break;\r\n            case 3:\r\n                buffer[offset++] = (t & 3) << 6 | c;\r\n                j = 0;\r\n                break;\r\n        }\r\n    }\r\n    if (j === 1)\r\n        throw Error(invalidEncoding);\r\n    return offset - start;\r\n};\r\n\r\n/**\r\n * Tests if the specified string appears to be base64 encoded.\r\n * @param {string} string String to test\r\n * @returns {boolean} `true` if probably base64 encoded, otherwise false\r\n */\r\nbase64.test = function test(string) {\r\n    return /^(?:[A-Za-z0-9+/]{4})*(?:[A-Za-z0-9+/]{2}==|[A-Za-z0-9+/]{3}=)?$/.test(string);\r\n};\r\n","\"use strict\";\r\nmodule.exports = EventEmitter;\r\n\r\n/**\r\n * Constructs a new event emitter instance.\r\n * @classdesc A minimal event emitter.\r\n * @memberof util\r\n * @constructor\r\n */\r\nfunction EventEmitter() {\r\n\r\n    /**\r\n     * Registered listeners.\r\n     * @type {Object.<string,*>}\r\n     * @private\r\n     */\r\n    this._listeners = {};\r\n}\r\n\r\n/**\r\n * Registers an event listener.\r\n * @param {string} evt Event name\r\n * @param {function} fn Listener\r\n * @param {*} [ctx] Listener context\r\n * @returns {util.EventEmitter} `this`\r\n */\r\nEventEmitter.prototype.on = function on(evt, fn, ctx) {\r\n    (this._listeners[evt] || (this._listeners[evt] = [])).push({\r\n        fn  : fn,\r\n        ctx : ctx || this\r\n    });\r\n    return this;\r\n};\r\n\r\n/**\r\n * Removes an event listener or any matching listeners if arguments are omitted.\r\n * @param {string} [evt] Event name. Removes all listeners if omitted.\r\n * @param {function} [fn] Listener to remove. Removes all listeners of `evt` if omitted.\r\n * @returns {util.EventEmitter} `this`\r\n */\r\nEventEmitter.prototype.off = function off(evt, fn) {\r\n    if (evt === undefined)\r\n        this._listeners = {};\r\n    else {\r\n        if (fn === undefined)\r\n            this._listeners[evt] = [];\r\n        else {\r\n            var listeners = this._listeners[evt];\r\n            for (var i = 0; i < listeners.length;)\r\n                if (listeners[i].fn === fn)\r\n                    listeners.splice(i, 1);\r\n                else\r\n                    ++i;\r\n        }\r\n    }\r\n    return this;\r\n};\r\n\r\n/**\r\n * Emits an event by calling its listeners with the specified arguments.\r\n * @param {string} evt Event name\r\n * @param {...*} args Arguments\r\n * @returns {util.EventEmitter} `this`\r\n */\r\nEventEmitter.prototype.emit = function emit(evt) {\r\n    var listeners = this._listeners[evt];\r\n    if (listeners) {\r\n        var args = [],\r\n            i = 1;\r\n        for (; i < arguments.length;)\r\n            args.push(arguments[i++]);\r\n        for (i = 0; i < listeners.length;)\r\n            listeners[i].fn.apply(listeners[i++].ctx, args);\r\n    }\r\n    return this;\r\n};\r\n","\"use strict\";\r\n\r\nmodule.exports = factory(factory);\r\n\r\n/**\r\n * Reads / writes floats / doubles from / to buffers.\r\n * @name util.float\r\n * @namespace\r\n */\r\n\r\n/**\r\n * Writes a 32 bit float to a buffer using little endian byte order.\r\n * @name util.float.writeFloatLE\r\n * @function\r\n * @param {number} val Value to write\r\n * @param {Uint8Array} buf Target buffer\r\n * @param {number} pos Target buffer offset\r\n * @returns {undefined}\r\n */\r\n\r\n/**\r\n * Writes a 32 bit float to a buffer using big endian byte order.\r\n * @name util.float.writeFloatBE\r\n * @function\r\n * @param {number} val Value to write\r\n * @param {Uint8Array} buf Target buffer\r\n * @param {number} pos Target buffer offset\r\n * @returns {undefined}\r\n */\r\n\r\n/**\r\n * Reads a 32 bit float from a buffer using little endian byte order.\r\n * @name util.float.readFloatLE\r\n * @function\r\n * @param {Uint8Array} buf Source buffer\r\n * @param {number} pos Source buffer offset\r\n * @returns {number} Value read\r\n */\r\n\r\n/**\r\n * Reads a 32 bit float from a buffer using big endian byte order.\r\n * @name util.float.readFloatBE\r\n * @function\r\n * @param {Uint8Array} buf Source buffer\r\n * @param {number} pos Source buffer offset\r\n * @returns {number} Value read\r\n */\r\n\r\n/**\r\n * Writes a 64 bit double to a buffer using little endian byte order.\r\n * @name util.float.writeDoubleLE\r\n * @function\r\n * @param {number} val Value to write\r\n * @param {Uint8Array} buf Target buffer\r\n * @param {number} pos Target buffer offset\r\n * @returns {undefined}\r\n */\r\n\r\n/**\r\n * Writes a 64 bit double to a buffer using big endian byte order.\r\n * @name util.float.writeDoubleBE\r\n * @function\r\n * @param {number} val Value to write\r\n * @param {Uint8Array} buf Target buffer\r\n * @param {number} pos Target buffer offset\r\n * @returns {undefined}\r\n */\r\n\r\n/**\r\n * Reads a 64 bit double from a buffer using little endian byte order.\r\n * @name util.float.readDoubleLE\r\n * @function\r\n * @param {Uint8Array} buf Source buffer\r\n * @param {number} pos Source buffer offset\r\n * @returns {number} Value read\r\n */\r\n\r\n/**\r\n * Reads a 64 bit double from a buffer using big endian byte order.\r\n * @name util.float.readDoubleBE\r\n * @function\r\n * @param {Uint8Array} buf Source buffer\r\n * @param {number} pos Source buffer offset\r\n * @returns {number} Value read\r\n */\r\n\r\n// Factory function for the purpose of node-based testing in modified global environments\r\nfunction factory(exports) {\r\n\r\n    // float: typed array\r\n    if (typeof Float32Array !== \"undefined\") (function() {\r\n\r\n        var f32 = new Float32Array([ -0 ]),\r\n            f8b = new Uint8Array(f32.buffer),\r\n            le  = f8b[3] === 128;\r\n\r\n        function writeFloat_f32_cpy(val, buf, pos) {\r\n            f32[0] = val;\r\n            buf[pos    ] = f8b[0];\r\n            buf[pos + 1] = f8b[1];\r\n            buf[pos + 2] = f8b[2];\r\n            buf[pos + 3] = f8b[3];\r\n        }\r\n\r\n        function writeFloat_f32_rev(val, buf, pos) {\r\n            f32[0] = val;\r\n            buf[pos    ] = f8b[3];\r\n            buf[pos + 1] = f8b[2];\r\n            buf[pos + 2] = f8b[1];\r\n            buf[pos + 3] = f8b[0];\r\n        }\r\n\r\n        /* istanbul ignore next */\r\n        exports.writeFloatLE = le ? writeFloat_f32_cpy : writeFloat_f32_rev;\r\n        /* istanbul ignore next */\r\n        exports.writeFloatBE = le ? writeFloat_f32_rev : writeFloat_f32_cpy;\r\n\r\n        function readFloat_f32_cpy(buf, pos) {\r\n            f8b[0] = buf[pos    ];\r\n            f8b[1] = buf[pos + 1];\r\n            f8b[2] = buf[pos + 2];\r\n            f8b[3] = buf[pos + 3];\r\n            return f32[0];\r\n        }\r\n\r\n        function readFloat_f32_rev(buf, pos) {\r\n            f8b[3] = buf[pos    ];\r\n            f8b[2] = buf[pos + 1];\r\n            f8b[1] = buf[pos + 2];\r\n            f8b[0] = buf[pos + 3];\r\n            return f32[0];\r\n        }\r\n\r\n        /* istanbul ignore next */\r\n        exports.readFloatLE = le ? readFloat_f32_cpy : readFloat_f32_rev;\r\n        /* istanbul ignore next */\r\n        exports.readFloatBE = le ? readFloat_f32_rev : readFloat_f32_cpy;\r\n\r\n    // float: ieee754\r\n    })(); else (function() {\r\n\r\n        function writeFloat_ieee754(writeUint, val, buf, pos) {\r\n            var sign = val < 0 ? 1 : 0;\r\n            if (sign)\r\n                val = -val;\r\n            if (val === 0)\r\n                writeUint(1 / val > 0 ? /* positive */ 0 : /* negative 0 */ 2147483648, buf, pos);\r\n            else if (isNaN(val))\r\n                writeUint(2143289344, buf, pos);\r\n            else if (val > 3.4028234663852886e+38) // +-Infinity\r\n                writeUint((sign << 31 | 2139095040) >>> 0, buf, pos);\r\n            else if (val < 1.1754943508222875e-38) // denormal\r\n                writeUint((sign << 31 | Math.round(val / 1.401298464324817e-45)) >>> 0, buf, pos);\r\n            else {\r\n                var exponent = Math.floor(Math.log(val) / Math.LN2),\r\n                    mantissa = Math.round(val * Math.pow(2, -exponent) * 8388608) & 8388607;\r\n                writeUint((sign << 31 | exponent + 127 << 23 | mantissa) >>> 0, buf, pos);\r\n            }\r\n        }\r\n\r\n        exports.writeFloatLE = writeFloat_ieee754.bind(null, writeUintLE);\r\n        exports.writeFloatBE = writeFloat_ieee754.bind(null, writeUintBE);\r\n\r\n        function readFloat_ieee754(readUint, buf, pos) {\r\n            var uint = readUint(buf, pos),\r\n                sign = (uint >> 31) * 2 + 1,\r\n                exponent = uint >>> 23 & 255,\r\n                mantissa = uint & 8388607;\r\n            return exponent === 255\r\n                ? mantissa\r\n                ? NaN\r\n                : sign * Infinity\r\n                : exponent === 0 // denormal\r\n                ? sign * 1.401298464324817e-45 * mantissa\r\n                : sign * Math.pow(2, exponent - 150) * (mantissa + 8388608);\r\n        }\r\n\r\n        exports.readFloatLE = readFloat_ieee754.bind(null, readUintLE);\r\n        exports.readFloatBE = readFloat_ieee754.bind(null, readUintBE);\r\n\r\n    })();\r\n\r\n    // double: typed array\r\n    if (typeof Float64Array !== \"undefined\") (function() {\r\n\r\n        var f64 = new Float64Array([-0]),\r\n            f8b = new Uint8Array(f64.buffer),\r\n            le  = f8b[7] === 128;\r\n\r\n        function writeDouble_f64_cpy(val, buf, pos) {\r\n            f64[0] = val;\r\n            buf[pos    ] = f8b[0];\r\n            buf[pos + 1] = f8b[1];\r\n            buf[pos + 2] = f8b[2];\r\n            buf[pos + 3] = f8b[3];\r\n            buf[pos + 4] = f8b[4];\r\n            buf[pos + 5] = f8b[5];\r\n            buf[pos + 6] = f8b[6];\r\n            buf[pos + 7] = f8b[7];\r\n        }\r\n\r\n        function writeDouble_f64_rev(val, buf, pos) {\r\n            f64[0] = val;\r\n            buf[pos    ] = f8b[7];\r\n            buf[pos + 1] = f8b[6];\r\n            buf[pos + 2] = f8b[5];\r\n            buf[pos + 3] = f8b[4];\r\n            buf[pos + 4] = f8b[3];\r\n            buf[pos + 5] = f8b[2];\r\n            buf[pos + 6] = f8b[1];\r\n            buf[pos + 7] = f8b[0];\r\n        }\r\n\r\n        /* istanbul ignore next */\r\n        exports.writeDoubleLE = le ? writeDouble_f64_cpy : writeDouble_f64_rev;\r\n        /* istanbul ignore next */\r\n        exports.writeDoubleBE = le ? writeDouble_f64_rev : writeDouble_f64_cpy;\r\n\r\n        function readDouble_f64_cpy(buf, pos) {\r\n            f8b[0] = buf[pos    ];\r\n            f8b[1] = buf[pos + 1];\r\n            f8b[2] = buf[pos + 2];\r\n            f8b[3] = buf[pos + 3];\r\n            f8b[4] = buf[pos + 4];\r\n            f8b[5] = buf[pos + 5];\r\n            f8b[6] = buf[pos + 6];\r\n            f8b[7] = buf[pos + 7];\r\n            return f64[0];\r\n        }\r\n\r\n        function readDouble_f64_rev(buf, pos) {\r\n            f8b[7] = buf[pos    ];\r\n            f8b[6] = buf[pos + 1];\r\n            f8b[5] = buf[pos + 2];\r\n            f8b[4] = buf[pos + 3];\r\n            f8b[3] = buf[pos + 4];\r\n            f8b[2] = buf[pos + 5];\r\n            f8b[1] = buf[pos + 6];\r\n            f8b[0] = buf[pos + 7];\r\n            return f64[0];\r\n        }\r\n\r\n        /* istanbul ignore next */\r\n        exports.readDoubleLE = le ? readDouble_f64_cpy : readDouble_f64_rev;\r\n        /* istanbul ignore next */\r\n        exports.readDoubleBE = le ? readDouble_f64_rev : readDouble_f64_cpy;\r\n\r\n    // double: ieee754\r\n    })(); else (function() {\r\n\r\n        function writeDouble_ieee754(writeUint, off0, off1, val, buf, pos) {\r\n            var sign = val < 0 ? 1 : 0;\r\n            if (sign)\r\n                val = -val;\r\n            if (val === 0) {\r\n                writeUint(0, buf, pos + off0);\r\n                writeUint(1 / val > 0 ? /* positive */ 0 : /* negative 0 */ 2147483648, buf, pos + off1);\r\n            } else if (isNaN(val)) {\r\n                writeUint(0, buf, pos + off0);\r\n                writeUint(2146959360, buf, pos + off1);\r\n            } else if (val > 1.7976931348623157e+308) { // +-Infinity\r\n                writeUint(0, buf, pos + off0);\r\n                writeUint((sign << 31 | 2146435072) >>> 0, buf, pos + off1);\r\n            } else {\r\n                var mantissa;\r\n                if (val < 2.2250738585072014e-308) { // denormal\r\n                    mantissa = val / 5e-324;\r\n                    writeUint(mantissa >>> 0, buf, pos + off0);\r\n                    writeUint((sign << 31 | mantissa / 4294967296) >>> 0, buf, pos + off1);\r\n                } else {\r\n                    var exponent = Math.floor(Math.log(val) / Math.LN2);\r\n                    if (exponent === 1024)\r\n                        exponent = 1023;\r\n                    mantissa = val * Math.pow(2, -exponent);\r\n                    writeUint(mantissa * 4503599627370496 >>> 0, buf, pos + off0);\r\n                    writeUint((sign << 31 | exponent + 1023 << 20 | mantissa * 1048576 & 1048575) >>> 0, buf, pos + off1);\r\n                }\r\n            }\r\n        }\r\n\r\n        exports.writeDoubleLE = writeDouble_ieee754.bind(null, writeUintLE, 0, 4);\r\n        exports.writeDoubleBE = writeDouble_ieee754.bind(null, writeUintBE, 4, 0);\r\n\r\n        function readDouble_ieee754(readUint, off0, off1, buf, pos) {\r\n            var lo = readUint(buf, pos + off0),\r\n                hi = readUint(buf, pos + off1);\r\n            var sign = (hi >> 31) * 2 + 1,\r\n                exponent = hi >>> 20 & 2047,\r\n                mantissa = 4294967296 * (hi & 1048575) + lo;\r\n            return exponent === 2047\r\n                ? mantissa\r\n                ? NaN\r\n                : sign * Infinity\r\n                : exponent === 0 // denormal\r\n                ? sign * 5e-324 * mantissa\r\n                : sign * Math.pow(2, exponent - 1075) * (mantissa + 4503599627370496);\r\n        }\r\n\r\n        exports.readDoubleLE = readDouble_ieee754.bind(null, readUintLE, 0, 4);\r\n        exports.readDoubleBE = readDouble_ieee754.bind(null, readUintBE, 4, 0);\r\n\r\n    })();\r\n\r\n    return exports;\r\n}\r\n\r\n// uint helpers\r\n\r\nfunction writeUintLE(val, buf, pos) {\r\n    buf[pos    ] =  val        & 255;\r\n    buf[pos + 1] =  val >>> 8  & 255;\r\n    buf[pos + 2] =  val >>> 16 & 255;\r\n    buf[pos + 3] =  val >>> 24;\r\n}\r\n\r\nfunction writeUintBE(val, buf, pos) {\r\n    buf[pos    ] =  val >>> 24;\r\n    buf[pos + 1] =  val >>> 16 & 255;\r\n    buf[pos + 2] =  val >>> 8  & 255;\r\n    buf[pos + 3] =  val        & 255;\r\n}\r\n\r\nfunction readUintLE(buf, pos) {\r\n    return (buf[pos    ]\r\n          | buf[pos + 1] << 8\r\n          | buf[pos + 2] << 16\r\n          | buf[pos + 3] << 24) >>> 0;\r\n}\r\n\r\nfunction readUintBE(buf, pos) {\r\n    return (buf[pos    ] << 24\r\n          | buf[pos + 1] << 16\r\n          | buf[pos + 2] << 8\r\n          | buf[pos + 3]) >>> 0;\r\n}\r\n","\"use strict\";\r\nmodule.exports = inquire;\r\n\r\n/**\r\n * Requires a module only if available.\r\n * @memberof util\r\n * @param {string} moduleName Module to require\r\n * @returns {?Object} Required module if available and not empty, otherwise `null`\r\n */\r\nfunction inquire(moduleName) {\r\n    try {\r\n        var mod = eval(\"quire\".replace(/^/,\"re\"))(moduleName); // eslint-disable-line no-eval\r\n        if (mod && (mod.length || Object.keys(mod).length))\r\n            return mod;\r\n    } catch (e) {} // eslint-disable-line no-empty\r\n    return null;\r\n}\r\n","\"use strict\";\r\n\r\n/**\r\n * A minimal UTF8 implementation for number arrays.\r\n * @memberof util\r\n * @namespace\r\n */\r\nvar utf8 = exports;\r\n\r\n/**\r\n * Calculates the UTF8 byte length of a string.\r\n * @param {string} string String\r\n * @returns {number} Byte length\r\n */\r\nutf8.length = function utf8_length(string) {\r\n    var len = 0,\r\n        c = 0;\r\n    for (var i = 0; i < string.length; ++i) {\r\n        c = string.charCodeAt(i);\r\n        if (c < 128)\r\n            len += 1;\r\n        else if (c < 2048)\r\n            len += 2;\r\n        else if ((c & 0xFC00) === 0xD800 && (string.charCodeAt(i + 1) & 0xFC00) === 0xDC00) {\r\n            ++i;\r\n            len += 4;\r\n        } else\r\n            len += 3;\r\n    }\r\n    return len;\r\n};\r\n\r\n/**\r\n * Reads UTF8 bytes as a string.\r\n * @param {Uint8Array} buffer Source buffer\r\n * @param {number} start Source start\r\n * @param {number} end Source end\r\n * @returns {string} String read\r\n */\r\nutf8.read = function utf8_read(buffer, start, end) {\r\n    var len = end - start;\r\n    if (len < 1)\r\n        return \"\";\r\n    var parts = null,\r\n        chunk = [],\r\n        i = 0, // char offset\r\n        t;     // temporary\r\n    while (start < end) {\r\n        t = buffer[start++];\r\n        if (t < 128)\r\n            chunk[i++] = t;\r\n        else if (t > 191 && t < 224)\r\n            chunk[i++] = (t & 31) << 6 | buffer[start++] & 63;\r\n        else if (t > 239 && t < 365) {\r\n            t = ((t & 7) << 18 | (buffer[start++] & 63) << 12 | (buffer[start++] & 63) << 6 | buffer[start++] & 63) - 0x10000;\r\n            chunk[i++] = 0xD800 + (t >> 10);\r\n            chunk[i++] = 0xDC00 + (t & 1023);\r\n        } else\r\n            chunk[i++] = (t & 15) << 12 | (buffer[start++] & 63) << 6 | buffer[start++] & 63;\r\n        if (i > 8191) {\r\n            (parts || (parts = [])).push(String.fromCharCode.apply(String, chunk));\r\n            i = 0;\r\n        }\r\n    }\r\n    if (parts) {\r\n        if (i)\r\n            parts.push(String.fromCharCode.apply(String, chunk.slice(0, i)));\r\n        return parts.join(\"\");\r\n    }\r\n    return String.fromCharCode.apply(String, chunk.slice(0, i));\r\n};\r\n\r\n/**\r\n * Writes a string as UTF8 bytes.\r\n * @param {string} string Source string\r\n * @param {Uint8Array} buffer Destination buffer\r\n * @param {number} offset Destination offset\r\n * @returns {number} Bytes written\r\n */\r\nutf8.write = function utf8_write(string, buffer, offset) {\r\n    var start = offset,\r\n        c1, // character 1\r\n        c2; // character 2\r\n    for (var i = 0; i < string.length; ++i) {\r\n        c1 = string.charCodeAt(i);\r\n        if (c1 < 128) {\r\n            buffer[offset++] = c1;\r\n        } else if (c1 < 2048) {\r\n            buffer[offset++] = c1 >> 6       | 192;\r\n            buffer[offset++] = c1       & 63 | 128;\r\n        } else if ((c1 & 0xFC00) === 0xD800 && ((c2 = string.charCodeAt(i + 1)) & 0xFC00) === 0xDC00) {\r\n            c1 = 0x10000 + ((c1 & 0x03FF) << 10) + (c2 & 0x03FF);\r\n            ++i;\r\n            buffer[offset++] = c1 >> 18      | 240;\r\n            buffer[offset++] = c1 >> 12 & 63 | 128;\r\n            buffer[offset++] = c1 >> 6  & 63 | 128;\r\n            buffer[offset++] = c1       & 63 | 128;\r\n        } else {\r\n            buffer[offset++] = c1 >> 12      | 224;\r\n            buffer[offset++] = c1 >> 6  & 63 | 128;\r\n            buffer[offset++] = c1       & 63 | 128;\r\n        }\r\n    }\r\n    return offset - start;\r\n};\r\n","\"use strict\";\r\nmodule.exports = pool;\r\n\r\n/**\r\n * An allocator as used by {@link util.pool}.\r\n * @typedef PoolAllocator\r\n * @type {function}\r\n * @param {number} size Buffer size\r\n * @returns {Uint8Array} Buffer\r\n */\r\n\r\n/**\r\n * A slicer as used by {@link util.pool}.\r\n * @typedef PoolSlicer\r\n * @type {function}\r\n * @param {number} start Start offset\r\n * @param {number} end End offset\r\n * @returns {Uint8Array} Buffer slice\r\n * @this {Uint8Array}\r\n */\r\n\r\n/**\r\n * A general purpose buffer pool.\r\n * @memberof util\r\n * @function\r\n * @param {PoolAllocator} alloc Allocator\r\n * @param {PoolSlicer} slice Slicer\r\n * @param {number} [size=8192] Slab size\r\n * @returns {PoolAllocator} Pooled allocator\r\n */\r\nfunction pool(alloc, slice, size) {\r\n    var SIZE   = size || 8192;\r\n    var MAX    = SIZE >>> 1;\r\n    var slab   = null;\r\n    var offset = SIZE;\r\n    return function pool_alloc(size) {\r\n        if (size < 1 || size > MAX)\r\n            return alloc(size);\r\n        if (offset + size > SIZE) {\r\n            slab = alloc(SIZE);\r\n            offset = 0;\r\n        }\r\n        var buf = slice.call(slab, offset, offset += size);\r\n        if (offset & 7) // align to 32 bit\r\n            offset = (offset | 7) + 1;\r\n        return buf;\r\n    };\r\n}\r\n","\"use strict\";\r\nmodule.exports = LongBits;\r\n\r\nvar util = require(\"../util/minimal\");\r\n\r\n/**\r\n * Constructs new long bits.\r\n * @classdesc Helper class for working with the low and high bits of a 64 bit value.\r\n * @memberof util\r\n * @constructor\r\n * @param {number} lo Low 32 bits, unsigned\r\n * @param {number} hi High 32 bits, unsigned\r\n */\r\nfunction LongBits(lo, hi) {\r\n\r\n    // note that the casts below are theoretically unnecessary as of today, but older statically\r\n    // generated converter code might still call the ctor with signed 32bits. kept for compat.\r\n\r\n    /**\r\n     * Low bits.\r\n     * @type {number}\r\n     */\r\n    this.lo = lo >>> 0;\r\n\r\n    /**\r\n     * High bits.\r\n     * @type {number}\r\n     */\r\n    this.hi = hi >>> 0;\r\n}\r\n\r\n/**\r\n * Zero bits.\r\n * @memberof util.LongBits\r\n * @type {util.LongBits}\r\n */\r\nvar zero = LongBits.zero = new LongBits(0, 0);\r\n\r\nzero.toNumber = function() { return 0; };\r\nzero.zzEncode = zero.zzDecode = function() { return this; };\r\nzero.length = function() { return 1; };\r\n\r\n/**\r\n * Zero hash.\r\n * @memberof util.LongBits\r\n * @type {string}\r\n */\r\nvar zeroHash = LongBits.zeroHash = \"\\0\\0\\0\\0\\0\\0\\0\\0\";\r\n\r\n/**\r\n * Constructs new long bits from the specified number.\r\n * @param {number} value Value\r\n * @returns {util.LongBits} Instance\r\n */\r\nLongBits.fromNumber = function fromNumber(value) {\r\n    if (value === 0)\r\n        return zero;\r\n    var sign = value < 0;\r\n    if (sign)\r\n        value = -value;\r\n    var lo = value >>> 0,\r\n        hi = (value - lo) / 4294967296 >>> 0;\r\n    if (sign) {\r\n        hi = ~hi >>> 0;\r\n        lo = ~lo >>> 0;\r\n        if (++lo > 4294967295) {\r\n            lo = 0;\r\n            if (++hi > 4294967295)\r\n                hi = 0;\r\n        }\r\n    }\r\n    return new LongBits(lo, hi);\r\n};\r\n\r\n/**\r\n * Constructs new long bits from a number, long or string.\r\n * @param {Long|number|string} value Value\r\n * @returns {util.LongBits} Instance\r\n */\r\nLongBits.from = function from(value) {\r\n    if (typeof value === \"number\")\r\n        return LongBits.fromNumber(value);\r\n    if (util.isString(value)) {\r\n        /* istanbul ignore else */\r\n        if (util.Long)\r\n            value = util.Long.fromString(value);\r\n        else\r\n            return LongBits.fromNumber(parseInt(value, 10));\r\n    }\r\n    return value.low || value.high ? new LongBits(value.low >>> 0, value.high >>> 0) : zero;\r\n};\r\n\r\n/**\r\n * Converts this long bits to a possibly unsafe JavaScript number.\r\n * @param {boolean} [unsigned=false] Whether unsigned or not\r\n * @returns {number} Possibly unsafe number\r\n */\r\nLongBits.prototype.toNumber = function toNumber(unsigned) {\r\n    if (!unsigned && this.hi >>> 31) {\r\n        var lo = ~this.lo + 1 >>> 0,\r\n            hi = ~this.hi     >>> 0;\r\n        if (!lo)\r\n            hi = hi + 1 >>> 0;\r\n        return -(lo + hi * 4294967296);\r\n    }\r\n    return this.lo + this.hi * 4294967296;\r\n};\r\n\r\n/**\r\n * Converts this long bits to a long.\r\n * @param {boolean} [unsigned=false] Whether unsigned or not\r\n * @returns {Long} Long\r\n */\r\nLongBits.prototype.toLong = function toLong(unsigned) {\r\n    return util.Long\r\n        ? new util.Long(this.lo | 0, this.hi | 0, Boolean(unsigned))\r\n        /* istanbul ignore next */\r\n        : { low: this.lo | 0, high: this.hi | 0, unsigned: Boolean(unsigned) };\r\n};\r\n\r\nvar charCodeAt = String.prototype.charCodeAt;\r\n\r\n/**\r\n * Constructs new long bits from the specified 8 characters long hash.\r\n * @param {string} hash Hash\r\n * @returns {util.LongBits} Bits\r\n */\r\nLongBits.fromHash = function fromHash(hash) {\r\n    if (hash === zeroHash)\r\n        return zero;\r\n    return new LongBits(\r\n        ( charCodeAt.call(hash, 0)\r\n        | charCodeAt.call(hash, 1) << 8\r\n        | charCodeAt.call(hash, 2) << 16\r\n        | charCodeAt.call(hash, 3) << 24) >>> 0\r\n    ,\r\n        ( charCodeAt.call(hash, 4)\r\n        | charCodeAt.call(hash, 5) << 8\r\n        | charCodeAt.call(hash, 6) << 16\r\n        | charCodeAt.call(hash, 7) << 24) >>> 0\r\n    );\r\n};\r\n\r\n/**\r\n * Converts this long bits to a 8 characters long hash.\r\n * @returns {string} Hash\r\n */\r\nLongBits.prototype.toHash = function toHash() {\r\n    return String.fromCharCode(\r\n        this.lo        & 255,\r\n        this.lo >>> 8  & 255,\r\n        this.lo >>> 16 & 255,\r\n        this.lo >>> 24      ,\r\n        this.hi        & 255,\r\n        this.hi >>> 8  & 255,\r\n        this.hi >>> 16 & 255,\r\n        this.hi >>> 24\r\n    );\r\n};\r\n\r\n/**\r\n * Zig-zag encodes this long bits.\r\n * @returns {util.LongBits} `this`\r\n */\r\nLongBits.prototype.zzEncode = function zzEncode() {\r\n    var mask =   this.hi >> 31;\r\n    this.hi  = ((this.hi << 1 | this.lo >>> 31) ^ mask) >>> 0;\r\n    this.lo  = ( this.lo << 1                   ^ mask) >>> 0;\r\n    return this;\r\n};\r\n\r\n/**\r\n * Zig-zag decodes this long bits.\r\n * @returns {util.LongBits} `this`\r\n */\r\nLongBits.prototype.zzDecode = function zzDecode() {\r\n    var mask = -(this.lo & 1);\r\n    this.lo  = ((this.lo >>> 1 | this.hi << 31) ^ mask) >>> 0;\r\n    this.hi  = ( this.hi >>> 1                  ^ mask) >>> 0;\r\n    return this;\r\n};\r\n\r\n/**\r\n * Calculates the length of this longbits when encoded as a varint.\r\n * @returns {number} Length\r\n */\r\nLongBits.prototype.length = function length() {\r\n    var part0 =  this.lo,\r\n        part1 = (this.lo >>> 28 | this.hi << 4) >>> 0,\r\n        part2 =  this.hi >>> 24;\r\n    return part2 === 0\r\n         ? part1 === 0\r\n           ? part0 < 16384\r\n             ? part0 < 128 ? 1 : 2\r\n             : part0 < 2097152 ? 3 : 4\r\n           : part1 < 16384\r\n             ? part1 < 128 ? 5 : 6\r\n             : part1 < 2097152 ? 7 : 8\r\n         : part2 < 128 ? 9 : 10;\r\n};\r\n","'use strict'\n\nexports.byteLength = byteLength\nexports.toByteArray = toByteArray\nexports.fromByteArray = fromByteArray\n\nvar lookup = []\nvar revLookup = []\nvar Arr = typeof Uint8Array !== 'undefined' ? Uint8Array : Array\n\nvar code = 'ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/'\nfor (var i = 0, len = code.length; i < len; ++i) {\n  lookup[i] = code[i]\n  revLookup[code.charCodeAt(i)] = i\n}\n\n// Support decoding URL-safe base64 strings, as Node.js does.\n// See: https://en.wikipedia.org/wiki/Base64#URL_applications\nrevLookup['-'.charCodeAt(0)] = 62\nrevLookup['_'.charCodeAt(0)] = 63\n\nfunction getLens (b64) {\n  var len = b64.length\n\n  if (len % 4 > 0) {\n    throw new Error('Invalid string. Length must be a multiple of 4')\n  }\n\n  // Trim off extra bytes after placeholder bytes are found\n  // See: https://github.com/beatgammit/base64-js/issues/42\n  var validLen = b64.indexOf('=')\n  if (validLen === -1) validLen = len\n\n  var placeHoldersLen = validLen === len\n    ? 0\n    : 4 - (validLen % 4)\n\n  return [validLen, placeHoldersLen]\n}\n\n// base64 is 4/3 + up to two characters of the original data\nfunction byteLength (b64) {\n  var lens = getLens(b64)\n  var validLen = lens[0]\n  var placeHoldersLen = lens[1]\n  return ((validLen + placeHoldersLen) * 3 / 4) - placeHoldersLen\n}\n\nfunction _byteLength (b64, validLen, placeHoldersLen) {\n  return ((validLen + placeHoldersLen) * 3 / 4) - placeHoldersLen\n}\n\nfunction toByteArray (b64) {\n  var tmp\n  var lens = getLens(b64)\n  var validLen = lens[0]\n  var placeHoldersLen = lens[1]\n\n  var arr = new Arr(_byteLength(b64, validLen, placeHoldersLen))\n\n  var curByte = 0\n\n  // if there are placeholders, only get up to the last complete 4 chars\n  var len = placeHoldersLen > 0\n    ? validLen - 4\n    : validLen\n\n  for (var i = 0; i < len; i += 4) {\n    tmp =\n      (revLookup[b64.charCodeAt(i)] << 18) |\n      (revLookup[b64.charCodeAt(i + 1)] << 12) |\n      (revLookup[b64.charCodeAt(i + 2)] << 6) |\n      revLookup[b64.charCodeAt(i + 3)]\n    arr[curByte++] = (tmp >> 16) & 0xFF\n    arr[curByte++] = (tmp >> 8) & 0xFF\n    arr[curByte++] = tmp & 0xFF\n  }\n\n  if (placeHoldersLen === 2) {\n    tmp =\n      (revLookup[b64.charCodeAt(i)] << 2) |\n      (revLookup[b64.charCodeAt(i + 1)] >> 4)\n    arr[curByte++] = tmp & 0xFF\n  }\n\n  if (placeHoldersLen === 1) {\n    tmp =\n      (revLookup[b64.charCodeAt(i)] << 10) |\n      (revLookup[b64.charCodeAt(i + 1)] << 4) |\n      (revLookup[b64.charCodeAt(i + 2)] >> 2)\n    arr[curByte++] = (tmp >> 8) & 0xFF\n    arr[curByte++] = tmp & 0xFF\n  }\n\n  return arr\n}\n\nfunction tripletToBase64 (num) {\n  return lookup[num >> 18 & 0x3F] +\n    lookup[num >> 12 & 0x3F] +\n    lookup[num >> 6 & 0x3F] +\n    lookup[num & 0x3F]\n}\n\nfunction encodeChunk (uint8, start, end) {\n  var tmp\n  var output = []\n  for (var i = start; i < end; i += 3) {\n    tmp =\n      ((uint8[i] << 16) & 0xFF0000) +\n      ((uint8[i + 1] << 8) & 0xFF00) +\n      (uint8[i + 2] & 0xFF)\n    output.push(tripletToBase64(tmp))\n  }\n  return output.join('')\n}\n\nfunction fromByteArray (uint8) {\n  var tmp\n  var len = uint8.length\n  var extraBytes = len % 3 // if we have 1 byte left, pad 2 bytes\n  var parts = []\n  var maxChunkLength = 16383 // must be multiple of 3\n\n  // go through the array every three bytes, we'll deal with trailing stuff later\n  for (var i = 0, len2 = len - extraBytes; i < len2; i += maxChunkLength) {\n    parts.push(encodeChunk(\n      uint8, i, (i + maxChunkLength) > len2 ? len2 : (i + maxChunkLength)\n    ))\n  }\n\n  // pad the end with zeros, but make sure to not forget the extra bytes\n  if (extraBytes === 1) {\n    tmp = uint8[len - 1]\n    parts.push(\n      lookup[tmp >> 2] +\n      lookup[(tmp << 4) & 0x3F] +\n      '=='\n    )\n  } else if (extraBytes === 2) {\n    tmp = (uint8[len - 2] << 8) + uint8[len - 1]\n    parts.push(\n      lookup[tmp >> 10] +\n      lookup[(tmp >> 4) & 0x3F] +\n      lookup[(tmp << 2) & 0x3F] +\n      '='\n    )\n  }\n\n  return parts.join('')\n}\n","exports.read = function (buffer, offset, isLE, mLen, nBytes) {\n  var e, m\n  var eLen = (nBytes * 8) - mLen - 1\n  var eMax = (1 << eLen) - 1\n  var eBias = eMax >> 1\n  var nBits = -7\n  var i = isLE ? (nBytes - 1) : 0\n  var d = isLE ? -1 : 1\n  var s = buffer[offset + i]\n\n  i += d\n\n  e = s & ((1 << (-nBits)) - 1)\n  s >>= (-nBits)\n  nBits += eLen\n  for (; nBits > 0; e = (e * 256) + buffer[offset + i], i += d, nBits -= 8) {}\n\n  m = e & ((1 << (-nBits)) - 1)\n  e >>= (-nBits)\n  nBits += mLen\n  for (; nBits > 0; m = (m * 256) + buffer[offset + i], i += d, nBits -= 8) {}\n\n  if (e === 0) {\n    e = 1 - eBias\n  } else if (e === eMax) {\n    return m ? NaN : ((s ? -1 : 1) * Infinity)\n  } else {\n    m = m + Math.pow(2, mLen)\n    e = e - eBias\n  }\n  return (s ? -1 : 1) * m * Math.pow(2, e - mLen)\n}\n\nexports.write = function (buffer, value, offset, isLE, mLen, nBytes) {\n  var e, m, c\n  var eLen = (nBytes * 8) - mLen - 1\n  var eMax = (1 << eLen) - 1\n  var eBias = eMax >> 1\n  var rt = (mLen === 23 ? Math.pow(2, -24) - Math.pow(2, -77) : 0)\n  var i = isLE ? 0 : (nBytes - 1)\n  var d = isLE ? 1 : -1\n  var s = value < 0 || (value === 0 && 1 / value < 0) ? 1 : 0\n\n  value = Math.abs(value)\n\n  if (isNaN(value) || value === Infinity) {\n    m = isNaN(value) ? 1 : 0\n    e = eMax\n  } else {\n    e = Math.floor(Math.log(value) / Math.LN2)\n    if (value * (c = Math.pow(2, -e)) < 1) {\n      e--\n      c *= 2\n    }\n    if (e + eBias >= 1) {\n      value += rt / c\n    } else {\n      value += rt * Math.pow(2, 1 - eBias)\n    }\n    if (value * c >= 2) {\n      e++\n      c /= 2\n    }\n\n    if (e + eBias >= eMax) {\n      m = 0\n      e = eMax\n    } else if (e + eBias >= 1) {\n      m = ((value * c) - 1) * Math.pow(2, mLen)\n      e = e + eBias\n    } else {\n      m = value * Math.pow(2, eBias - 1) * Math.pow(2, mLen)\n      e = 0\n    }\n  }\n\n  for (; mLen >= 8; buffer[offset + i] = m & 0xff, i += d, m /= 256, mLen -= 8) {}\n\n  e = (e << mLen) | m\n  eLen += mLen\n  for (; eLen > 0; buffer[offset + i] = e & 0xff, i += d, e /= 256, eLen -= 8) {}\n\n  buffer[offset + i - d] |= s * 128\n}\n","var toString = {}.toString;\n\nmodule.exports = Array.isArray || function (arr) {\n  return toString.call(arr) == '[object Array]';\n};\n","/*!\n * The buffer module from node.js, for the browser.\n *\n * @author   Feross Aboukhadijeh <feross@feross.org> <http://feross.org>\n * @license  MIT\n */\n/* eslint-disable no-proto */\n\n'use strict'\n\nvar base64 = require('base64-js')\nvar ieee754 = require('ieee754')\nvar isArray = require('isarray')\n\nexports.Buffer = Buffer\nexports.SlowBuffer = SlowBuffer\nexports.INSPECT_MAX_BYTES = 50\n\n/**\n * If `Buffer.TYPED_ARRAY_SUPPORT`:\n *   === true    Use Uint8Array implementation (fastest)\n *   === false   Use Object implementation (most compatible, even IE6)\n *\n * Browsers that support typed arrays are IE 10+, Firefox 4+, Chrome 7+, Safari 5.1+,\n * Opera 11.6+, iOS 4.2+.\n *\n * Due to various browser bugs, sometimes the Object implementation will be used even\n * when the browser supports typed arrays.\n *\n * Note:\n *\n *   - Firefox 4-29 lacks support for adding new properties to `Uint8Array` instances,\n *     See: https://bugzilla.mozilla.org/show_bug.cgi?id=695438.\n *\n *   - Chrome 9-10 is missing the `TypedArray.prototype.subarray` function.\n *\n *   - IE10 has a broken `TypedArray.prototype.subarray` function which returns arrays of\n *     incorrect length in some situations.\n\n * We detect these buggy browsers and set `Buffer.TYPED_ARRAY_SUPPORT` to `false` so they\n * get the Object implementation, which is slower but behaves correctly.\n */\nBuffer.TYPED_ARRAY_SUPPORT = global.TYPED_ARRAY_SUPPORT !== undefined\n  ? global.TYPED_ARRAY_SUPPORT\n  : typedArraySupport()\n\n/*\n * Export kMaxLength after typed array support is determined.\n */\nexports.kMaxLength = kMaxLength()\n\nfunction typedArraySupport () {\n  try {\n    var arr = new Uint8Array(1)\n    arr.__proto__ = {__proto__: Uint8Array.prototype, foo: function () { return 42 }}\n    return arr.foo() === 42 && // typed array instances can be augmented\n        typeof arr.subarray === 'function' && // chrome 9-10 lack `subarray`\n        arr.subarray(1, 1).byteLength === 0 // ie10 has broken `subarray`\n  } catch (e) {\n    return false\n  }\n}\n\nfunction kMaxLength () {\n  return Buffer.TYPED_ARRAY_SUPPORT\n    ? 0x7fffffff\n    : 0x3fffffff\n}\n\nfunction createBuffer (that, length) {\n  if (kMaxLength() < length) {\n    throw new RangeError('Invalid typed array length')\n  }\n  if (Buffer.TYPED_ARRAY_SUPPORT) {\n    // Return an augmented `Uint8Array` instance, for best performance\n    that = new Uint8Array(length)\n    that.__proto__ = Buffer.prototype\n  } else {\n    // Fallback: Return an object instance of the Buffer class\n    if (that === null) {\n      that = new Buffer(length)\n    }\n    that.length = length\n  }\n\n  return that\n}\n\n/**\n * The Buffer constructor returns instances of `Uint8Array` that have their\n * prototype changed to `Buffer.prototype`. Furthermore, `Buffer` is a subclass of\n * `Uint8Array`, so the returned instances will have all the node `Buffer` methods\n * and the `Uint8Array` methods. Square bracket notation works as expected -- it\n * returns a single octet.\n *\n * The `Uint8Array` prototype remains unmodified.\n */\n\nfunction Buffer (arg, encodingOrOffset, length) {\n  if (!Buffer.TYPED_ARRAY_SUPPORT && !(this instanceof Buffer)) {\n    return new Buffer(arg, encodingOrOffset, length)\n  }\n\n  // Common case.\n  if (typeof arg === 'number') {\n    if (typeof encodingOrOffset === 'string') {\n      throw new Error(\n        'If encoding is specified then the first argument must be a string'\n      )\n    }\n    return allocUnsafe(this, arg)\n  }\n  return from(this, arg, encodingOrOffset, length)\n}\n\nBuffer.poolSize = 8192 // not used by this implementation\n\n// TODO: Legacy, not needed anymore. Remove in next major version.\nBuffer._augment = function (arr) {\n  arr.__proto__ = Buffer.prototype\n  return arr\n}\n\nfunction from (that, value, encodingOrOffset, length) {\n  if (typeof value === 'number') {\n    throw new TypeError('\"value\" argument must not be a number')\n  }\n\n  if (typeof ArrayBuffer !== 'undefined' && value instanceof ArrayBuffer) {\n    return fromArrayBuffer(that, value, encodingOrOffset, length)\n  }\n\n  if (typeof value === 'string') {\n    return fromString(that, value, encodingOrOffset)\n  }\n\n  return fromObject(that, value)\n}\n\n/**\n * Functionally equivalent to Buffer(arg, encoding) but throws a TypeError\n * if value is a number.\n * Buffer.from(str[, encoding])\n * Buffer.from(array)\n * Buffer.from(buffer)\n * Buffer.from(arrayBuffer[, byteOffset[, length]])\n **/\nBuffer.from = function (value, encodingOrOffset, length) {\n  return from(null, value, encodingOrOffset, length)\n}\n\nif (Buffer.TYPED_ARRAY_SUPPORT) {\n  Buffer.prototype.__proto__ = Uint8Array.prototype\n  Buffer.__proto__ = Uint8Array\n  if (typeof Symbol !== 'undefined' && Symbol.species &&\n      Buffer[Symbol.species] === Buffer) {\n    // Fix subarray() in ES2016. See: https://github.com/feross/buffer/pull/97\n    Object.defineProperty(Buffer, Symbol.species, {\n      value: null,\n      configurable: true\n    })\n  }\n}\n\nfunction assertSize (size) {\n  if (typeof size !== 'number') {\n    throw new TypeError('\"size\" argument must be a number')\n  } else if (size < 0) {\n    throw new RangeError('\"size\" argument must not be negative')\n  }\n}\n\nfunction alloc (that, size, fill, encoding) {\n  assertSize(size)\n  if (size <= 0) {\n    return createBuffer(that, size)\n  }\n  if (fill !== undefined) {\n    // Only pay attention to encoding if it's a string. This\n    // prevents accidentally sending in a number that would\n    // be interpretted as a start offset.\n    return typeof encoding === 'string'\n      ? createBuffer(that, size).fill(fill, encoding)\n      : createBuffer(that, size).fill(fill)\n  }\n  return createBuffer(that, size)\n}\n\n/**\n * Creates a new filled Buffer instance.\n * alloc(size[, fill[, encoding]])\n **/\nBuffer.alloc = function (size, fill, encoding) {\n  return alloc(null, size, fill, encoding)\n}\n\nfunction allocUnsafe (that, size) {\n  assertSize(size)\n  that = createBuffer(that, size < 0 ? 0 : checked(size) | 0)\n  if (!Buffer.TYPED_ARRAY_SUPPORT) {\n    for (var i = 0; i < size; ++i) {\n      that[i] = 0\n    }\n  }\n  return that\n}\n\n/**\n * Equivalent to Buffer(num), by default creates a non-zero-filled Buffer instance.\n * */\nBuffer.allocUnsafe = function (size) {\n  return allocUnsafe(null, size)\n}\n/**\n * Equivalent to SlowBuffer(num), by default creates a non-zero-filled Buffer instance.\n */\nBuffer.allocUnsafeSlow = function (size) {\n  return allocUnsafe(null, size)\n}\n\nfunction fromString (that, string, encoding) {\n  if (typeof encoding !== 'string' || encoding === '') {\n    encoding = 'utf8'\n  }\n\n  if (!Buffer.isEncoding(encoding)) {\n    throw new TypeError('\"encoding\" must be a valid string encoding')\n  }\n\n  var length = byteLength(string, encoding) | 0\n  that = createBuffer(that, length)\n\n  var actual = that.write(string, encoding)\n\n  if (actual !== length) {\n    // Writing a hex string, for example, that contains invalid characters will\n    // cause everything after the first invalid character to be ignored. (e.g.\n    // 'abxxcd' will be treated as 'ab')\n    that = that.slice(0, actual)\n  }\n\n  return that\n}\n\nfunction fromArrayLike (that, array) {\n  var length = array.length < 0 ? 0 : checked(array.length) | 0\n  that = createBuffer(that, length)\n  for (var i = 0; i < length; i += 1) {\n    that[i] = array[i] & 255\n  }\n  return that\n}\n\nfunction fromArrayBuffer (that, array, byteOffset, length) {\n  array.byteLength // this throws if `array` is not a valid ArrayBuffer\n\n  if (byteOffset < 0 || array.byteLength < byteOffset) {\n    throw new RangeError('\\'offset\\' is out of bounds')\n  }\n\n  if (array.byteLength < byteOffset + (length || 0)) {\n    throw new RangeError('\\'length\\' is out of bounds')\n  }\n\n  if (byteOffset === undefined && length === undefined) {\n    array = new Uint8Array(array)\n  } else if (length === undefined) {\n    array = new Uint8Array(array, byteOffset)\n  } else {\n    array = new Uint8Array(array, byteOffset, length)\n  }\n\n  if (Buffer.TYPED_ARRAY_SUPPORT) {\n    // Return an augmented `Uint8Array` instance, for best performance\n    that = array\n    that.__proto__ = Buffer.prototype\n  } else {\n    // Fallback: Return an object instance of the Buffer class\n    that = fromArrayLike(that, array)\n  }\n  return that\n}\n\nfunction fromObject (that, obj) {\n  if (Buffer.isBuffer(obj)) {\n    var len = checked(obj.length) | 0\n    that = createBuffer(that, len)\n\n    if (that.length === 0) {\n      return that\n    }\n\n    obj.copy(that, 0, 0, len)\n    return that\n  }\n\n  if (obj) {\n    if ((typeof ArrayBuffer !== 'undefined' &&\n        obj.buffer instanceof ArrayBuffer) || 'length' in obj) {\n      if (typeof obj.length !== 'number' || isnan(obj.length)) {\n        return createBuffer(that, 0)\n      }\n      return fromArrayLike(that, obj)\n    }\n\n    if (obj.type === 'Buffer' && isArray(obj.data)) {\n      return fromArrayLike(that, obj.data)\n    }\n  }\n\n  throw new TypeError('First argument must be a string, Buffer, ArrayBuffer, Array, or array-like object.')\n}\n\nfunction checked (length) {\n  // Note: cannot use `length < kMaxLength()` here because that fails when\n  // length is NaN (which is otherwise coerced to zero.)\n  if (length >= kMaxLength()) {\n    throw new RangeError('Attempt to allocate Buffer larger than maximum ' +\n                         'size: 0x' + kMaxLength().toString(16) + ' bytes')\n  }\n  return length | 0\n}\n\nfunction SlowBuffer (length) {\n  if (+length != length) { // eslint-disable-line eqeqeq\n    length = 0\n  }\n  return Buffer.alloc(+length)\n}\n\nBuffer.isBuffer = function isBuffer (b) {\n  return !!(b != null && b._isBuffer)\n}\n\nBuffer.compare = function compare (a, b) {\n  if (!Buffer.isBuffer(a) || !Buffer.isBuffer(b)) {\n    throw new TypeError('Arguments must be Buffers')\n  }\n\n  if (a === b) return 0\n\n  var x = a.length\n  var y = b.length\n\n  for (var i = 0, len = Math.min(x, y); i < len; ++i) {\n    if (a[i] !== b[i]) {\n      x = a[i]\n      y = b[i]\n      break\n    }\n  }\n\n  if (x < y) return -1\n  if (y < x) return 1\n  return 0\n}\n\nBuffer.isEncoding = function isEncoding (encoding) {\n  switch (String(encoding).toLowerCase()) {\n    case 'hex':\n    case 'utf8':\n    case 'utf-8':\n    case 'ascii':\n    case 'latin1':\n    case 'binary':\n    case 'base64':\n    case 'ucs2':\n    case 'ucs-2':\n    case 'utf16le':\n    case 'utf-16le':\n      return true\n    default:\n      return false\n  }\n}\n\nBuffer.concat = function concat (list, length) {\n  if (!isArray(list)) {\n    throw new TypeError('\"list\" argument must be an Array of Buffers')\n  }\n\n  if (list.length === 0) {\n    return Buffer.alloc(0)\n  }\n\n  var i\n  if (length === undefined) {\n    length = 0\n    for (i = 0; i < list.length; ++i) {\n      length += list[i].length\n    }\n  }\n\n  var buffer = Buffer.allocUnsafe(length)\n  var pos = 0\n  for (i = 0; i < list.length; ++i) {\n    var buf = list[i]\n    if (!Buffer.isBuffer(buf)) {\n      throw new TypeError('\"list\" argument must be an Array of Buffers')\n    }\n    buf.copy(buffer, pos)\n    pos += buf.length\n  }\n  return buffer\n}\n\nfunction byteLength (string, encoding) {\n  if (Buffer.isBuffer(string)) {\n    return string.length\n  }\n  if (typeof ArrayBuffer !== 'undefined' && typeof ArrayBuffer.isView === 'function' &&\n      (ArrayBuffer.isView(string) || string instanceof ArrayBuffer)) {\n    return string.byteLength\n  }\n  if (typeof string !== 'string') {\n    string = '' + string\n  }\n\n  var len = string.length\n  if (len === 0) return 0\n\n  // Use a for loop to avoid recursion\n  var loweredCase = false\n  for (;;) {\n    switch (encoding) {\n      case 'ascii':\n      case 'latin1':\n      case 'binary':\n        return len\n      case 'utf8':\n      case 'utf-8':\n      case undefined:\n        return utf8ToBytes(string).length\n      case 'ucs2':\n      case 'ucs-2':\n      case 'utf16le':\n      case 'utf-16le':\n        return len * 2\n      case 'hex':\n        return len >>> 1\n      case 'base64':\n        return base64ToBytes(string).length\n      default:\n        if (loweredCase) return utf8ToBytes(string).length // assume utf8\n        encoding = ('' + encoding).toLowerCase()\n        loweredCase = true\n    }\n  }\n}\nBuffer.byteLength = byteLength\n\nfunction slowToString (encoding, start, end) {\n  var loweredCase = false\n\n  // No need to verify that \"this.length <= MAX_UINT32\" since it's a read-only\n  // property of a typed array.\n\n  // This behaves neither like String nor Uint8Array in that we set start/end\n  // to their upper/lower bounds if the value passed is out of range.\n  // undefined is handled specially as per ECMA-262 6th Edition,\n  // Section 13.3.3.7 Runtime Semantics: KeyedBindingInitialization.\n  if (start === undefined || start < 0) {\n    start = 0\n  }\n  // Return early if start > this.length. Done here to prevent potential uint32\n  // coercion fail below.\n  if (start > this.length) {\n    return ''\n  }\n\n  if (end === undefined || end > this.length) {\n    end = this.length\n  }\n\n  if (end <= 0) {\n    return ''\n  }\n\n  // Force coersion to uint32. This will also coerce falsey/NaN values to 0.\n  end >>>= 0\n  start >>>= 0\n\n  if (end <= start) {\n    return ''\n  }\n\n  if (!encoding) encoding = 'utf8'\n\n  while (true) {\n    switch (encoding) {\n      case 'hex':\n        return hexSlice(this, start, end)\n\n      case 'utf8':\n      case 'utf-8':\n        return utf8Slice(this, start, end)\n\n      case 'ascii':\n        return asciiSlice(this, start, end)\n\n      case 'latin1':\n      case 'binary':\n        return latin1Slice(this, start, end)\n\n      case 'base64':\n        return base64Slice(this, start, end)\n\n      case 'ucs2':\n      case 'ucs-2':\n      case 'utf16le':\n      case 'utf-16le':\n        return utf16leSlice(this, start, end)\n\n      default:\n        if (loweredCase) throw new TypeError('Unknown encoding: ' + encoding)\n        encoding = (encoding + '').toLowerCase()\n        loweredCase = true\n    }\n  }\n}\n\n// The property is used by `Buffer.isBuffer` and `is-buffer` (in Safari 5-7) to detect\n// Buffer instances.\nBuffer.prototype._isBuffer = true\n\nfunction swap (b, n, m) {\n  var i = b[n]\n  b[n] = b[m]\n  b[m] = i\n}\n\nBuffer.prototype.swap16 = function swap16 () {\n  var len = this.length\n  if (len % 2 !== 0) {\n    throw new RangeError('Buffer size must be a multiple of 16-bits')\n  }\n  for (var i = 0; i < len; i += 2) {\n    swap(this, i, i + 1)\n  }\n  return this\n}\n\nBuffer.prototype.swap32 = function swap32 () {\n  var len = this.length\n  if (len % 4 !== 0) {\n    throw new RangeError('Buffer size must be a multiple of 32-bits')\n  }\n  for (var i = 0; i < len; i += 4) {\n    swap(this, i, i + 3)\n    swap(this, i + 1, i + 2)\n  }\n  return this\n}\n\nBuffer.prototype.swap64 = function swap64 () {\n  var len = this.length\n  if (len % 8 !== 0) {\n    throw new RangeError('Buffer size must be a multiple of 64-bits')\n  }\n  for (var i = 0; i < len; i += 8) {\n    swap(this, i, i + 7)\n    swap(this, i + 1, i + 6)\n    swap(this, i + 2, i + 5)\n    swap(this, i + 3, i + 4)\n  }\n  return this\n}\n\nBuffer.prototype.toString = function toString () {\n  var length = this.length | 0\n  if (length === 0) return ''\n  if (arguments.length === 0) return utf8Slice(this, 0, length)\n  return slowToString.apply(this, arguments)\n}\n\nBuffer.prototype.equals = function equals (b) {\n  if (!Buffer.isBuffer(b)) throw new TypeError('Argument must be a Buffer')\n  if (this === b) return true\n  return Buffer.compare(this, b) === 0\n}\n\nBuffer.prototype.inspect = function inspect () {\n  var str = ''\n  var max = exports.INSPECT_MAX_BYTES\n  if (this.length > 0) {\n    str = this.toString('hex', 0, max).match(/.{2}/g).join(' ')\n    if (this.length > max) str += ' ... '\n  }\n  return '<Buffer ' + str + '>'\n}\n\nBuffer.prototype.compare = function compare (target, start, end, thisStart, thisEnd) {\n  if (!Buffer.isBuffer(target)) {\n    throw new TypeError('Argument must be a Buffer')\n  }\n\n  if (start === undefined) {\n    start = 0\n  }\n  if (end === undefined) {\n    end = target ? target.length : 0\n  }\n  if (thisStart === undefined) {\n    thisStart = 0\n  }\n  if (thisEnd === undefined) {\n    thisEnd = this.length\n  }\n\n  if (start < 0 || end > target.length || thisStart < 0 || thisEnd > this.length) {\n    throw new RangeError('out of range index')\n  }\n\n  if (thisStart >= thisEnd && start >= end) {\n    return 0\n  }\n  if (thisStart >= thisEnd) {\n    return -1\n  }\n  if (start >= end) {\n    return 1\n  }\n\n  start >>>= 0\n  end >>>= 0\n  thisStart >>>= 0\n  thisEnd >>>= 0\n\n  if (this === target) return 0\n\n  var x = thisEnd - thisStart\n  var y = end - start\n  var len = Math.min(x, y)\n\n  var thisCopy = this.slice(thisStart, thisEnd)\n  var targetCopy = target.slice(start, end)\n\n  for (var i = 0; i < len; ++i) {\n    if (thisCopy[i] !== targetCopy[i]) {\n      x = thisCopy[i]\n      y = targetCopy[i]\n      break\n    }\n  }\n\n  if (x < y) return -1\n  if (y < x) return 1\n  return 0\n}\n\n// Finds either the first index of `val` in `buffer` at offset >= `byteOffset`,\n// OR the last index of `val` in `buffer` at offset <= `byteOffset`.\n//\n// Arguments:\n// - buffer - a Buffer to search\n// - val - a string, Buffer, or number\n// - byteOffset - an index into `buffer`; will be clamped to an int32\n// - encoding - an optional encoding, relevant is val is a string\n// - dir - true for indexOf, false for lastIndexOf\nfunction bidirectionalIndexOf (buffer, val, byteOffset, encoding, dir) {\n  // Empty buffer means no match\n  if (buffer.length === 0) return -1\n\n  // Normalize byteOffset\n  if (typeof byteOffset === 'string') {\n    encoding = byteOffset\n    byteOffset = 0\n  } else if (byteOffset > 0x7fffffff) {\n    byteOffset = 0x7fffffff\n  } else if (byteOffset < -0x80000000) {\n    byteOffset = -0x80000000\n  }\n  byteOffset = +byteOffset  // Coerce to Number.\n  if (isNaN(byteOffset)) {\n    // byteOffset: it it's undefined, null, NaN, \"foo\", etc, search whole buffer\n    byteOffset = dir ? 0 : (buffer.length - 1)\n  }\n\n  // Normalize byteOffset: negative offsets start from the end of the buffer\n  if (byteOffset < 0) byteOffset = buffer.length + byteOffset\n  if (byteOffset >= buffer.length) {\n    if (dir) return -1\n    else byteOffset = buffer.length - 1\n  } else if (byteOffset < 0) {\n    if (dir) byteOffset = 0\n    else return -1\n  }\n\n  // Normalize val\n  if (typeof val === 'string') {\n    val = Buffer.from(val, encoding)\n  }\n\n  // Finally, search either indexOf (if dir is true) or lastIndexOf\n  if (Buffer.isBuffer(val)) {\n    // Special case: looking for empty string/buffer always fails\n    if (val.length === 0) {\n      return -1\n    }\n    return arrayIndexOf(buffer, val, byteOffset, encoding, dir)\n  } else if (typeof val === 'number') {\n    val = val & 0xFF // Search for a byte value [0-255]\n    if (Buffer.TYPED_ARRAY_SUPPORT &&\n        typeof Uint8Array.prototype.indexOf === 'function') {\n      if (dir) {\n        return Uint8Array.prototype.indexOf.call(buffer, val, byteOffset)\n      } else {\n        return Uint8Array.prototype.lastIndexOf.call(buffer, val, byteOffset)\n      }\n    }\n    return arrayIndexOf(buffer, [ val ], byteOffset, encoding, dir)\n  }\n\n  throw new TypeError('val must be string, number or Buffer')\n}\n\nfunction arrayIndexOf (arr, val, byteOffset, encoding, dir) {\n  var indexSize = 1\n  var arrLength = arr.length\n  var valLength = val.length\n\n  if (encoding !== undefined) {\n    encoding = String(encoding).toLowerCase()\n    if (encoding === 'ucs2' || encoding === 'ucs-2' ||\n        encoding === 'utf16le' || encoding === 'utf-16le') {\n      if (arr.length < 2 || val.length < 2) {\n        return -1\n      }\n      indexSize = 2\n      arrLength /= 2\n      valLength /= 2\n      byteOffset /= 2\n    }\n  }\n\n  function read (buf, i) {\n    if (indexSize === 1) {\n      return buf[i]\n    } else {\n      return buf.readUInt16BE(i * indexSize)\n    }\n  }\n\n  var i\n  if (dir) {\n    var foundIndex = -1\n    for (i = byteOffset; i < arrLength; i++) {\n      if (read(arr, i) === read(val, foundIndex === -1 ? 0 : i - foundIndex)) {\n        if (foundIndex === -1) foundIndex = i\n        if (i - foundIndex + 1 === valLength) return foundIndex * indexSize\n      } else {\n        if (foundIndex !== -1) i -= i - foundIndex\n        foundIndex = -1\n      }\n    }\n  } else {\n    if (byteOffset + valLength > arrLength) byteOffset = arrLength - valLength\n    for (i = byteOffset; i >= 0; i--) {\n      var found = true\n      for (var j = 0; j < valLength; j++) {\n        if (read(arr, i + j) !== read(val, j)) {\n          found = false\n          break\n        }\n      }\n      if (found) return i\n    }\n  }\n\n  return -1\n}\n\nBuffer.prototype.includes = function includes (val, byteOffset, encoding) {\n  return this.indexOf(val, byteOffset, encoding) !== -1\n}\n\nBuffer.prototype.indexOf = function indexOf (val, byteOffset, encoding) {\n  return bidirectionalIndexOf(this, val, byteOffset, encoding, true)\n}\n\nBuffer.prototype.lastIndexOf = function lastIndexOf (val, byteOffset, encoding) {\n  return bidirectionalIndexOf(this, val, byteOffset, encoding, false)\n}\n\nfunction hexWrite (buf, string, offset, length) {\n  offset = Number(offset) || 0\n  var remaining = buf.length - offset\n  if (!length) {\n    length = remaining\n  } else {\n    length = Number(length)\n    if (length > remaining) {\n      length = remaining\n    }\n  }\n\n  // must be an even number of digits\n  var strLen = string.length\n  if (strLen % 2 !== 0) throw new TypeError('Invalid hex string')\n\n  if (length > strLen / 2) {\n    length = strLen / 2\n  }\n  for (var i = 0; i < length; ++i) {\n    var parsed = parseInt(string.substr(i * 2, 2), 16)\n    if (isNaN(parsed)) return i\n    buf[offset + i] = parsed\n  }\n  return i\n}\n\nfunction utf8Write (buf, string, offset, length) {\n  return blitBuffer(utf8ToBytes(string, buf.length - offset), buf, offset, length)\n}\n\nfunction asciiWrite (buf, string, offset, length) {\n  return blitBuffer(asciiToBytes(string), buf, offset, length)\n}\n\nfunction latin1Write (buf, string, offset, length) {\n  return asciiWrite(buf, string, offset, length)\n}\n\nfunction base64Write (buf, string, offset, length) {\n  return blitBuffer(base64ToBytes(string), buf, offset, length)\n}\n\nfunction ucs2Write (buf, string, offset, length) {\n  return blitBuffer(utf16leToBytes(string, buf.length - offset), buf, offset, length)\n}\n\nBuffer.prototype.write = function write (string, offset, length, encoding) {\n  // Buffer#write(string)\n  if (offset === undefined) {\n    encoding = 'utf8'\n    length = this.length\n    offset = 0\n  // Buffer#write(string, encoding)\n  } else if (length === undefined && typeof offset === 'string') {\n    encoding = offset\n    length = this.length\n    offset = 0\n  // Buffer#write(string, offset[, length][, encoding])\n  } else if (isFinite(offset)) {\n    offset = offset | 0\n    if (isFinite(length)) {\n      length = length | 0\n      if (encoding === undefined) encoding = 'utf8'\n    } else {\n      encoding = length\n      length = undefined\n    }\n  // legacy write(string, encoding, offset, length) - remove in v0.13\n  } else {\n    throw new Error(\n      'Buffer.write(string, encoding, offset[, length]) is no longer supported'\n    )\n  }\n\n  var remaining = this.length - offset\n  if (length === undefined || length > remaining) length = remaining\n\n  if ((string.length > 0 && (length < 0 || offset < 0)) || offset > this.length) {\n    throw new RangeError('Attempt to write outside buffer bounds')\n  }\n\n  if (!encoding) encoding = 'utf8'\n\n  var loweredCase = false\n  for (;;) {\n    switch (encoding) {\n      case 'hex':\n        return hexWrite(this, string, offset, length)\n\n      case 'utf8':\n      case 'utf-8':\n        return utf8Write(this, string, offset, length)\n\n      case 'ascii':\n        return asciiWrite(this, string, offset, length)\n\n      case 'latin1':\n      case 'binary':\n        return latin1Write(this, string, offset, length)\n\n      case 'base64':\n        // Warning: maxLength not taken into account in base64Write\n        return base64Write(this, string, offset, length)\n\n      case 'ucs2':\n      case 'ucs-2':\n      case 'utf16le':\n      case 'utf-16le':\n        return ucs2Write(this, string, offset, length)\n\n      default:\n        if (loweredCase) throw new TypeError('Unknown encoding: ' + encoding)\n        encoding = ('' + encoding).toLowerCase()\n        loweredCase = true\n    }\n  }\n}\n\nBuffer.prototype.toJSON = function toJSON () {\n  return {\n    type: 'Buffer',\n    data: Array.prototype.slice.call(this._arr || this, 0)\n  }\n}\n\nfunction base64Slice (buf, start, end) {\n  if (start === 0 && end === buf.length) {\n    return base64.fromByteArray(buf)\n  } else {\n    return base64.fromByteArray(buf.slice(start, end))\n  }\n}\n\nfunction utf8Slice (buf, start, end) {\n  end = Math.min(buf.length, end)\n  var res = []\n\n  var i = start\n  while (i < end) {\n    var firstByte = buf[i]\n    var codePoint = null\n    var bytesPerSequence = (firstByte > 0xEF) ? 4\n      : (firstByte > 0xDF) ? 3\n      : (firstByte > 0xBF) ? 2\n      : 1\n\n    if (i + bytesPerSequence <= end) {\n      var secondByte, thirdByte, fourthByte, tempCodePoint\n\n      switch (bytesPerSequence) {\n        case 1:\n          if (firstByte < 0x80) {\n            codePoint = firstByte\n          }\n          break\n        case 2:\n          secondByte = buf[i + 1]\n          if ((secondByte & 0xC0) === 0x80) {\n            tempCodePoint = (firstByte & 0x1F) << 0x6 | (secondByte & 0x3F)\n            if (tempCodePoint > 0x7F) {\n              codePoint = tempCodePoint\n            }\n          }\n          break\n        case 3:\n          secondByte = buf[i + 1]\n          thirdByte = buf[i + 2]\n          if ((secondByte & 0xC0) === 0x80 && (thirdByte & 0xC0) === 0x80) {\n            tempCodePoint = (firstByte & 0xF) << 0xC | (secondByte & 0x3F) << 0x6 | (thirdByte & 0x3F)\n            if (tempCodePoint > 0x7FF && (tempCodePoint < 0xD800 || tempCodePoint > 0xDFFF)) {\n              codePoint = tempCodePoint\n            }\n          }\n          break\n        case 4:\n          secondByte = buf[i + 1]\n          thirdByte = buf[i + 2]\n          fourthByte = buf[i + 3]\n          if ((secondByte & 0xC0) === 0x80 && (thirdByte & 0xC0) === 0x80 && (fourthByte & 0xC0) === 0x80) {\n            tempCodePoint = (firstByte & 0xF) << 0x12 | (secondByte & 0x3F) << 0xC | (thirdByte & 0x3F) << 0x6 | (fourthByte & 0x3F)\n            if (tempCodePoint > 0xFFFF && tempCodePoint < 0x110000) {\n              codePoint = tempCodePoint\n            }\n          }\n      }\n    }\n\n    if (codePoint === null) {\n      // we did not generate a valid codePoint so insert a\n      // replacement char (U+FFFD) and advance only 1 byte\n      codePoint = 0xFFFD\n      bytesPerSequence = 1\n    } else if (codePoint > 0xFFFF) {\n      // encode to utf16 (surrogate pair dance)\n      codePoint -= 0x10000\n      res.push(codePoint >>> 10 & 0x3FF | 0xD800)\n      codePoint = 0xDC00 | codePoint & 0x3FF\n    }\n\n    res.push(codePoint)\n    i += bytesPerSequence\n  }\n\n  return decodeCodePointsArray(res)\n}\n\n// Based on http://stackoverflow.com/a/22747272/680742, the browser with\n// the lowest limit is Chrome, with 0x10000 args.\n// We go 1 magnitude less, for safety\nvar MAX_ARGUMENTS_LENGTH = 0x1000\n\nfunction decodeCodePointsArray (codePoints) {\n  var len = codePoints.length\n  if (len <= MAX_ARGUMENTS_LENGTH) {\n    return String.fromCharCode.apply(String, codePoints) // avoid extra slice()\n  }\n\n  // Decode in chunks to avoid \"call stack size exceeded\".\n  var res = ''\n  var i = 0\n  while (i < len) {\n    res += String.fromCharCode.apply(\n      String,\n      codePoints.slice(i, i += MAX_ARGUMENTS_LENGTH)\n    )\n  }\n  return res\n}\n\nfunction asciiSlice (buf, start, end) {\n  var ret = ''\n  end = Math.min(buf.length, end)\n\n  for (var i = start; i < end; ++i) {\n    ret += String.fromCharCode(buf[i] & 0x7F)\n  }\n  return ret\n}\n\nfunction latin1Slice (buf, start, end) {\n  var ret = ''\n  end = Math.min(buf.length, end)\n\n  for (var i = start; i < end; ++i) {\n    ret += String.fromCharCode(buf[i])\n  }\n  return ret\n}\n\nfunction hexSlice (buf, start, end) {\n  var len = buf.length\n\n  if (!start || start < 0) start = 0\n  if (!end || end < 0 || end > len) end = len\n\n  var out = ''\n  for (var i = start; i < end; ++i) {\n    out += toHex(buf[i])\n  }\n  return out\n}\n\nfunction utf16leSlice (buf, start, end) {\n  var bytes = buf.slice(start, end)\n  var res = ''\n  for (var i = 0; i < bytes.length; i += 2) {\n    res += String.fromCharCode(bytes[i] + bytes[i + 1] * 256)\n  }\n  return res\n}\n\nBuffer.prototype.slice = function slice (start, end) {\n  var len = this.length\n  start = ~~start\n  end = end === undefined ? len : ~~end\n\n  if (start < 0) {\n    start += len\n    if (start < 0) start = 0\n  } else if (start > len) {\n    start = len\n  }\n\n  if (end < 0) {\n    end += len\n    if (end < 0) end = 0\n  } else if (end > len) {\n    end = len\n  }\n\n  if (end < start) end = start\n\n  var newBuf\n  if (Buffer.TYPED_ARRAY_SUPPORT) {\n    newBuf = this.subarray(start, end)\n    newBuf.__proto__ = Buffer.prototype\n  } else {\n    var sliceLen = end - start\n    newBuf = new Buffer(sliceLen, undefined)\n    for (var i = 0; i < sliceLen; ++i) {\n      newBuf[i] = this[i + start]\n    }\n  }\n\n  return newBuf\n}\n\n/*\n * Need to make sure that buffer isn't trying to write out of bounds.\n */\nfunction checkOffset (offset, ext, length) {\n  if ((offset % 1) !== 0 || offset < 0) throw new RangeError('offset is not uint')\n  if (offset + ext > length) throw new RangeError('Trying to access beyond buffer length')\n}\n\nBuffer.prototype.readUIntLE = function readUIntLE (offset, byteLength, noAssert) {\n  offset = offset | 0\n  byteLength = byteLength | 0\n  if (!noAssert) checkOffset(offset, byteLength, this.length)\n\n  var val = this[offset]\n  var mul = 1\n  var i = 0\n  while (++i < byteLength && (mul *= 0x100)) {\n    val += this[offset + i] * mul\n  }\n\n  return val\n}\n\nBuffer.prototype.readUIntBE = function readUIntBE (offset, byteLength, noAssert) {\n  offset = offset | 0\n  byteLength = byteLength | 0\n  if (!noAssert) {\n    checkOffset(offset, byteLength, this.length)\n  }\n\n  var val = this[offset + --byteLength]\n  var mul = 1\n  while (byteLength > 0 && (mul *= 0x100)) {\n    val += this[offset + --byteLength] * mul\n  }\n\n  return val\n}\n\nBuffer.prototype.readUInt8 = function readUInt8 (offset, noAssert) {\n  if (!noAssert) checkOffset(offset, 1, this.length)\n  return this[offset]\n}\n\nBuffer.prototype.readUInt16LE = function readUInt16LE (offset, noAssert) {\n  if (!noAssert) checkOffset(offset, 2, this.length)\n  return this[offset] | (this[offset + 1] << 8)\n}\n\nBuffer.prototype.readUInt16BE = function readUInt16BE (offset, noAssert) {\n  if (!noAssert) checkOffset(offset, 2, this.length)\n  return (this[offset] << 8) | this[offset + 1]\n}\n\nBuffer.prototype.readUInt32LE = function readUInt32LE (offset, noAssert) {\n  if (!noAssert) checkOffset(offset, 4, this.length)\n\n  return ((this[offset]) |\n      (this[offset + 1] << 8) |\n      (this[offset + 2] << 16)) +\n      (this[offset + 3] * 0x1000000)\n}\n\nBuffer.prototype.readUInt32BE = function readUInt32BE (offset, noAssert) {\n  if (!noAssert) checkOffset(offset, 4, this.length)\n\n  return (this[offset] * 0x1000000) +\n    ((this[offset + 1] << 16) |\n    (this[offset + 2] << 8) |\n    this[offset + 3])\n}\n\nBuffer.prototype.readIntLE = function readIntLE (offset, byteLength, noAssert) {\n  offset = offset | 0\n  byteLength = byteLength | 0\n  if (!noAssert) checkOffset(offset, byteLength, this.length)\n\n  var val = this[offset]\n  var mul = 1\n  var i = 0\n  while (++i < byteLength && (mul *= 0x100)) {\n    val += this[offset + i] * mul\n  }\n  mul *= 0x80\n\n  if (val >= mul) val -= Math.pow(2, 8 * byteLength)\n\n  return val\n}\n\nBuffer.prototype.readIntBE = function readIntBE (offset, byteLength, noAssert) {\n  offset = offset | 0\n  byteLength = byteLength | 0\n  if (!noAssert) checkOffset(offset, byteLength, this.length)\n\n  var i = byteLength\n  var mul = 1\n  var val = this[offset + --i]\n  while (i > 0 && (mul *= 0x100)) {\n    val += this[offset + --i] * mul\n  }\n  mul *= 0x80\n\n  if (val >= mul) val -= Math.pow(2, 8 * byteLength)\n\n  return val\n}\n\nBuffer.prototype.readInt8 = function readInt8 (offset, noAssert) {\n  if (!noAssert) checkOffset(offset, 1, this.length)\n  if (!(this[offset] & 0x80)) return (this[offset])\n  return ((0xff - this[offset] + 1) * -1)\n}\n\nBuffer.prototype.readInt16LE = function readInt16LE (offset, noAssert) {\n  if (!noAssert) checkOffset(offset, 2, this.length)\n  var val = this[offset] | (this[offset + 1] << 8)\n  return (val & 0x8000) ? val | 0xFFFF0000 : val\n}\n\nBuffer.prototype.readInt16BE = function readInt16BE (offset, noAssert) {\n  if (!noAssert) checkOffset(offset, 2, this.length)\n  var val = this[offset + 1] | (this[offset] << 8)\n  return (val & 0x8000) ? val | 0xFFFF0000 : val\n}\n\nBuffer.prototype.readInt32LE = function readInt32LE (offset, noAssert) {\n  if (!noAssert) checkOffset(offset, 4, this.length)\n\n  return (this[offset]) |\n    (this[offset + 1] << 8) |\n    (this[offset + 2] << 16) |\n    (this[offset + 3] << 24)\n}\n\nBuffer.prototype.readInt32BE = function readInt32BE (offset, noAssert) {\n  if (!noAssert) checkOffset(offset, 4, this.length)\n\n  return (this[offset] << 24) |\n    (this[offset + 1] << 16) |\n    (this[offset + 2] << 8) |\n    (this[offset + 3])\n}\n\nBuffer.prototype.readFloatLE = function readFloatLE (offset, noAssert) {\n  if (!noAssert) checkOffset(offset, 4, this.length)\n  return ieee754.read(this, offset, true, 23, 4)\n}\n\nBuffer.prototype.readFloatBE = function readFloatBE (offset, noAssert) {\n  if (!noAssert) checkOffset(offset, 4, this.length)\n  return ieee754.read(this, offset, false, 23, 4)\n}\n\nBuffer.prototype.readDoubleLE = function readDoubleLE (offset, noAssert) {\n  if (!noAssert) checkOffset(offset, 8, this.length)\n  return ieee754.read(this, offset, true, 52, 8)\n}\n\nBuffer.prototype.readDoubleBE = function readDoubleBE (offset, noAssert) {\n  if (!noAssert) checkOffset(offset, 8, this.length)\n  return ieee754.read(this, offset, false, 52, 8)\n}\n\nfunction checkInt (buf, value, offset, ext, max, min) {\n  if (!Buffer.isBuffer(buf)) throw new TypeError('\"buffer\" argument must be a Buffer instance')\n  if (value > max || value < min) throw new RangeError('\"value\" argument is out of bounds')\n  if (offset + ext > buf.length) throw new RangeError('Index out of range')\n}\n\nBuffer.prototype.writeUIntLE = function writeUIntLE (value, offset, byteLength, noAssert) {\n  value = +value\n  offset = offset | 0\n  byteLength = byteLength | 0\n  if (!noAssert) {\n    var maxBytes = Math.pow(2, 8 * byteLength) - 1\n    checkInt(this, value, offset, byteLength, maxBytes, 0)\n  }\n\n  var mul = 1\n  var i = 0\n  this[offset] = value & 0xFF\n  while (++i < byteLength && (mul *= 0x100)) {\n    this[offset + i] = (value / mul) & 0xFF\n  }\n\n  return offset + byteLength\n}\n\nBuffer.prototype.writeUIntBE = function writeUIntBE (value, offset, byteLength, noAssert) {\n  value = +value\n  offset = offset | 0\n  byteLength = byteLength | 0\n  if (!noAssert) {\n    var maxBytes = Math.pow(2, 8 * byteLength) - 1\n    checkInt(this, value, offset, byteLength, maxBytes, 0)\n  }\n\n  var i = byteLength - 1\n  var mul = 1\n  this[offset + i] = value & 0xFF\n  while (--i >= 0 && (mul *= 0x100)) {\n    this[offset + i] = (value / mul) & 0xFF\n  }\n\n  return offset + byteLength\n}\n\nBuffer.prototype.writeUInt8 = function writeUInt8 (value, offset, noAssert) {\n  value = +value\n  offset = offset | 0\n  if (!noAssert) checkInt(this, value, offset, 1, 0xff, 0)\n  if (!Buffer.TYPED_ARRAY_SUPPORT) value = Math.floor(value)\n  this[offset] = (value & 0xff)\n  return offset + 1\n}\n\nfunction objectWriteUInt16 (buf, value, offset, littleEndian) {\n  if (value < 0) value = 0xffff + value + 1\n  for (var i = 0, j = Math.min(buf.length - offset, 2); i < j; ++i) {\n    buf[offset + i] = (value & (0xff << (8 * (littleEndian ? i : 1 - i)))) >>>\n      (littleEndian ? i : 1 - i) * 8\n  }\n}\n\nBuffer.prototype.writeUInt16LE = function writeUInt16LE (value, offset, noAssert) {\n  value = +value\n  offset = offset | 0\n  if (!noAssert) checkInt(this, value, offset, 2, 0xffff, 0)\n  if (Buffer.TYPED_ARRAY_SUPPORT) {\n    this[offset] = (value & 0xff)\n    this[offset + 1] = (value >>> 8)\n  } else {\n    objectWriteUInt16(this, value, offset, true)\n  }\n  return offset + 2\n}\n\nBuffer.prototype.writeUInt16BE = function writeUInt16BE (value, offset, noAssert) {\n  value = +value\n  offset = offset | 0\n  if (!noAssert) checkInt(this, value, offset, 2, 0xffff, 0)\n  if (Buffer.TYPED_ARRAY_SUPPORT) {\n    this[offset] = (value >>> 8)\n    this[offset + 1] = (value & 0xff)\n  } else {\n    objectWriteUInt16(this, value, offset, false)\n  }\n  return offset + 2\n}\n\nfunction objectWriteUInt32 (buf, value, offset, littleEndian) {\n  if (value < 0) value = 0xffffffff + value + 1\n  for (var i = 0, j = Math.min(buf.length - offset, 4); i < j; ++i) {\n    buf[offset + i] = (value >>> (littleEndian ? i : 3 - i) * 8) & 0xff\n  }\n}\n\nBuffer.prototype.writeUInt32LE = function writeUInt32LE (value, offset, noAssert) {\n  value = +value\n  offset = offset | 0\n  if (!noAssert) checkInt(this, value, offset, 4, 0xffffffff, 0)\n  if (Buffer.TYPED_ARRAY_SUPPORT) {\n    this[offset + 3] = (value >>> 24)\n    this[offset + 2] = (value >>> 16)\n    this[offset + 1] = (value >>> 8)\n    this[offset] = (value & 0xff)\n  } else {\n    objectWriteUInt32(this, value, offset, true)\n  }\n  return offset + 4\n}\n\nBuffer.prototype.writeUInt32BE = function writeUInt32BE (value, offset, noAssert) {\n  value = +value\n  offset = offset | 0\n  if (!noAssert) checkInt(this, value, offset, 4, 0xffffffff, 0)\n  if (Buffer.TYPED_ARRAY_SUPPORT) {\n    this[offset] = (value >>> 24)\n    this[offset + 1] = (value >>> 16)\n    this[offset + 2] = (value >>> 8)\n    this[offset + 3] = (value & 0xff)\n  } else {\n    objectWriteUInt32(this, value, offset, false)\n  }\n  return offset + 4\n}\n\nBuffer.prototype.writeIntLE = function writeIntLE (value, offset, byteLength, noAssert) {\n  value = +value\n  offset = offset | 0\n  if (!noAssert) {\n    var limit = Math.pow(2, 8 * byteLength - 1)\n\n    checkInt(this, value, offset, byteLength, limit - 1, -limit)\n  }\n\n  var i = 0\n  var mul = 1\n  var sub = 0\n  this[offset] = value & 0xFF\n  while (++i < byteLength && (mul *= 0x100)) {\n    if (value < 0 && sub === 0 && this[offset + i - 1] !== 0) {\n      sub = 1\n    }\n    this[offset + i] = ((value / mul) >> 0) - sub & 0xFF\n  }\n\n  return offset + byteLength\n}\n\nBuffer.prototype.writeIntBE = function writeIntBE (value, offset, byteLength, noAssert) {\n  value = +value\n  offset = offset | 0\n  if (!noAssert) {\n    var limit = Math.pow(2, 8 * byteLength - 1)\n\n    checkInt(this, value, offset, byteLength, limit - 1, -limit)\n  }\n\n  var i = byteLength - 1\n  var mul = 1\n  var sub = 0\n  this[offset + i] = value & 0xFF\n  while (--i >= 0 && (mul *= 0x100)) {\n    if (value < 0 && sub === 0 && this[offset + i + 1] !== 0) {\n      sub = 1\n    }\n    this[offset + i] = ((value / mul) >> 0) - sub & 0xFF\n  }\n\n  return offset + byteLength\n}\n\nBuffer.prototype.writeInt8 = function writeInt8 (value, offset, noAssert) {\n  value = +value\n  offset = offset | 0\n  if (!noAssert) checkInt(this, value, offset, 1, 0x7f, -0x80)\n  if (!Buffer.TYPED_ARRAY_SUPPORT) value = Math.floor(value)\n  if (value < 0) value = 0xff + value + 1\n  this[offset] = (value & 0xff)\n  return offset + 1\n}\n\nBuffer.prototype.writeInt16LE = function writeInt16LE (value, offset, noAssert) {\n  value = +value\n  offset = offset | 0\n  if (!noAssert) checkInt(this, value, offset, 2, 0x7fff, -0x8000)\n  if (Buffer.TYPED_ARRAY_SUPPORT) {\n    this[offset] = (value & 0xff)\n    this[offset + 1] = (value >>> 8)\n  } else {\n    objectWriteUInt16(this, value, offset, true)\n  }\n  return offset + 2\n}\n\nBuffer.prototype.writeInt16BE = function writeInt16BE (value, offset, noAssert) {\n  value = +value\n  offset = offset | 0\n  if (!noAssert) checkInt(this, value, offset, 2, 0x7fff, -0x8000)\n  if (Buffer.TYPED_ARRAY_SUPPORT) {\n    this[offset] = (value >>> 8)\n    this[offset + 1] = (value & 0xff)\n  } else {\n    objectWriteUInt16(this, value, offset, false)\n  }\n  return offset + 2\n}\n\nBuffer.prototype.writeInt32LE = function writeInt32LE (value, offset, noAssert) {\n  value = +value\n  offset = offset | 0\n  if (!noAssert) checkInt(this, value, offset, 4, 0x7fffffff, -0x80000000)\n  if (Buffer.TYPED_ARRAY_SUPPORT) {\n    this[offset] = (value & 0xff)\n    this[offset + 1] = (value >>> 8)\n    this[offset + 2] = (value >>> 16)\n    this[offset + 3] = (value >>> 24)\n  } else {\n    objectWriteUInt32(this, value, offset, true)\n  }\n  return offset + 4\n}\n\nBuffer.prototype.writeInt32BE = function writeInt32BE (value, offset, noAssert) {\n  value = +value\n  offset = offset | 0\n  if (!noAssert) checkInt(this, value, offset, 4, 0x7fffffff, -0x80000000)\n  if (value < 0) value = 0xffffffff + value + 1\n  if (Buffer.TYPED_ARRAY_SUPPORT) {\n    this[offset] = (value >>> 24)\n    this[offset + 1] = (value >>> 16)\n    this[offset + 2] = (value >>> 8)\n    this[offset + 3] = (value & 0xff)\n  } else {\n    objectWriteUInt32(this, value, offset, false)\n  }\n  return offset + 4\n}\n\nfunction checkIEEE754 (buf, value, offset, ext, max, min) {\n  if (offset + ext > buf.length) throw new RangeError('Index out of range')\n  if (offset < 0) throw new RangeError('Index out of range')\n}\n\nfunction writeFloat (buf, value, offset, littleEndian, noAssert) {\n  if (!noAssert) {\n    checkIEEE754(buf, value, offset, 4, 3.4028234663852886e+38, -3.4028234663852886e+38)\n  }\n  ieee754.write(buf, value, offset, littleEndian, 23, 4)\n  return offset + 4\n}\n\nBuffer.prototype.writeFloatLE = function writeFloatLE (value, offset, noAssert) {\n  return writeFloat(this, value, offset, true, noAssert)\n}\n\nBuffer.prototype.writeFloatBE = function writeFloatBE (value, offset, noAssert) {\n  return writeFloat(this, value, offset, false, noAssert)\n}\n\nfunction writeDouble (buf, value, offset, littleEndian, noAssert) {\n  if (!noAssert) {\n    checkIEEE754(buf, value, offset, 8, 1.7976931348623157E+308, -1.7976931348623157E+308)\n  }\n  ieee754.write(buf, value, offset, littleEndian, 52, 8)\n  return offset + 8\n}\n\nBuffer.prototype.writeDoubleLE = function writeDoubleLE (value, offset, noAssert) {\n  return writeDouble(this, value, offset, true, noAssert)\n}\n\nBuffer.prototype.writeDoubleBE = function writeDoubleBE (value, offset, noAssert) {\n  return writeDouble(this, value, offset, false, noAssert)\n}\n\n// copy(targetBuffer, targetStart=0, sourceStart=0, sourceEnd=buffer.length)\nBuffer.prototype.copy = function copy (target, targetStart, start, end) {\n  if (!start) start = 0\n  if (!end && end !== 0) end = this.length\n  if (targetStart >= target.length) targetStart = target.length\n  if (!targetStart) targetStart = 0\n  if (end > 0 && end < start) end = start\n\n  // Copy 0 bytes; we're done\n  if (end === start) return 0\n  if (target.length === 0 || this.length === 0) return 0\n\n  // Fatal error conditions\n  if (targetStart < 0) {\n    throw new RangeError('targetStart out of bounds')\n  }\n  if (start < 0 || start >= this.length) throw new RangeError('sourceStart out of bounds')\n  if (end < 0) throw new RangeError('sourceEnd out of bounds')\n\n  // Are we oob?\n  if (end > this.length) end = this.length\n  if (target.length - targetStart < end - start) {\n    end = target.length - targetStart + start\n  }\n\n  var len = end - start\n  var i\n\n  if (this === target && start < targetStart && targetStart < end) {\n    // descending copy from end\n    for (i = len - 1; i >= 0; --i) {\n      target[i + targetStart] = this[i + start]\n    }\n  } else if (len < 1000 || !Buffer.TYPED_ARRAY_SUPPORT) {\n    // ascending copy from start\n    for (i = 0; i < len; ++i) {\n      target[i + targetStart] = this[i + start]\n    }\n  } else {\n    Uint8Array.prototype.set.call(\n      target,\n      this.subarray(start, start + len),\n      targetStart\n    )\n  }\n\n  return len\n}\n\n// Usage:\n//    buffer.fill(number[, offset[, end]])\n//    buffer.fill(buffer[, offset[, end]])\n//    buffer.fill(string[, offset[, end]][, encoding])\nBuffer.prototype.fill = function fill (val, start, end, encoding) {\n  // Handle string cases:\n  if (typeof val === 'string') {\n    if (typeof start === 'string') {\n      encoding = start\n      start = 0\n      end = this.length\n    } else if (typeof end === 'string') {\n      encoding = end\n      end = this.length\n    }\n    if (val.length === 1) {\n      var code = val.charCodeAt(0)\n      if (code < 256) {\n        val = code\n      }\n    }\n    if (encoding !== undefined && typeof encoding !== 'string') {\n      throw new TypeError('encoding must be a string')\n    }\n    if (typeof encoding === 'string' && !Buffer.isEncoding(encoding)) {\n      throw new TypeError('Unknown encoding: ' + encoding)\n    }\n  } else if (typeof val === 'number') {\n    val = val & 255\n  }\n\n  // Invalid ranges are not set to a default, so can range check early.\n  if (start < 0 || this.length < start || this.length < end) {\n    throw new RangeError('Out of range index')\n  }\n\n  if (end <= start) {\n    return this\n  }\n\n  start = start >>> 0\n  end = end === undefined ? this.length : end >>> 0\n\n  if (!val) val = 0\n\n  var i\n  if (typeof val === 'number') {\n    for (i = start; i < end; ++i) {\n      this[i] = val\n    }\n  } else {\n    var bytes = Buffer.isBuffer(val)\n      ? val\n      : utf8ToBytes(new Buffer(val, encoding).toString())\n    var len = bytes.length\n    for (i = 0; i < end - start; ++i) {\n      this[i + start] = bytes[i % len]\n    }\n  }\n\n  return this\n}\n\n// HELPER FUNCTIONS\n// ================\n\nvar INVALID_BASE64_RE = /[^+\\/0-9A-Za-z-_]/g\n\nfunction base64clean (str) {\n  // Node strips out invalid characters like \\n and \\t from the string, base64-js does not\n  str = stringtrim(str).replace(INVALID_BASE64_RE, '')\n  // Node converts strings with length < 2 to ''\n  if (str.length < 2) return ''\n  // Node allows for non-padded base64 strings (missing trailing ===), base64-js does not\n  while (str.length % 4 !== 0) {\n    str = str + '='\n  }\n  return str\n}\n\nfunction stringtrim (str) {\n  if (str.trim) return str.trim()\n  return str.replace(/^\\s+|\\s+$/g, '')\n}\n\nfunction toHex (n) {\n  if (n < 16) return '0' + n.toString(16)\n  return n.toString(16)\n}\n\nfunction utf8ToBytes (string, units) {\n  units = units || Infinity\n  var codePoint\n  var length = string.length\n  var leadSurrogate = null\n  var bytes = []\n\n  for (var i = 0; i < length; ++i) {\n    codePoint = string.charCodeAt(i)\n\n    // is surrogate component\n    if (codePoint > 0xD7FF && codePoint < 0xE000) {\n      // last char was a lead\n      if (!leadSurrogate) {\n        // no lead yet\n        if (codePoint > 0xDBFF) {\n          // unexpected trail\n          if ((units -= 3) > -1) bytes.push(0xEF, 0xBF, 0xBD)\n          continue\n        } else if (i + 1 === length) {\n          // unpaired lead\n          if ((units -= 3) > -1) bytes.push(0xEF, 0xBF, 0xBD)\n          continue\n        }\n\n        // valid lead\n        leadSurrogate = codePoint\n\n        continue\n      }\n\n      // 2 leads in a row\n      if (codePoint < 0xDC00) {\n        if ((units -= 3) > -1) bytes.push(0xEF, 0xBF, 0xBD)\n        leadSurrogate = codePoint\n        continue\n      }\n\n      // valid surrogate pair\n      codePoint = (leadSurrogate - 0xD800 << 10 | codePoint - 0xDC00) + 0x10000\n    } else if (leadSurrogate) {\n      // valid bmp char, but last char was a lead\n      if ((units -= 3) > -1) bytes.push(0xEF, 0xBF, 0xBD)\n    }\n\n    leadSurrogate = null\n\n    // encode utf8\n    if (codePoint < 0x80) {\n      if ((units -= 1) < 0) break\n      bytes.push(codePoint)\n    } else if (codePoint < 0x800) {\n      if ((units -= 2) < 0) break\n      bytes.push(\n        codePoint >> 0x6 | 0xC0,\n        codePoint & 0x3F | 0x80\n      )\n    } else if (codePoint < 0x10000) {\n      if ((units -= 3) < 0) break\n      bytes.push(\n        codePoint >> 0xC | 0xE0,\n        codePoint >> 0x6 & 0x3F | 0x80,\n        codePoint & 0x3F | 0x80\n      )\n    } else if (codePoint < 0x110000) {\n      if ((units -= 4) < 0) break\n      bytes.push(\n        codePoint >> 0x12 | 0xF0,\n        codePoint >> 0xC & 0x3F | 0x80,\n        codePoint >> 0x6 & 0x3F | 0x80,\n        codePoint & 0x3F | 0x80\n      )\n    } else {\n      throw new Error('Invalid code point')\n    }\n  }\n\n  return bytes\n}\n\nfunction asciiToBytes (str) {\n  var byteArray = []\n  for (var i = 0; i < str.length; ++i) {\n    // Node's code seems to be doing this and not & 0x7F..\n    byteArray.push(str.charCodeAt(i) & 0xFF)\n  }\n  return byteArray\n}\n\nfunction utf16leToBytes (str, units) {\n  var c, hi, lo\n  var byteArray = []\n  for (var i = 0; i < str.length; ++i) {\n    if ((units -= 2) < 0) break\n\n    c = str.charCodeAt(i)\n    hi = c >> 8\n    lo = c % 256\n    byteArray.push(lo)\n    byteArray.push(hi)\n  }\n\n  return byteArray\n}\n\nfunction base64ToBytes (str) {\n  return base64.toByteArray(base64clean(str))\n}\n\nfunction blitBuffer (src, dst, offset, length) {\n  for (var i = 0; i < length; ++i) {\n    if ((i + offset >= dst.length) || (i >= src.length)) break\n    dst[i + offset] = src[i]\n  }\n  return i\n}\n\nfunction isnan (val) {\n  return val !== val // eslint-disable-line no-self-compare\n}\n","\"use strict\";\r\nvar util = exports;\r\n\r\n// used to return a Promise where callback is omitted\r\nutil.asPromise = require(\"@protobufjs/aspromise\");\r\n\r\n// converts to / from base64 encoded strings\r\nutil.base64 = require(\"@protobufjs/base64\");\r\n\r\n// base class of rpc.Service\r\nutil.EventEmitter = require(\"@protobufjs/eventemitter\");\r\n\r\n// float handling accross browsers\r\nutil.float = require(\"@protobufjs/float\");\r\n\r\n// requires modules optionally and hides the call from bundlers\r\nutil.inquire = require(\"@protobufjs/inquire\");\r\n\r\n// converts to / from utf8 encoded strings\r\nutil.utf8 = require(\"@protobufjs/utf8\");\r\n\r\n// provides a node-like buffer pool in the browser\r\nutil.pool = require(\"@protobufjs/pool\");\r\n\r\n// utility to work with the low and high bits of a 64 bit value\r\nutil.LongBits = require(\"./longbits\");\r\n\r\n/**\r\n * An immuable empty array.\r\n * @memberof util\r\n * @type {Array.<*>}\r\n * @const\r\n */\r\nutil.emptyArray = Object.freeze ? Object.freeze([]) : /* istanbul ignore next */ []; // used on prototypes\r\n\r\n/**\r\n * An immutable empty object.\r\n * @type {Object}\r\n * @const\r\n */\r\nutil.emptyObject = Object.freeze ? Object.freeze({}) : /* istanbul ignore next */ {}; // used on prototypes\r\n\r\n/**\r\n * Whether running within node or not.\r\n * @memberof util\r\n * @type {boolean}\r\n * @const\r\n */\r\nutil.isNode = Boolean(global.process && global.process.versions && global.process.versions.node);\r\n\r\n/**\r\n * Tests if the specified value is an integer.\r\n * @function\r\n * @param {*} value Value to test\r\n * @returns {boolean} `true` if the value is an integer\r\n */\r\nutil.isInteger = Number.isInteger || /* istanbul ignore next */ function isInteger(value) {\r\n    return typeof value === \"number\" && isFinite(value) && Math.floor(value) === value;\r\n};\r\n\r\n/**\r\n * Tests if the specified value is a string.\r\n * @param {*} value Value to test\r\n * @returns {boolean} `true` if the value is a string\r\n */\r\nutil.isString = function isString(value) {\r\n    return typeof value === \"string\" || value instanceof String;\r\n};\r\n\r\n/**\r\n * Tests if the specified value is a non-null object.\r\n * @param {*} value Value to test\r\n * @returns {boolean} `true` if the value is a non-null object\r\n */\r\nutil.isObject = function isObject(value) {\r\n    return value && typeof value === \"object\";\r\n};\r\n\r\n/**\r\n * Checks if a property on a message is considered to be present.\r\n * This is an alias of {@link util.isSet}.\r\n * @function\r\n * @param {Object} obj Plain object or message instance\r\n * @param {string} prop Property name\r\n * @returns {boolean} `true` if considered to be present, otherwise `false`\r\n */\r\nutil.isset =\r\n\r\n/**\r\n * Checks if a property on a message is considered to be present.\r\n * @param {Object} obj Plain object or message instance\r\n * @param {string} prop Property name\r\n * @returns {boolean} `true` if considered to be present, otherwise `false`\r\n */\r\nutil.isSet = function isSet(obj, prop) {\r\n    var value = obj[prop];\r\n    if (value != null && obj.hasOwnProperty(prop)) // eslint-disable-line eqeqeq, no-prototype-builtins\r\n        return typeof value !== \"object\" || (Array.isArray(value) ? value.length : Object.keys(value).length) > 0;\r\n    return false;\r\n};\r\n\r\n/**\r\n * Any compatible Buffer instance.\r\n * This is a minimal stand-alone definition of a Buffer instance. The actual type is that exported by node's typings.\r\n * @interface Buffer\r\n * @extends Uint8Array\r\n */\r\n\r\n/**\r\n * Node's Buffer class if available.\r\n * @type {Constructor<Buffer>}\r\n */\r\nutil.Buffer = (function() {\r\n    try {\r\n        var Buffer = util.inquire(\"buffer\").Buffer;\r\n        // refuse to use non-node buffers if not explicitly assigned (perf reasons):\r\n        return Buffer.prototype.utf8Write ? Buffer : /* istanbul ignore next */ null;\r\n    } catch (e) {\r\n        /* istanbul ignore next */\r\n        return null;\r\n    }\r\n})();\r\n\r\n// Internal alias of or polyfull for Buffer.from.\r\nutil._Buffer_from = null;\r\n\r\n// Internal alias of or polyfill for Buffer.allocUnsafe.\r\nutil._Buffer_allocUnsafe = null;\r\n\r\n/**\r\n * Creates a new buffer of whatever type supported by the environment.\r\n * @param {number|number[]} [sizeOrArray=0] Buffer size or number array\r\n * @returns {Uint8Array|Buffer} Buffer\r\n */\r\nutil.newBuffer = function newBuffer(sizeOrArray) {\r\n    /* istanbul ignore next */\r\n    return typeof sizeOrArray === \"number\"\r\n        ? util.Buffer\r\n            ? util._Buffer_allocUnsafe(sizeOrArray)\r\n            : new util.Array(sizeOrArray)\r\n        : util.Buffer\r\n            ? util._Buffer_from(sizeOrArray)\r\n            : typeof Uint8Array === \"undefined\"\r\n                ? sizeOrArray\r\n                : new Uint8Array(sizeOrArray);\r\n};\r\n\r\n/**\r\n * Array implementation used in the browser. `Uint8Array` if supported, otherwise `Array`.\r\n * @type {Constructor<Uint8Array>}\r\n */\r\nutil.Array = typeof Uint8Array !== \"undefined\" ? Uint8Array /* istanbul ignore next */ : Array;\r\n\r\n/**\r\n * Any compatible Long instance.\r\n * This is a minimal stand-alone definition of a Long instance. The actual type is that exported by long.js.\r\n * @interface Long\r\n * @property {number} low Low bits\r\n * @property {number} high High bits\r\n * @property {boolean} unsigned Whether unsigned or not\r\n */\r\n\r\n/**\r\n * Long.js's Long class if available.\r\n * @type {Constructor<Long>}\r\n */\r\nutil.Long = /* istanbul ignore next */ global.dcodeIO && /* istanbul ignore next */ global.dcodeIO.Long || util.inquire(\"long\");\r\n\r\n/**\r\n * Regular expression used to verify 2 bit (`bool`) map keys.\r\n * @type {RegExp}\r\n * @const\r\n */\r\nutil.key2Re = /^true|false|0|1$/;\r\n\r\n/**\r\n * Regular expression used to verify 32 bit (`int32` etc.) map keys.\r\n * @type {RegExp}\r\n * @const\r\n */\r\nutil.key32Re = /^-?(?:0|[1-9][0-9]*)$/;\r\n\r\n/**\r\n * Regular expression used to verify 64 bit (`int64` etc.) map keys.\r\n * @type {RegExp}\r\n * @const\r\n */\r\nutil.key64Re = /^(?:[\\\\x00-\\\\xff]{8}|-?(?:0|[1-9][0-9]*))$/;\r\n\r\n/**\r\n * Converts a number or long to an 8 characters long hash string.\r\n * @param {Long|number} value Value to convert\r\n * @returns {string} Hash\r\n */\r\nutil.longToHash = function longToHash(value) {\r\n    return value\r\n        ? util.LongBits.from(value).toHash()\r\n        : util.LongBits.zeroHash;\r\n};\r\n\r\n/**\r\n * Converts an 8 characters long hash string to a long or number.\r\n * @param {string} hash Hash\r\n * @param {boolean} [unsigned=false] Whether unsigned or not\r\n * @returns {Long|number} Original value\r\n */\r\nutil.longFromHash = function longFromHash(hash, unsigned) {\r\n    var bits = util.LongBits.fromHash(hash);\r\n    if (util.Long)\r\n        return util.Long.fromBits(bits.lo, bits.hi, unsigned);\r\n    return bits.toNumber(Boolean(unsigned));\r\n};\r\n\r\n/**\r\n * Merges the properties of the source object into the destination object.\r\n * @memberof util\r\n * @param {Object.<string,*>} dst Destination object\r\n * @param {Object.<string,*>} src Source object\r\n * @param {boolean} [ifNotSet=false] Merges only if the key is not already set\r\n * @returns {Object.<string,*>} Destination object\r\n */\r\nfunction merge(dst, src, ifNotSet) { // used by converters\r\n    for (var keys = Object.keys(src), i = 0; i < keys.length; ++i)\r\n        if (dst[keys[i]] === undefined || !ifNotSet)\r\n            dst[keys[i]] = src[keys[i]];\r\n    return dst;\r\n}\r\n\r\nutil.merge = merge;\r\n\r\n/**\r\n * Converts the first character of a string to lower case.\r\n * @param {string} str String to convert\r\n * @returns {string} Converted string\r\n */\r\nutil.lcFirst = function lcFirst(str) {\r\n    return str.charAt(0).toLowerCase() + str.substring(1);\r\n};\r\n\r\n/**\r\n * Creates a custom error constructor.\r\n * @memberof util\r\n * @param {string} name Error name\r\n * @returns {Constructor<Error>} Custom error constructor\r\n */\r\nfunction newError(name) {\r\n\r\n    function CustomError(message, properties) {\r\n\r\n        if (!(this instanceof CustomError))\r\n            return new CustomError(message, properties);\r\n\r\n        // Error.call(this, message);\r\n        // ^ just returns a new error instance because the ctor can be called as a function\r\n\r\n        Object.defineProperty(this, \"message\", { get: function() { return message; } });\r\n\r\n        /* istanbul ignore next */\r\n        if (Error.captureStackTrace) // node\r\n            Error.captureStackTrace(this, CustomError);\r\n        else\r\n            Object.defineProperty(this, \"stack\", { value: (new Error()).stack || \"\" });\r\n\r\n        if (properties)\r\n            merge(this, properties);\r\n    }\r\n\r\n    (CustomError.prototype = Object.create(Error.prototype)).constructor = CustomError;\r\n\r\n    Object.defineProperty(CustomError.prototype, \"name\", { get: function() { return name; } });\r\n\r\n    CustomError.prototype.toString = function toString() {\r\n        return this.name + \": \" + this.message;\r\n    };\r\n\r\n    return CustomError;\r\n}\r\n\r\nutil.newError = newError;\r\n\r\n/**\r\n * Constructs a new protocol error.\r\n * @classdesc Error subclass indicating a protocol specifc error.\r\n * @memberof util\r\n * @extends Error\r\n * @template T extends Message<T>\r\n * @constructor\r\n * @param {string} message Error message\r\n * @param {Object.<string,*>} [properties] Additional properties\r\n * @example\r\n * try {\r\n *     MyMessage.decode(someBuffer); // throws if required fields are missing\r\n * } catch (e) {\r\n *     if (e instanceof ProtocolError && e.instance)\r\n *         console.log(\"decoded so far: \" + JSON.stringify(e.instance));\r\n * }\r\n */\r\nutil.ProtocolError = newError(\"ProtocolError\");\r\n\r\n/**\r\n * So far decoded message instance.\r\n * @name util.ProtocolError#instance\r\n * @type {Message<T>}\r\n */\r\n\r\n/**\r\n * A OneOf getter as returned by {@link util.oneOfGetter}.\r\n * @typedef OneOfGetter\r\n * @type {function}\r\n * @returns {string|undefined} Set field name, if any\r\n */\r\n\r\n/**\r\n * Builds a getter for a oneof's present field name.\r\n * @param {string[]} fieldNames Field names\r\n * @returns {OneOfGetter} Unbound getter\r\n */\r\nutil.oneOfGetter = function getOneOf(fieldNames) {\r\n    var fieldMap = {};\r\n    for (var i = 0; i < fieldNames.length; ++i)\r\n        fieldMap[fieldNames[i]] = 1;\r\n\r\n    /**\r\n     * @returns {string|undefined} Set field name, if any\r\n     * @this Object\r\n     * @ignore\r\n     */\r\n    return function() { // eslint-disable-line consistent-return\r\n        for (var keys = Object.keys(this), i = keys.length - 1; i > -1; --i)\r\n            if (fieldMap[keys[i]] === 1 && this[keys[i]] !== undefined && this[keys[i]] !== null)\r\n                return keys[i];\r\n    };\r\n};\r\n\r\n/**\r\n * A OneOf setter as returned by {@link util.oneOfSetter}.\r\n * @typedef OneOfSetter\r\n * @type {function}\r\n * @param {string|undefined} value Field name\r\n * @returns {undefined}\r\n */\r\n\r\n/**\r\n * Builds a setter for a oneof's present field name.\r\n * @param {string[]} fieldNames Field names\r\n * @returns {OneOfSetter} Unbound setter\r\n */\r\nutil.oneOfSetter = function setOneOf(fieldNames) {\r\n\r\n    /**\r\n     * @param {string} name Field name\r\n     * @returns {undefined}\r\n     * @this Object\r\n     * @ignore\r\n     */\r\n    return function(name) {\r\n        for (var i = 0; i < fieldNames.length; ++i)\r\n            if (fieldNames[i] !== name)\r\n                delete this[fieldNames[i]];\r\n    };\r\n};\r\n\r\n/**\r\n * Default conversion options used for {@link Message#toJSON} implementations.\r\n *\r\n * These options are close to proto3's JSON mapping with the exception that internal types like Any are handled just like messages. More precisely:\r\n *\r\n * - Longs become strings\r\n * - Enums become string keys\r\n * - Bytes become base64 encoded strings\r\n * - (Sub-)Messages become plain objects\r\n * - Maps become plain objects with all string keys\r\n * - Repeated fields become arrays\r\n * - NaN and Infinity for float and double fields become strings\r\n *\r\n * @type {IConversionOptions}\r\n * @see https://developers.google.com/protocol-buffers/docs/proto3?hl=en#json\r\n */\r\nutil.toJSONOptions = {\r\n    longs: String,\r\n    enums: String,\r\n    bytes: String,\r\n    json: true\r\n};\r\n\r\nutil._configure = function() {\r\n    var Buffer = util.Buffer;\r\n    /* istanbul ignore if */\r\n    if (!Buffer) {\r\n        util._Buffer_from = util._Buffer_allocUnsafe = null;\r\n        return;\r\n    }\r\n    // because node 4.x buffers are incompatible & immutable\r\n    // see: https://github.com/dcodeIO/protobuf.js/pull/665\r\n    util._Buffer_from = Buffer.from !== Uint8Array.from && Buffer.from ||\r\n        /* istanbul ignore next */\r\n        function Buffer_from(value, encoding) {\r\n            return new Buffer(value, encoding);\r\n        };\r\n    util._Buffer_allocUnsafe = Buffer.allocUnsafe ||\r\n        /* istanbul ignore next */\r\n        function Buffer_allocUnsafe(size) {\r\n            return new Buffer(size);\r\n        };\r\n};\r\n","\"use strict\";\r\nmodule.exports = Writer;\r\n\r\nvar util      = require(\"./util/minimal\");\r\n\r\nvar BufferWriter; // cyclic\r\n\r\nvar LongBits  = util.LongBits,\r\n    base64    = util.base64,\r\n    utf8      = util.utf8;\r\n\r\n/**\r\n * Constructs a new writer operation instance.\r\n * @classdesc Scheduled writer operation.\r\n * @constructor\r\n * @param {function(*, Uint8Array, number)} fn Function to call\r\n * @param {number} len Value byte length\r\n * @param {*} val Value to write\r\n * @ignore\r\n */\r\nfunction Op(fn, len, val) {\r\n\r\n    /**\r\n     * Function to call.\r\n     * @type {function(Uint8Array, number, *)}\r\n     */\r\n    this.fn = fn;\r\n\r\n    /**\r\n     * Value byte length.\r\n     * @type {number}\r\n     */\r\n    this.len = len;\r\n\r\n    /**\r\n     * Next operation.\r\n     * @type {Writer.Op|undefined}\r\n     */\r\n    this.next = undefined;\r\n\r\n    /**\r\n     * Value to write.\r\n     * @type {*}\r\n     */\r\n    this.val = val; // type varies\r\n}\r\n\r\n/* istanbul ignore next */\r\nfunction noop() {} // eslint-disable-line no-empty-function\r\n\r\n/**\r\n * Constructs a new writer state instance.\r\n * @classdesc Copied writer state.\r\n * @memberof Writer\r\n * @constructor\r\n * @param {Writer} writer Writer to copy state from\r\n * @ignore\r\n */\r\nfunction State(writer) {\r\n\r\n    /**\r\n     * Current head.\r\n     * @type {Writer.Op}\r\n     */\r\n    this.head = writer.head;\r\n\r\n    /**\r\n     * Current tail.\r\n     * @type {Writer.Op}\r\n     */\r\n    this.tail = writer.tail;\r\n\r\n    /**\r\n     * Current buffer length.\r\n     * @type {number}\r\n     */\r\n    this.len = writer.len;\r\n\r\n    /**\r\n     * Next state.\r\n     * @type {State|null}\r\n     */\r\n    this.next = writer.states;\r\n}\r\n\r\n/**\r\n * Constructs a new writer instance.\r\n * @classdesc Wire format writer using `Uint8Array` if available, otherwise `Array`.\r\n * @constructor\r\n */\r\nfunction Writer() {\r\n\r\n    /**\r\n     * Current length.\r\n     * @type {number}\r\n     */\r\n    this.len = 0;\r\n\r\n    /**\r\n     * Operations head.\r\n     * @type {Object}\r\n     */\r\n    this.head = new Op(noop, 0, 0);\r\n\r\n    /**\r\n     * Operations tail\r\n     * @type {Object}\r\n     */\r\n    this.tail = this.head;\r\n\r\n    /**\r\n     * Linked forked states.\r\n     * @type {Object|null}\r\n     */\r\n    this.states = null;\r\n\r\n    // When a value is written, the writer calculates its byte length and puts it into a linked\r\n    // list of operations to perform when finish() is called. This both allows us to allocate\r\n    // buffers of the exact required size and reduces the amount of work we have to do compared\r\n    // to first calculating over objects and then encoding over objects. In our case, the encoding\r\n    // part is just a linked list walk calling operations with already prepared values.\r\n}\r\n\r\n/**\r\n * Creates a new writer.\r\n * @function\r\n * @returns {BufferWriter|Writer} A {@link BufferWriter} when Buffers are supported, otherwise a {@link Writer}\r\n */\r\nWriter.create = util.Buffer\r\n    ? function create_buffer_setup() {\r\n        return (Writer.create = function create_buffer() {\r\n            return new BufferWriter();\r\n        })();\r\n    }\r\n    /* istanbul ignore next */\r\n    : function create_array() {\r\n        return new Writer();\r\n    };\r\n\r\n/**\r\n * Allocates a buffer of the specified size.\r\n * @param {number} size Buffer size\r\n * @returns {Uint8Array} Buffer\r\n */\r\nWriter.alloc = function alloc(size) {\r\n    return new util.Array(size);\r\n};\r\n\r\n// Use Uint8Array buffer pool in the browser, just like node does with buffers\r\n/* istanbul ignore else */\r\nif (util.Array !== Array)\r\n    Writer.alloc = util.pool(Writer.alloc, util.Array.prototype.subarray);\r\n\r\n/**\r\n * Pushes a new operation to the queue.\r\n * @param {function(Uint8Array, number, *)} fn Function to call\r\n * @param {number} len Value byte length\r\n * @param {number} val Value to write\r\n * @returns {Writer} `this`\r\n * @private\r\n */\r\nWriter.prototype._push = function push(fn, len, val) {\r\n    this.tail = this.tail.next = new Op(fn, len, val);\r\n    this.len += len;\r\n    return this;\r\n};\r\n\r\nfunction writeByte(val, buf, pos) {\r\n    buf[pos] = val & 255;\r\n}\r\n\r\nfunction writeVarint32(val, buf, pos) {\r\n    while (val > 127) {\r\n        buf[pos++] = val & 127 | 128;\r\n        val >>>= 7;\r\n    }\r\n    buf[pos] = val;\r\n}\r\n\r\n/**\r\n * Constructs a new varint writer operation instance.\r\n * @classdesc Scheduled varint writer operation.\r\n * @extends Op\r\n * @constructor\r\n * @param {number} len Value byte length\r\n * @param {number} val Value to write\r\n * @ignore\r\n */\r\nfunction VarintOp(len, val) {\r\n    this.len = len;\r\n    this.next = undefined;\r\n    this.val = val;\r\n}\r\n\r\nVarintOp.prototype = Object.create(Op.prototype);\r\nVarintOp.prototype.fn = writeVarint32;\r\n\r\n/**\r\n * Writes an unsigned 32 bit value as a varint.\r\n * @param {number} value Value to write\r\n * @returns {Writer} `this`\r\n */\r\nWriter.prototype.uint32 = function write_uint32(value) {\r\n    // here, the call to this.push has been inlined and a varint specific Op subclass is used.\r\n    // uint32 is by far the most frequently used operation and benefits significantly from this.\r\n    this.len += (this.tail = this.tail.next = new VarintOp(\r\n        (value = value >>> 0)\r\n                < 128       ? 1\r\n        : value < 16384     ? 2\r\n        : value < 2097152   ? 3\r\n        : value < 268435456 ? 4\r\n        :                     5,\r\n    value)).len;\r\n    return this;\r\n};\r\n\r\n/**\r\n * Writes a signed 32 bit value as a varint.\r\n * @function\r\n * @param {number} value Value to write\r\n * @returns {Writer} `this`\r\n */\r\nWriter.prototype.int32 = function write_int32(value) {\r\n    return value < 0\r\n        ? this._push(writeVarint64, 10, LongBits.fromNumber(value)) // 10 bytes per spec\r\n        : this.uint32(value);\r\n};\r\n\r\n/**\r\n * Writes a 32 bit value as a varint, zig-zag encoded.\r\n * @param {number} value Value to write\r\n * @returns {Writer} `this`\r\n */\r\nWriter.prototype.sint32 = function write_sint32(value) {\r\n    return this.uint32((value << 1 ^ value >> 31) >>> 0);\r\n};\r\n\r\nfunction writeVarint64(val, buf, pos) {\r\n    while (val.hi) {\r\n        buf[pos++] = val.lo & 127 | 128;\r\n        val.lo = (val.lo >>> 7 | val.hi << 25) >>> 0;\r\n        val.hi >>>= 7;\r\n    }\r\n    while (val.lo > 127) {\r\n        buf[pos++] = val.lo & 127 | 128;\r\n        val.lo = val.lo >>> 7;\r\n    }\r\n    buf[pos++] = val.lo;\r\n}\r\n\r\n/**\r\n * Writes an unsigned 64 bit value as a varint.\r\n * @param {Long|number|string} value Value to write\r\n * @returns {Writer} `this`\r\n * @throws {TypeError} If `value` is a string and no long library is present.\r\n */\r\nWriter.prototype.uint64 = function write_uint64(value) {\r\n    var bits = LongBits.from(value);\r\n    return this._push(writeVarint64, bits.length(), bits);\r\n};\r\n\r\n/**\r\n * Writes a signed 64 bit value as a varint.\r\n * @function\r\n * @param {Long|number|string} value Value to write\r\n * @returns {Writer} `this`\r\n * @throws {TypeError} If `value` is a string and no long library is present.\r\n */\r\nWriter.prototype.int64 = Writer.prototype.uint64;\r\n\r\n/**\r\n * Writes a signed 64 bit value as a varint, zig-zag encoded.\r\n * @param {Long|number|string} value Value to write\r\n * @returns {Writer} `this`\r\n * @throws {TypeError} If `value` is a string and no long library is present.\r\n */\r\nWriter.prototype.sint64 = function write_sint64(value) {\r\n    var bits = LongBits.from(value).zzEncode();\r\n    return this._push(writeVarint64, bits.length(), bits);\r\n};\r\n\r\n/**\r\n * Writes a boolish value as a varint.\r\n * @param {boolean} value Value to write\r\n * @returns {Writer} `this`\r\n */\r\nWriter.prototype.bool = function write_bool(value) {\r\n    return this._push(writeByte, 1, value ? 1 : 0);\r\n};\r\n\r\nfunction writeFixed32(val, buf, pos) {\r\n    buf[pos    ] =  val         & 255;\r\n    buf[pos + 1] =  val >>> 8   & 255;\r\n    buf[pos + 2] =  val >>> 16  & 255;\r\n    buf[pos + 3] =  val >>> 24;\r\n}\r\n\r\n/**\r\n * Writes an unsigned 32 bit value as fixed 32 bits.\r\n * @param {number} value Value to write\r\n * @returns {Writer} `this`\r\n */\r\nWriter.prototype.fixed32 = function write_fixed32(value) {\r\n    return this._push(writeFixed32, 4, value >>> 0);\r\n};\r\n\r\n/**\r\n * Writes a signed 32 bit value as fixed 32 bits.\r\n * @function\r\n * @param {number} value Value to write\r\n * @returns {Writer} `this`\r\n */\r\nWriter.prototype.sfixed32 = Writer.prototype.fixed32;\r\n\r\n/**\r\n * Writes an unsigned 64 bit value as fixed 64 bits.\r\n * @param {Long|number|string} value Value to write\r\n * @returns {Writer} `this`\r\n * @throws {TypeError} If `value` is a string and no long library is present.\r\n */\r\nWriter.prototype.fixed64 = function write_fixed64(value) {\r\n    var bits = LongBits.from(value);\r\n    return this._push(writeFixed32, 4, bits.lo)._push(writeFixed32, 4, bits.hi);\r\n};\r\n\r\n/**\r\n * Writes a signed 64 bit value as fixed 64 bits.\r\n * @function\r\n * @param {Long|number|string} value Value to write\r\n * @returns {Writer} `this`\r\n * @throws {TypeError} If `value` is a string and no long library is present.\r\n */\r\nWriter.prototype.sfixed64 = Writer.prototype.fixed64;\r\n\r\n/**\r\n * Writes a float (32 bit).\r\n * @function\r\n * @param {number} value Value to write\r\n * @returns {Writer} `this`\r\n */\r\nWriter.prototype.float = function write_float(value) {\r\n    return this._push(util.float.writeFloatLE, 4, value);\r\n};\r\n\r\n/**\r\n * Writes a double (64 bit float).\r\n * @function\r\n * @param {number} value Value to write\r\n * @returns {Writer} `this`\r\n */\r\nWriter.prototype.double = function write_double(value) {\r\n    return this._push(util.float.writeDoubleLE, 8, value);\r\n};\r\n\r\nvar writeBytes = util.Array.prototype.set\r\n    ? function writeBytes_set(val, buf, pos) {\r\n        buf.set(val, pos); // also works for plain array values\r\n    }\r\n    /* istanbul ignore next */\r\n    : function writeBytes_for(val, buf, pos) {\r\n        for (var i = 0; i < val.length; ++i)\r\n            buf[pos + i] = val[i];\r\n    };\r\n\r\n/**\r\n * Writes a sequence of bytes.\r\n * @param {Uint8Array|string} value Buffer or base64 encoded string to write\r\n * @returns {Writer} `this`\r\n */\r\nWriter.prototype.bytes = function write_bytes(value) {\r\n    var len = value.length >>> 0;\r\n    if (!len)\r\n        return this._push(writeByte, 1, 0);\r\n    if (util.isString(value)) {\r\n        var buf = Writer.alloc(len = base64.length(value));\r\n        base64.decode(value, buf, 0);\r\n        value = buf;\r\n    }\r\n    return this.uint32(len)._push(writeBytes, len, value);\r\n};\r\n\r\n/**\r\n * Writes a string.\r\n * @param {string} value Value to write\r\n * @returns {Writer} `this`\r\n */\r\nWriter.prototype.string = function write_string(value) {\r\n    var len = utf8.length(value);\r\n    return len\r\n        ? this.uint32(len)._push(utf8.write, len, value)\r\n        : this._push(writeByte, 1, 0);\r\n};\r\n\r\n/**\r\n * Forks this writer's state by pushing it to a stack.\r\n * Calling {@link Writer#reset|reset} or {@link Writer#ldelim|ldelim} resets the writer to the previous state.\r\n * @returns {Writer} `this`\r\n */\r\nWriter.prototype.fork = function fork() {\r\n    this.states = new State(this);\r\n    this.head = this.tail = new Op(noop, 0, 0);\r\n    this.len = 0;\r\n    return this;\r\n};\r\n\r\n/**\r\n * Resets this instance to the last state.\r\n * @returns {Writer} `this`\r\n */\r\nWriter.prototype.reset = function reset() {\r\n    if (this.states) {\r\n        this.head   = this.states.head;\r\n        this.tail   = this.states.tail;\r\n        this.len    = this.states.len;\r\n        this.states = this.states.next;\r\n    } else {\r\n        this.head = this.tail = new Op(noop, 0, 0);\r\n        this.len  = 0;\r\n    }\r\n    return this;\r\n};\r\n\r\n/**\r\n * Resets to the last state and appends the fork state's current write length as a varint followed by its operations.\r\n * @returns {Writer} `this`\r\n */\r\nWriter.prototype.ldelim = function ldelim() {\r\n    var head = this.head,\r\n        tail = this.tail,\r\n        len  = this.len;\r\n    this.reset().uint32(len);\r\n    if (len) {\r\n        this.tail.next = head.next; // skip noop\r\n        this.tail = tail;\r\n        this.len += len;\r\n    }\r\n    return this;\r\n};\r\n\r\n/**\r\n * Finishes the write operation.\r\n * @returns {Uint8Array} Finished buffer\r\n */\r\nWriter.prototype.finish = function finish() {\r\n    var head = this.head.next, // skip noop\r\n        buf  = this.constructor.alloc(this.len),\r\n        pos  = 0;\r\n    while (head) {\r\n        head.fn(head.val, buf, pos);\r\n        pos += head.len;\r\n        head = head.next;\r\n    }\r\n    // this.head = this.tail = null;\r\n    return buf;\r\n};\r\n\r\nWriter._configure = function(BufferWriter_) {\r\n    BufferWriter = BufferWriter_;\r\n};\r\n","\"use strict\";\r\nmodule.exports = BufferWriter;\r\n\r\n// extends Writer\r\nvar Writer = require(\"./writer\");\r\n(BufferWriter.prototype = Object.create(Writer.prototype)).constructor = BufferWriter;\r\n\r\nvar util = require(\"./util/minimal\");\r\n\r\nvar Buffer = util.Buffer;\r\n\r\n/**\r\n * Constructs a new buffer writer instance.\r\n * @classdesc Wire format writer using node buffers.\r\n * @extends Writer\r\n * @constructor\r\n */\r\nfunction BufferWriter() {\r\n    Writer.call(this);\r\n}\r\n\r\n/**\r\n * Allocates a buffer of the specified size.\r\n * @param {number} size Buffer size\r\n * @returns {Buffer} Buffer\r\n */\r\nBufferWriter.alloc = function alloc_buffer(size) {\r\n    return (BufferWriter.alloc = util._Buffer_allocUnsafe)(size);\r\n};\r\n\r\nvar writeBytesBuffer = Buffer && Buffer.prototype instanceof Uint8Array && Buffer.prototype.set.name === \"set\"\r\n    ? function writeBytesBuffer_set(val, buf, pos) {\r\n        buf.set(val, pos); // faster than copy (requires node >= 4 where Buffers extend Uint8Array and set is properly inherited)\r\n                           // also works for plain array values\r\n    }\r\n    /* istanbul ignore next */\r\n    : function writeBytesBuffer_copy(val, buf, pos) {\r\n        if (val.copy) // Buffer values\r\n            val.copy(buf, pos, 0, val.length);\r\n        else for (var i = 0; i < val.length;) // plain array values\r\n            buf[pos++] = val[i++];\r\n    };\r\n\r\n/**\r\n * @override\r\n */\r\nBufferWriter.prototype.bytes = function write_bytes_buffer(value) {\r\n    if (util.isString(value))\r\n        value = util._Buffer_from(value, \"base64\");\r\n    var len = value.length >>> 0;\r\n    this.uint32(len);\r\n    if (len)\r\n        this._push(writeBytesBuffer, len, value);\r\n    return this;\r\n};\r\n\r\nfunction writeStringBuffer(val, buf, pos) {\r\n    if (val.length < 40) // plain js is faster for short strings (probably due to redundant assertions)\r\n        util.utf8.write(val, buf, pos);\r\n    else\r\n        buf.utf8Write(val, pos);\r\n}\r\n\r\n/**\r\n * @override\r\n */\r\nBufferWriter.prototype.string = function write_string_buffer(value) {\r\n    var len = Buffer.byteLength(value);\r\n    this.uint32(len);\r\n    if (len)\r\n        this._push(writeStringBuffer, len, value);\r\n    return this;\r\n};\r\n\r\n\r\n/**\r\n * Finishes the write operation.\r\n * @name BufferWriter#finish\r\n * @function\r\n * @returns {Buffer} Finished buffer\r\n */\r\n","\"use strict\";\r\nmodule.exports = Reader;\r\n\r\nvar util      = require(\"./util/minimal\");\r\n\r\nvar BufferReader; // cyclic\r\n\r\nvar LongBits  = util.LongBits,\r\n    utf8      = util.utf8;\r\n\r\n/* istanbul ignore next */\r\nfunction indexOutOfRange(reader, writeLength) {\r\n    return RangeError(\"index out of range: \" + reader.pos + \" + \" + (writeLength || 1) + \" > \" + reader.len);\r\n}\r\n\r\n/**\r\n * Constructs a new reader instance using the specified buffer.\r\n * @classdesc Wire format reader using `Uint8Array` if available, otherwise `Array`.\r\n * @constructor\r\n * @param {Uint8Array} buffer Buffer to read from\r\n */\r\nfunction Reader(buffer) {\r\n\r\n    /**\r\n     * Read buffer.\r\n     * @type {Uint8Array}\r\n     */\r\n    this.buf = buffer;\r\n\r\n    /**\r\n     * Read buffer position.\r\n     * @type {number}\r\n     */\r\n    this.pos = 0;\r\n\r\n    /**\r\n     * Read buffer length.\r\n     * @type {number}\r\n     */\r\n    this.len = buffer.length;\r\n}\r\n\r\nvar create_array = typeof Uint8Array !== \"undefined\"\r\n    ? function create_typed_array(buffer) {\r\n        if (buffer instanceof Uint8Array || Array.isArray(buffer))\r\n            return new Reader(buffer);\r\n        throw Error(\"illegal buffer\");\r\n    }\r\n    /* istanbul ignore next */\r\n    : function create_array(buffer) {\r\n        if (Array.isArray(buffer))\r\n            return new Reader(buffer);\r\n        throw Error(\"illegal buffer\");\r\n    };\r\n\r\n/**\r\n * Creates a new reader using the specified buffer.\r\n * @function\r\n * @param {Uint8Array|Buffer} buffer Buffer to read from\r\n * @returns {Reader|BufferReader} A {@link BufferReader} if `buffer` is a Buffer, otherwise a {@link Reader}\r\n * @throws {Error} If `buffer` is not a valid buffer\r\n */\r\nReader.create = util.Buffer\r\n    ? function create_buffer_setup(buffer) {\r\n        return (Reader.create = function create_buffer(buffer) {\r\n            return util.Buffer.isBuffer(buffer)\r\n                ? new BufferReader(buffer)\r\n                /* istanbul ignore next */\r\n                : create_array(buffer);\r\n        })(buffer);\r\n    }\r\n    /* istanbul ignore next */\r\n    : create_array;\r\n\r\nReader.prototype._slice = util.Array.prototype.subarray || /* istanbul ignore next */ util.Array.prototype.slice;\r\n\r\n/**\r\n * Reads a varint as an unsigned 32 bit value.\r\n * @function\r\n * @returns {number} Value read\r\n */\r\nReader.prototype.uint32 = (function read_uint32_setup() {\r\n    var value = 4294967295; // optimizer type-hint, tends to deopt otherwise (?!)\r\n    return function read_uint32() {\r\n        value = (         this.buf[this.pos] & 127       ) >>> 0; if (this.buf[this.pos++] < 128) return value;\r\n        value = (value | (this.buf[this.pos] & 127) <<  7) >>> 0; if (this.buf[this.pos++] < 128) return value;\r\n        value = (value | (this.buf[this.pos] & 127) << 14) >>> 0; if (this.buf[this.pos++] < 128) return value;\r\n        value = (value | (this.buf[this.pos] & 127) << 21) >>> 0; if (this.buf[this.pos++] < 128) return value;\r\n        value = (value | (this.buf[this.pos] &  15) << 28) >>> 0; if (this.buf[this.pos++] < 128) return value;\r\n\r\n        /* istanbul ignore if */\r\n        if ((this.pos += 5) > this.len) {\r\n            this.pos = this.len;\r\n            throw indexOutOfRange(this, 10);\r\n        }\r\n        return value;\r\n    };\r\n})();\r\n\r\n/**\r\n * Reads a varint as a signed 32 bit value.\r\n * @returns {number} Value read\r\n */\r\nReader.prototype.int32 = function read_int32() {\r\n    return this.uint32() | 0;\r\n};\r\n\r\n/**\r\n * Reads a zig-zag encoded varint as a signed 32 bit value.\r\n * @returns {number} Value read\r\n */\r\nReader.prototype.sint32 = function read_sint32() {\r\n    var value = this.uint32();\r\n    return value >>> 1 ^ -(value & 1) | 0;\r\n};\r\n\r\n/* eslint-disable no-invalid-this */\r\n\r\nfunction readLongVarint() {\r\n    // tends to deopt with local vars for octet etc.\r\n    var bits = new LongBits(0, 0);\r\n    var i = 0;\r\n    if (this.len - this.pos > 4) { // fast route (lo)\r\n        for (; i < 4; ++i) {\r\n            // 1st..4th\r\n            bits.lo = (bits.lo | (this.buf[this.pos] & 127) << i * 7) >>> 0;\r\n            if (this.buf[this.pos++] < 128)\r\n                return bits;\r\n        }\r\n        // 5th\r\n        bits.lo = (bits.lo | (this.buf[this.pos] & 127) << 28) >>> 0;\r\n        bits.hi = (bits.hi | (this.buf[this.pos] & 127) >>  4) >>> 0;\r\n        if (this.buf[this.pos++] < 128)\r\n            return bits;\r\n        i = 0;\r\n    } else {\r\n        for (; i < 3; ++i) {\r\n            /* istanbul ignore if */\r\n            if (this.pos >= this.len)\r\n                throw indexOutOfRange(this);\r\n            // 1st..3th\r\n            bits.lo = (bits.lo | (this.buf[this.pos] & 127) << i * 7) >>> 0;\r\n            if (this.buf[this.pos++] < 128)\r\n                return bits;\r\n        }\r\n        // 4th\r\n        bits.lo = (bits.lo | (this.buf[this.pos++] & 127) << i * 7) >>> 0;\r\n        return bits;\r\n    }\r\n    if (this.len - this.pos > 4) { // fast route (hi)\r\n        for (; i < 5; ++i) {\r\n            // 6th..10th\r\n            bits.hi = (bits.hi | (this.buf[this.pos] & 127) << i * 7 + 3) >>> 0;\r\n            if (this.buf[this.pos++] < 128)\r\n                return bits;\r\n        }\r\n    } else {\r\n        for (; i < 5; ++i) {\r\n            /* istanbul ignore if */\r\n            if (this.pos >= this.len)\r\n                throw indexOutOfRange(this);\r\n            // 6th..10th\r\n            bits.hi = (bits.hi | (this.buf[this.pos] & 127) << i * 7 + 3) >>> 0;\r\n            if (this.buf[this.pos++] < 128)\r\n                return bits;\r\n        }\r\n    }\r\n    /* istanbul ignore next */\r\n    throw Error(\"invalid varint encoding\");\r\n}\r\n\r\n/* eslint-enable no-invalid-this */\r\n\r\n/**\r\n * Reads a varint as a signed 64 bit value.\r\n * @name Reader#int64\r\n * @function\r\n * @returns {Long} Value read\r\n */\r\n\r\n/**\r\n * Reads a varint as an unsigned 64 bit value.\r\n * @name Reader#uint64\r\n * @function\r\n * @returns {Long} Value read\r\n */\r\n\r\n/**\r\n * Reads a zig-zag encoded varint as a signed 64 bit value.\r\n * @name Reader#sint64\r\n * @function\r\n * @returns {Long} Value read\r\n */\r\n\r\n/**\r\n * Reads a varint as a boolean.\r\n * @returns {boolean} Value read\r\n */\r\nReader.prototype.bool = function read_bool() {\r\n    return this.uint32() !== 0;\r\n};\r\n\r\nfunction readFixed32_end(buf, end) { // note that this uses `end`, not `pos`\r\n    return (buf[end - 4]\r\n          | buf[end - 3] << 8\r\n          | buf[end - 2] << 16\r\n          | buf[end - 1] << 24) >>> 0;\r\n}\r\n\r\n/**\r\n * Reads fixed 32 bits as an unsigned 32 bit integer.\r\n * @returns {number} Value read\r\n */\r\nReader.prototype.fixed32 = function read_fixed32() {\r\n\r\n    /* istanbul ignore if */\r\n    if (this.pos + 4 > this.len)\r\n        throw indexOutOfRange(this, 4);\r\n\r\n    return readFixed32_end(this.buf, this.pos += 4);\r\n};\r\n\r\n/**\r\n * Reads fixed 32 bits as a signed 32 bit integer.\r\n * @returns {number} Value read\r\n */\r\nReader.prototype.sfixed32 = function read_sfixed32() {\r\n\r\n    /* istanbul ignore if */\r\n    if (this.pos + 4 > this.len)\r\n        throw indexOutOfRange(this, 4);\r\n\r\n    return readFixed32_end(this.buf, this.pos += 4) | 0;\r\n};\r\n\r\n/* eslint-disable no-invalid-this */\r\n\r\nfunction readFixed64(/* this: Reader */) {\r\n\r\n    /* istanbul ignore if */\r\n    if (this.pos + 8 > this.len)\r\n        throw indexOutOfRange(this, 8);\r\n\r\n    return new LongBits(readFixed32_end(this.buf, this.pos += 4), readFixed32_end(this.buf, this.pos += 4));\r\n}\r\n\r\n/* eslint-enable no-invalid-this */\r\n\r\n/**\r\n * Reads fixed 64 bits.\r\n * @name Reader#fixed64\r\n * @function\r\n * @returns {Long} Value read\r\n */\r\n\r\n/**\r\n * Reads zig-zag encoded fixed 64 bits.\r\n * @name Reader#sfixed64\r\n * @function\r\n * @returns {Long} Value read\r\n */\r\n\r\n/**\r\n * Reads a float (32 bit) as a number.\r\n * @function\r\n * @returns {number} Value read\r\n */\r\nReader.prototype.float = function read_float() {\r\n\r\n    /* istanbul ignore if */\r\n    if (this.pos + 4 > this.len)\r\n        throw indexOutOfRange(this, 4);\r\n\r\n    var value = util.float.readFloatLE(this.buf, this.pos);\r\n    this.pos += 4;\r\n    return value;\r\n};\r\n\r\n/**\r\n * Reads a double (64 bit float) as a number.\r\n * @function\r\n * @returns {number} Value read\r\n */\r\nReader.prototype.double = function read_double() {\r\n\r\n    /* istanbul ignore if */\r\n    if (this.pos + 8 > this.len)\r\n        throw indexOutOfRange(this, 4);\r\n\r\n    var value = util.float.readDoubleLE(this.buf, this.pos);\r\n    this.pos += 8;\r\n    return value;\r\n};\r\n\r\n/**\r\n * Reads a sequence of bytes preceeded by its length as a varint.\r\n * @returns {Uint8Array} Value read\r\n */\r\nReader.prototype.bytes = function read_bytes() {\r\n    var length = this.uint32(),\r\n        start  = this.pos,\r\n        end    = this.pos + length;\r\n\r\n    /* istanbul ignore if */\r\n    if (end > this.len)\r\n        throw indexOutOfRange(this, length);\r\n\r\n    this.pos += length;\r\n    if (Array.isArray(this.buf)) // plain array\r\n        return this.buf.slice(start, end);\r\n    return start === end // fix for IE 10/Win8 and others' subarray returning array of size 1\r\n        ? new this.buf.constructor(0)\r\n        : this._slice.call(this.buf, start, end);\r\n};\r\n\r\n/**\r\n * Reads a string preceeded by its byte length as a varint.\r\n * @returns {string} Value read\r\n */\r\nReader.prototype.string = function read_string() {\r\n    var bytes = this.bytes();\r\n    return utf8.read(bytes, 0, bytes.length);\r\n};\r\n\r\n/**\r\n * Skips the specified number of bytes if specified, otherwise skips a varint.\r\n * @param {number} [length] Length if known, otherwise a varint is assumed\r\n * @returns {Reader} `this`\r\n */\r\nReader.prototype.skip = function skip(length) {\r\n    if (typeof length === \"number\") {\r\n        /* istanbul ignore if */\r\n        if (this.pos + length > this.len)\r\n            throw indexOutOfRange(this, length);\r\n        this.pos += length;\r\n    } else {\r\n        do {\r\n            /* istanbul ignore if */\r\n            if (this.pos >= this.len)\r\n                throw indexOutOfRange(this);\r\n        } while (this.buf[this.pos++] & 128);\r\n    }\r\n    return this;\r\n};\r\n\r\n/**\r\n * Skips the next element of the specified wire type.\r\n * @param {number} wireType Wire type received\r\n * @returns {Reader} `this`\r\n */\r\nReader.prototype.skipType = function(wireType) {\r\n    switch (wireType) {\r\n        case 0:\r\n            this.skip();\r\n            break;\r\n        case 1:\r\n            this.skip(8);\r\n            break;\r\n        case 2:\r\n            this.skip(this.uint32());\r\n            break;\r\n        case 3:\r\n            do { // eslint-disable-line no-constant-condition\r\n                if ((wireType = this.uint32() & 7) === 4)\r\n                    break;\r\n                this.skipType(wireType);\r\n            } while (true);\r\n            break;\r\n        case 5:\r\n            this.skip(4);\r\n            break;\r\n\r\n        /* istanbul ignore next */\r\n        default:\r\n            throw Error(\"invalid wire type \" + wireType + \" at offset \" + this.pos);\r\n    }\r\n    return this;\r\n};\r\n\r\nReader._configure = function(BufferReader_) {\r\n    BufferReader = BufferReader_;\r\n\r\n    var fn = util.Long ? \"toLong\" : /* istanbul ignore next */ \"toNumber\";\r\n    util.merge(Reader.prototype, {\r\n\r\n        int64: function read_int64() {\r\n            return readLongVarint.call(this)[fn](false);\r\n        },\r\n\r\n        uint64: function read_uint64() {\r\n            return readLongVarint.call(this)[fn](true);\r\n        },\r\n\r\n        sint64: function read_sint64() {\r\n            return readLongVarint.call(this).zzDecode()[fn](false);\r\n        },\r\n\r\n        fixed64: function read_fixed64() {\r\n            return readFixed64.call(this)[fn](true);\r\n        },\r\n\r\n        sfixed64: function read_sfixed64() {\r\n            return readFixed64.call(this)[fn](false);\r\n        }\r\n\r\n    });\r\n};\r\n","\"use strict\";\r\nmodule.exports = BufferReader;\r\n\r\n// extends Reader\r\nvar Reader = require(\"./reader\");\r\n(BufferReader.prototype = Object.create(Reader.prototype)).constructor = BufferReader;\r\n\r\nvar util = require(\"./util/minimal\");\r\n\r\n/**\r\n * Constructs a new buffer reader instance.\r\n * @classdesc Wire format reader using node buffers.\r\n * @extends Reader\r\n * @constructor\r\n * @param {Buffer} buffer Buffer to read from\r\n */\r\nfunction BufferReader(buffer) {\r\n    Reader.call(this, buffer);\r\n\r\n    /**\r\n     * Read buffer.\r\n     * @name BufferReader#buf\r\n     * @type {Buffer}\r\n     */\r\n}\r\n\r\n/* istanbul ignore else */\r\nif (util.Buffer)\r\n    BufferReader.prototype._slice = util.Buffer.prototype.slice;\r\n\r\n/**\r\n * @override\r\n */\r\nBufferReader.prototype.string = function read_string_buffer() {\r\n    var len = this.uint32(); // modifies pos\r\n    return this.buf.utf8Slice(this.pos, this.pos = Math.min(this.pos + len, this.len));\r\n};\r\n\r\n/**\r\n * Reads a sequence of bytes preceeded by its length as a varint.\r\n * @name BufferReader#bytes\r\n * @function\r\n * @returns {Buffer} Value read\r\n */\r\n","\"use strict\";\r\nmodule.exports = Service;\r\n\r\nvar util = require(\"../util/minimal\");\r\n\r\n// Extends EventEmitter\r\n(Service.prototype = Object.create(util.EventEmitter.prototype)).constructor = Service;\r\n\r\n/**\r\n * A service method callback as used by {@link rpc.ServiceMethod|ServiceMethod}.\r\n *\r\n * Differs from {@link RPCImplCallback} in that it is an actual callback of a service method which may not return `response = null`.\r\n * @typedef rpc.ServiceMethodCallback\r\n * @template TRes extends Message<TRes>\r\n * @type {function}\r\n * @param {Error|null} error Error, if any\r\n * @param {TRes} [response] Response message\r\n * @returns {undefined}\r\n */\r\n\r\n/**\r\n * A service method part of a {@link rpc.Service} as created by {@link Service.create}.\r\n * @typedef rpc.ServiceMethod\r\n * @template TReq extends Message<TReq>\r\n * @template TRes extends Message<TRes>\r\n * @type {function}\r\n * @param {TReq|Properties<TReq>} request Request message or plain object\r\n * @param {rpc.ServiceMethodCallback<TRes>} [callback] Node-style callback called with the error, if any, and the response message\r\n * @returns {Promise<Message<TRes>>} Promise if `callback` has been omitted, otherwise `undefined`\r\n */\r\n\r\n/**\r\n * Constructs a new RPC service instance.\r\n * @classdesc An RPC service as returned by {@link Service#create}.\r\n * @exports rpc.Service\r\n * @extends util.EventEmitter\r\n * @constructor\r\n * @param {RPCImpl} rpcImpl RPC implementation\r\n * @param {boolean} [requestDelimited=false] Whether requests are length-delimited\r\n * @param {boolean} [responseDelimited=false] Whether responses are length-delimited\r\n */\r\nfunction Service(rpcImpl, requestDelimited, responseDelimited) {\r\n\r\n    if (typeof rpcImpl !== \"function\")\r\n        throw TypeError(\"rpcImpl must be a function\");\r\n\r\n    util.EventEmitter.call(this);\r\n\r\n    /**\r\n     * RPC implementation. Becomes `null` once the service is ended.\r\n     * @type {RPCImpl|null}\r\n     */\r\n    this.rpcImpl = rpcImpl;\r\n\r\n    /**\r\n     * Whether requests are length-delimited.\r\n     * @type {boolean}\r\n     */\r\n    this.requestDelimited = Boolean(requestDelimited);\r\n\r\n    /**\r\n     * Whether responses are length-delimited.\r\n     * @type {boolean}\r\n     */\r\n    this.responseDelimited = Boolean(responseDelimited);\r\n}\r\n\r\n/**\r\n * Calls a service method through {@link rpc.Service#rpcImpl|rpcImpl}.\r\n * @param {Method|rpc.ServiceMethod<TReq,TRes>} method Reflected or static method\r\n * @param {Constructor<TReq>} requestCtor Request constructor\r\n * @param {Constructor<TRes>} responseCtor Response constructor\r\n * @param {TReq|Properties<TReq>} request Request message or plain object\r\n * @param {rpc.ServiceMethodCallback<TRes>} callback Service callback\r\n * @returns {undefined}\r\n * @template TReq extends Message<TReq>\r\n * @template TRes extends Message<TRes>\r\n */\r\nService.prototype.rpcCall = function rpcCall(method, requestCtor, responseCtor, request, callback) {\r\n\r\n    if (!request)\r\n        throw TypeError(\"request must be specified\");\r\n\r\n    var self = this;\r\n    if (!callback)\r\n        return util.asPromise(rpcCall, self, method, requestCtor, responseCtor, request);\r\n\r\n    if (!self.rpcImpl) {\r\n        setTimeout(function() { callback(Error(\"already ended\")); }, 0);\r\n        return undefined;\r\n    }\r\n\r\n    try {\r\n        return self.rpcImpl(\r\n            method,\r\n            requestCtor[self.requestDelimited ? \"encodeDelimited\" : \"encode\"](request).finish(),\r\n            function rpcCallback(err, response) {\r\n\r\n                if (err) {\r\n                    self.emit(\"error\", err, method);\r\n                    return callback(err);\r\n                }\r\n\r\n                if (response === null) {\r\n                    self.end(/* endedByRPC */ true);\r\n                    return undefined;\r\n                }\r\n\r\n                if (!(response instanceof responseCtor)) {\r\n                    try {\r\n                        response = responseCtor[self.responseDelimited ? \"decodeDelimited\" : \"decode\"](response);\r\n                    } catch (err) {\r\n                        self.emit(\"error\", err, method);\r\n                        return callback(err);\r\n                    }\r\n                }\r\n\r\n                self.emit(\"data\", response, method);\r\n                return callback(null, response);\r\n            }\r\n        );\r\n    } catch (err) {\r\n        self.emit(\"error\", err, method);\r\n        setTimeout(function() { callback(err); }, 0);\r\n        return undefined;\r\n    }\r\n};\r\n\r\n/**\r\n * Ends this service and emits the `end` event.\r\n * @param {boolean} [endedByRPC=false] Whether the service has been ended by the RPC implementation.\r\n * @returns {rpc.Service} `this`\r\n */\r\nService.prototype.end = function end(endedByRPC) {\r\n    if (this.rpcImpl) {\r\n        if (!endedByRPC) // signal end to rpcImpl\r\n            this.rpcImpl(null, null, null);\r\n        this.rpcImpl = null;\r\n        this.emit(\"end\").off();\r\n    }\r\n    return this;\r\n};\r\n","\"use strict\";\r\n\r\n/**\r\n * Streaming RPC helpers.\r\n * @namespace\r\n */\r\nvar rpc = exports;\r\n\r\n/**\r\n * RPC implementation passed to {@link Service#create} performing a service request on network level, i.e. by utilizing http requests or websockets.\r\n * @typedef RPCImpl\r\n * @type {function}\r\n * @param {Method|rpc.ServiceMethod<Message<{}>,Message<{}>>} method Reflected or static method being called\r\n * @param {Uint8Array} requestData Request data\r\n * @param {RPCImplCallback} callback Callback function\r\n * @returns {undefined}\r\n * @example\r\n * function rpcImpl(method, requestData, callback) {\r\n *     if (protobuf.util.lcFirst(method.name) !== \"myMethod\") // compatible with static code\r\n *         throw Error(\"no such method\");\r\n *     asynchronouslyObtainAResponse(requestData, function(err, responseData) {\r\n *         callback(err, responseData);\r\n *     });\r\n * }\r\n */\r\n\r\n/**\r\n * Node-style callback as used by {@link RPCImpl}.\r\n * @typedef RPCImplCallback\r\n * @type {function}\r\n * @param {Error|null} error Error, if any, otherwise `null`\r\n * @param {Uint8Array|null} [response] Response data or `null` to signal end of stream, if there hasn't been an error\r\n * @returns {undefined}\r\n */\r\n\r\nrpc.Service = require(\"./rpc/service\");\r\n","\"use strict\";\r\nmodule.exports = {};\r\n\r\n/**\r\n * Named roots.\r\n * This is where pbjs stores generated structures (the option `-r, --root` specifies a name).\r\n * Can also be used manually to make roots available accross modules.\r\n * @name roots\r\n * @type {Object.<string,Root>}\r\n * @example\r\n * // pbjs -r myroot -o compiled.js ...\r\n *\r\n * // in another module:\r\n * require(\"./compiled.js\");\r\n *\r\n * // in any subsequent module:\r\n * var root = protobuf.roots[\"myroot\"];\r\n */\r\n","\"use strict\";\r\nvar protobuf = exports;\r\n\r\n/**\r\n * Build type, one of `\"full\"`, `\"light\"` or `\"minimal\"`.\r\n * @name build\r\n * @type {string}\r\n * @const\r\n */\r\nprotobuf.build = \"minimal\";\r\n\r\n// Serialization\r\nprotobuf.Writer       = require(\"./writer\");\r\nprotobuf.BufferWriter = require(\"./writer_buffer\");\r\nprotobuf.Reader       = require(\"./reader\");\r\nprotobuf.BufferReader = require(\"./reader_buffer\");\r\n\r\n// Utility\r\nprotobuf.util         = require(\"./util/minimal\");\r\nprotobuf.rpc          = require(\"./rpc\");\r\nprotobuf.roots        = require(\"./roots\");\r\nprotobuf.configure    = configure;\r\n\r\n/* istanbul ignore next */\r\n/**\r\n * Reconfigures the library according to the environment.\r\n * @returns {undefined}\r\n */\r\nfunction configure() {\r\n    protobuf.Reader._configure(protobuf.BufferReader);\r\n    protobuf.util._configure();\r\n}\r\n\r\n// Configure serialization\r\nprotobuf.Writer._configure(protobuf.BufferWriter);\r\nconfigure();\r\n","// minimal library entry point.\r\n\r\n\"use strict\";\r\nmodule.exports = require(\"./src/index-minimal\");\r\n","/*eslint-disable block-scoped-var, no-redeclare, no-control-regex, no-prototype-builtins*/\nimport * as $protobuf from \"protobufjs/minimal\";\n\nconst $Reader = $protobuf.Reader, $util = $protobuf.util;\n\nconst $root = $protobuf.roots[\"default\"] || ($protobuf.roots[\"default\"] = {});\n\nexport const tensorflow = $root.tensorflow = (() => {\n\n    const tensorflow = {};\n\n    tensorflow.Any = (function() {\n\n        function Any(p) {\n            if (p)\n                for (var ks = Object.keys(p), i = 0; i < ks.length; ++i)\n                    if (p[ks[i]] != null)\n                        this[ks[i]] = p[ks[i]];\n        }\n\n        Any.prototype.typeUrl = \"\";\n        Any.prototype.value = $util.newBuffer([]);\n\n        Any.decode = function decode(r, l) {\n            if (!(r instanceof $Reader))\n                r = $Reader.create(r);\n            var c = l === undefined ? r.len : r.pos + l, m = new $root.tensorflow.Any();\n            while (r.pos < c) {\n                var t = r.uint32();\n                switch (t >>> 3) {\n                case 1:\n                    m.typeUrl = r.string();\n                    break;\n                case 2:\n                    m.value = r.bytes();\n                    break;\n                default:\n                    r.skipType(t & 7);\n                    break;\n                }\n            }\n            return m;\n        };\n\n        return Any;\n    })();\n\n    tensorflow.DataType = (function() {\n        const valuesById = {}, values = Object.create(valuesById);\n        values[valuesById[0] = \"DT_INVALID\"] = 0;\n        values[valuesById[1] = \"DT_FLOAT\"] = 1;\n        values[valuesById[2] = \"DT_DOUBLE\"] = 2;\n        values[valuesById[3] = \"DT_INT32\"] = 3;\n        values[valuesById[4] = \"DT_UINT8\"] = 4;\n        values[valuesById[5] = \"DT_INT16\"] = 5;\n        values[valuesById[6] = \"DT_INT8\"] = 6;\n        values[valuesById[7] = \"DT_STRING\"] = 7;\n        values[valuesById[8] = \"DT_COMPLEX64\"] = 8;\n        values[valuesById[9] = \"DT_INT64\"] = 9;\n        values[valuesById[10] = \"DT_BOOL\"] = 10;\n        values[valuesById[11] = \"DT_QINT8\"] = 11;\n        values[valuesById[12] = \"DT_QUINT8\"] = 12;\n        values[valuesById[13] = \"DT_QINT32\"] = 13;\n        values[valuesById[14] = \"DT_BFLOAT16\"] = 14;\n        values[valuesById[101] = \"DT_FLOAT_REF\"] = 101;\n        values[valuesById[102] = \"DT_DOUBLE_REF\"] = 102;\n        values[valuesById[103] = \"DT_INT32_REF\"] = 103;\n        values[valuesById[104] = \"DT_UINT8_REF\"] = 104;\n        values[valuesById[105] = \"DT_INT16_REF\"] = 105;\n        values[valuesById[106] = \"DT_INT8_REF\"] = 106;\n        values[valuesById[107] = \"DT_STRING_REF\"] = 107;\n        values[valuesById[108] = \"DT_COMPLEX64_REF\"] = 108;\n        values[valuesById[109] = \"DT_INT64_REF\"] = 109;\n        values[valuesById[110] = \"DT_BOOL_REF\"] = 110;\n        values[valuesById[111] = \"DT_QINT8_REF\"] = 111;\n        values[valuesById[112] = \"DT_QUINT8_REF\"] = 112;\n        values[valuesById[113] = \"DT_QINT32_REF\"] = 113;\n        values[valuesById[114] = \"DT_BFLOAT16_REF\"] = 114;\n        return values;\n    })();\n\n    tensorflow.TensorShape = (function() {\n\n        function TensorShape(p) {\n            this.dim = [];\n            if (p)\n                for (var ks = Object.keys(p), i = 0; i < ks.length; ++i)\n                    if (p[ks[i]] != null)\n                        this[ks[i]] = p[ks[i]];\n        }\n\n        TensorShape.prototype.dim = $util.emptyArray;\n        TensorShape.prototype.unknownRank = false;\n\n        TensorShape.decode = function decode(r, l) {\n            if (!(r instanceof $Reader))\n                r = $Reader.create(r);\n            var c = l === undefined ? r.len : r.pos + l, m = new $root.tensorflow.TensorShape();\n            while (r.pos < c) {\n                var t = r.uint32();\n                switch (t >>> 3) {\n                case 2:\n                    if (!(m.dim && m.dim.length))\n                        m.dim = [];\n                    m.dim.push($root.tensorflow.TensorShape.Dim.decode(r, r.uint32()));\n                    break;\n                case 3:\n                    m.unknownRank = r.bool();\n                    break;\n                default:\n                    r.skipType(t & 7);\n                    break;\n                }\n            }\n            return m;\n        };\n\n        TensorShape.Dim = (function() {\n\n            function Dim(p) {\n                if (p)\n                    for (var ks = Object.keys(p), i = 0; i < ks.length; ++i)\n                        if (p[ks[i]] != null)\n                            this[ks[i]] = p[ks[i]];\n            }\n\n            Dim.prototype.size = $util.Long ? $util.Long.fromBits(0,0,false) : 0;\n            Dim.prototype.name = \"\";\n\n            Dim.decode = function decode(r, l) {\n                if (!(r instanceof $Reader))\n                    r = $Reader.create(r);\n                var c = l === undefined ? r.len : r.pos + l, m = new $root.tensorflow.TensorShape.Dim();\n                while (r.pos < c) {\n                    var t = r.uint32();\n                    switch (t >>> 3) {\n                    case 1:\n                        m.size = r.int64();\n                        break;\n                    case 2:\n                        m.name = r.string();\n                        break;\n                    default:\n                        r.skipType(t & 7);\n                        break;\n                    }\n                }\n                return m;\n            };\n\n            return Dim;\n        })();\n\n        return TensorShape;\n    })();\n\n    tensorflow.Tensor = (function() {\n\n        function Tensor(p) {\n            this.floatVal = [];\n            this.doubleVal = [];\n            this.intVal = [];\n            this.stringVal = [];\n            this.scomplexVal = [];\n            this.int64Val = [];\n            this.boolVal = [];\n            this.uint32Val = [];\n            this.uint64Val = [];\n            if (p)\n                for (var ks = Object.keys(p), i = 0; i < ks.length; ++i)\n                    if (p[ks[i]] != null)\n                        this[ks[i]] = p[ks[i]];\n        }\n\n        Tensor.prototype.dtype = 0;\n        Tensor.prototype.tensorShape = null;\n        Tensor.prototype.versionNumber = 0;\n        Tensor.prototype.tensorContent = $util.newBuffer([]);\n        Tensor.prototype.floatVal = $util.emptyArray;\n        Tensor.prototype.doubleVal = $util.emptyArray;\n        Tensor.prototype.intVal = $util.emptyArray;\n        Tensor.prototype.stringVal = $util.emptyArray;\n        Tensor.prototype.scomplexVal = $util.emptyArray;\n        Tensor.prototype.int64Val = $util.emptyArray;\n        Tensor.prototype.boolVal = $util.emptyArray;\n        Tensor.prototype.uint32Val = $util.emptyArray;\n        Tensor.prototype.uint64Val = $util.emptyArray;\n\n        Tensor.decode = function decode(r, l) {\n            if (!(r instanceof $Reader))\n                r = $Reader.create(r);\n            var c = l === undefined ? r.len : r.pos + l, m = new $root.tensorflow.Tensor();\n            while (r.pos < c) {\n                var t = r.uint32();\n                switch (t >>> 3) {\n                case 1:\n                    m.dtype = r.int32();\n                    break;\n                case 2:\n                    m.tensorShape = $root.tensorflow.TensorShape.decode(r, r.uint32());\n                    break;\n                case 3:\n                    m.versionNumber = r.int32();\n                    break;\n                case 4:\n                    m.tensorContent = r.bytes();\n                    break;\n                case 5:\n                    if (!(m.floatVal && m.floatVal.length))\n                        m.floatVal = [];\n                    if ((t & 7) === 2) {\n                        var c2 = r.uint32() + r.pos;\n                        while (r.pos < c2)\n                            m.floatVal.push(r.float());\n                    } else\n                        m.floatVal.push(r.float());\n                    break;\n                case 6:\n                    if (!(m.doubleVal && m.doubleVal.length))\n                        m.doubleVal = [];\n                    if ((t & 7) === 2) {\n                        var c2 = r.uint32() + r.pos;\n                        while (r.pos < c2)\n                            m.doubleVal.push(r.double());\n                    } else\n                        m.doubleVal.push(r.double());\n                    break;\n                case 7:\n                    if (!(m.intVal && m.intVal.length))\n                        m.intVal = [];\n                    if ((t & 7) === 2) {\n                        var c2 = r.uint32() + r.pos;\n                        while (r.pos < c2)\n                            m.intVal.push(r.int32());\n                    } else\n                        m.intVal.push(r.int32());\n                    break;\n                case 8:\n                    if (!(m.stringVal && m.stringVal.length))\n                        m.stringVal = [];\n                    m.stringVal.push(r.bytes());\n                    break;\n                case 9:\n                    if (!(m.scomplexVal && m.scomplexVal.length))\n                        m.scomplexVal = [];\n                    if ((t & 7) === 2) {\n                        var c2 = r.uint32() + r.pos;\n                        while (r.pos < c2)\n                            m.scomplexVal.push(r.float());\n                    } else\n                        m.scomplexVal.push(r.float());\n                    break;\n                case 10:\n                    if (!(m.int64Val && m.int64Val.length))\n                        m.int64Val = [];\n                    if ((t & 7) === 2) {\n                        var c2 = r.uint32() + r.pos;\n                        while (r.pos < c2)\n                            m.int64Val.push(r.int64());\n                    } else\n                        m.int64Val.push(r.int64());\n                    break;\n                case 11:\n                    if (!(m.boolVal && m.boolVal.length))\n                        m.boolVal = [];\n                    if ((t & 7) === 2) {\n                        var c2 = r.uint32() + r.pos;\n                        while (r.pos < c2)\n                            m.boolVal.push(r.bool());\n                    } else\n                        m.boolVal.push(r.bool());\n                    break;\n                case 16:\n                    if (!(m.uint32Val && m.uint32Val.length))\n                        m.uint32Val = [];\n                    if ((t & 7) === 2) {\n                        var c2 = r.uint32() + r.pos;\n                        while (r.pos < c2)\n                            m.uint32Val.push(r.uint32());\n                    } else\n                        m.uint32Val.push(r.uint32());\n                    break;\n                case 17:\n                    if (!(m.uint64Val && m.uint64Val.length))\n                        m.uint64Val = [];\n                    if ((t & 7) === 2) {\n                        var c2 = r.uint32() + r.pos;\n                        while (r.pos < c2)\n                            m.uint64Val.push(r.uint64());\n                    } else\n                        m.uint64Val.push(r.uint64());\n                    break;\n                default:\n                    r.skipType(t & 7);\n                    break;\n                }\n            }\n            return m;\n        };\n\n        return Tensor;\n    })();\n\n    tensorflow.AttrValue = (function() {\n\n        function AttrValue(p) {\n            if (p)\n                for (var ks = Object.keys(p), i = 0; i < ks.length; ++i)\n                    if (p[ks[i]] != null)\n                        this[ks[i]] = p[ks[i]];\n        }\n\n        AttrValue.prototype.list = null;\n        AttrValue.prototype.s = $util.newBuffer([]);\n        AttrValue.prototype.i = $util.Long ? $util.Long.fromBits(0,0,false) : 0;\n        AttrValue.prototype.f = 0;\n        AttrValue.prototype.b = false;\n        AttrValue.prototype.type = 0;\n        AttrValue.prototype.shape = null;\n        AttrValue.prototype.tensor = null;\n        AttrValue.prototype.placeholder = \"\";\n        AttrValue.prototype.func = null;\n\n        let $oneOfFields;\n\n        Object.defineProperty(AttrValue.prototype, \"value\", {\n            get: $util.oneOfGetter($oneOfFields = [\"list\", \"s\", \"i\", \"f\", \"b\", \"type\", \"shape\", \"tensor\", \"placeholder\", \"func\"]),\n            set: $util.oneOfSetter($oneOfFields)\n        });\n\n        AttrValue.decode = function decode(r, l) {\n            if (!(r instanceof $Reader))\n                r = $Reader.create(r);\n            var c = l === undefined ? r.len : r.pos + l, m = new $root.tensorflow.AttrValue();\n            while (r.pos < c) {\n                var t = r.uint32();\n                switch (t >>> 3) {\n                case 1:\n                    m.list = $root.tensorflow.AttrValue.ListValue.decode(r, r.uint32());\n                    break;\n                case 2:\n                    m.s = r.bytes();\n                    break;\n                case 3:\n                    m.i = r.int64();\n                    break;\n                case 4:\n                    m.f = r.float();\n                    break;\n                case 5:\n                    m.b = r.bool();\n                    break;\n                case 6:\n                    m.type = r.int32();\n                    break;\n                case 7:\n                    m.shape = $root.tensorflow.TensorShape.decode(r, r.uint32());\n                    break;\n                case 8:\n                    m.tensor = $root.tensorflow.Tensor.decode(r, r.uint32());\n                    break;\n                case 9:\n                    m.placeholder = r.string();\n                    break;\n                case 10:\n                    m.func = $root.tensorflow.NameAttrList.decode(r, r.uint32());\n                    break;\n                default:\n                    r.skipType(t & 7);\n                    break;\n                }\n            }\n            return m;\n        };\n\n        AttrValue.ListValue = (function() {\n\n            function ListValue(p) {\n                this.s = [];\n                this.i = [];\n                this.f = [];\n                this.b = [];\n                this.type = [];\n                this.shape = [];\n                this.tensor = [];\n                this.func = [];\n                if (p)\n                    for (var ks = Object.keys(p), i = 0; i < ks.length; ++i)\n                        if (p[ks[i]] != null)\n                            this[ks[i]] = p[ks[i]];\n            }\n\n            ListValue.prototype.s = $util.emptyArray;\n            ListValue.prototype.i = $util.emptyArray;\n            ListValue.prototype.f = $util.emptyArray;\n            ListValue.prototype.b = $util.emptyArray;\n            ListValue.prototype.type = $util.emptyArray;\n            ListValue.prototype.shape = $util.emptyArray;\n            ListValue.prototype.tensor = $util.emptyArray;\n            ListValue.prototype.func = $util.emptyArray;\n\n            ListValue.decode = function decode(r, l) {\n                if (!(r instanceof $Reader))\n                    r = $Reader.create(r);\n                var c = l === undefined ? r.len : r.pos + l, m = new $root.tensorflow.AttrValue.ListValue();\n                while (r.pos < c) {\n                    var t = r.uint32();\n                    switch (t >>> 3) {\n                    case 2:\n                        if (!(m.s && m.s.length))\n                            m.s = [];\n                        m.s.push(r.bytes());\n                        break;\n                    case 3:\n                        if (!(m.i && m.i.length))\n                            m.i = [];\n                        if ((t & 7) === 2) {\n                            var c2 = r.uint32() + r.pos;\n                            while (r.pos < c2)\n                                m.i.push(r.int64());\n                        } else\n                            m.i.push(r.int64());\n                        break;\n                    case 4:\n                        if (!(m.f && m.f.length))\n                            m.f = [];\n                        if ((t & 7) === 2) {\n                            var c2 = r.uint32() + r.pos;\n                            while (r.pos < c2)\n                                m.f.push(r.float());\n                        } else\n                            m.f.push(r.float());\n                        break;\n                    case 5:\n                        if (!(m.b && m.b.length))\n                            m.b = [];\n                        if ((t & 7) === 2) {\n                            var c2 = r.uint32() + r.pos;\n                            while (r.pos < c2)\n                                m.b.push(r.bool());\n                        } else\n                            m.b.push(r.bool());\n                        break;\n                    case 6:\n                        if (!(m.type && m.type.length))\n                            m.type = [];\n                        if ((t & 7) === 2) {\n                            var c2 = r.uint32() + r.pos;\n                            while (r.pos < c2)\n                                m.type.push(r.int32());\n                        } else\n                            m.type.push(r.int32());\n                        break;\n                    case 7:\n                        if (!(m.shape && m.shape.length))\n                            m.shape = [];\n                        m.shape.push($root.tensorflow.TensorShape.decode(r, r.uint32()));\n                        break;\n                    case 8:\n                        if (!(m.tensor && m.tensor.length))\n                            m.tensor = [];\n                        m.tensor.push($root.tensorflow.Tensor.decode(r, r.uint32()));\n                        break;\n                    case 9:\n                        if (!(m.func && m.func.length))\n                            m.func = [];\n                        m.func.push($root.tensorflow.NameAttrList.decode(r, r.uint32()));\n                        break;\n                    default:\n                        r.skipType(t & 7);\n                        break;\n                    }\n                }\n                return m;\n            };\n\n            return ListValue;\n        })();\n\n        return AttrValue;\n    })();\n\n    tensorflow.NameAttrList = (function() {\n\n        function NameAttrList(p) {\n            this.attr = {};\n            if (p)\n                for (var ks = Object.keys(p), i = 0; i < ks.length; ++i)\n                    if (p[ks[i]] != null)\n                        this[ks[i]] = p[ks[i]];\n        }\n\n        NameAttrList.prototype.name = \"\";\n        NameAttrList.prototype.attr = $util.emptyObject;\n\n        NameAttrList.decode = function decode(r, l) {\n            if (!(r instanceof $Reader))\n                r = $Reader.create(r);\n            var c = l === undefined ? r.len : r.pos + l, m = new $root.tensorflow.NameAttrList(), k;\n            while (r.pos < c) {\n                var t = r.uint32();\n                switch (t >>> 3) {\n                case 1:\n                    m.name = r.string();\n                    break;\n                case 2:\n                    r.skip().pos++;\n                    if (m.attr === $util.emptyObject)\n                        m.attr = {};\n                    k = r.string();\n                    r.pos++;\n                    m.attr[k] = $root.tensorflow.AttrValue.decode(r, r.uint32());\n                    break;\n                default:\n                    r.skipType(t & 7);\n                    break;\n                }\n            }\n            return m;\n        };\n\n        return NameAttrList;\n    })();\n\n    tensorflow.NodeDef = (function() {\n\n        function NodeDef(p) {\n            this.input = [];\n            this.attr = {};\n            if (p)\n                for (var ks = Object.keys(p), i = 0; i < ks.length; ++i)\n                    if (p[ks[i]] != null)\n                        this[ks[i]] = p[ks[i]];\n        }\n\n        NodeDef.prototype.name = \"\";\n        NodeDef.prototype.op = \"\";\n        NodeDef.prototype.input = $util.emptyArray;\n        NodeDef.prototype.device = \"\";\n        NodeDef.prototype.attr = $util.emptyObject;\n\n        NodeDef.decode = function decode(r, l) {\n            if (!(r instanceof $Reader))\n                r = $Reader.create(r);\n            var c = l === undefined ? r.len : r.pos + l, m = new $root.tensorflow.NodeDef(), k;\n            while (r.pos < c) {\n                var t = r.uint32();\n                switch (t >>> 3) {\n                case 1:\n                    m.name = r.string();\n                    break;\n                case 2:\n                    m.op = r.string();\n                    break;\n                case 3:\n                    if (!(m.input && m.input.length))\n                        m.input = [];\n                    m.input.push(r.string());\n                    break;\n                case 4:\n                    m.device = r.string();\n                    break;\n                case 5:\n                    r.skip().pos++;\n                    if (m.attr === $util.emptyObject)\n                        m.attr = {};\n                    k = r.string();\n                    r.pos++;\n                    m.attr[k] = $root.tensorflow.AttrValue.decode(r, r.uint32());\n                    break;\n                default:\n                    r.skipType(t & 7);\n                    break;\n                }\n            }\n            return m;\n        };\n\n        return NodeDef;\n    })();\n\n    tensorflow.VersionDef = (function() {\n\n        function VersionDef(p) {\n            this.badConsumers = [];\n            if (p)\n                for (var ks = Object.keys(p), i = 0; i < ks.length; ++i)\n                    if (p[ks[i]] != null)\n                        this[ks[i]] = p[ks[i]];\n        }\n\n        VersionDef.prototype.producer = 0;\n        VersionDef.prototype.minConsumer = 0;\n        VersionDef.prototype.badConsumers = $util.emptyArray;\n\n        VersionDef.decode = function decode(r, l) {\n            if (!(r instanceof $Reader))\n                r = $Reader.create(r);\n            var c = l === undefined ? r.len : r.pos + l, m = new $root.tensorflow.VersionDef();\n            while (r.pos < c) {\n                var t = r.uint32();\n                switch (t >>> 3) {\n                case 1:\n                    m.producer = r.int32();\n                    break;\n                case 2:\n                    m.minConsumer = r.int32();\n                    break;\n                case 3:\n                    if (!(m.badConsumers && m.badConsumers.length))\n                        m.badConsumers = [];\n                    if ((t & 7) === 2) {\n                        var c2 = r.uint32() + r.pos;\n                        while (r.pos < c2)\n                            m.badConsumers.push(r.int32());\n                    } else\n                        m.badConsumers.push(r.int32());\n                    break;\n                default:\n                    r.skipType(t & 7);\n                    break;\n                }\n            }\n            return m;\n        };\n\n        return VersionDef;\n    })();\n\n    tensorflow.GraphDef = (function() {\n\n        function GraphDef(p) {\n            this.node = [];\n            if (p)\n                for (var ks = Object.keys(p), i = 0; i < ks.length; ++i)\n                    if (p[ks[i]] != null)\n                        this[ks[i]] = p[ks[i]];\n        }\n\n        GraphDef.prototype.node = $util.emptyArray;\n        GraphDef.prototype.versions = null;\n        GraphDef.prototype.library = null;\n\n        GraphDef.decode = function decode(r, l) {\n            if (!(r instanceof $Reader))\n                r = $Reader.create(r);\n            var c = l === undefined ? r.len : r.pos + l, m = new $root.tensorflow.GraphDef();\n            while (r.pos < c) {\n                var t = r.uint32();\n                switch (t >>> 3) {\n                case 1:\n                    if (!(m.node && m.node.length))\n                        m.node = [];\n                    m.node.push($root.tensorflow.NodeDef.decode(r, r.uint32()));\n                    break;\n                case 4:\n                    m.versions = $root.tensorflow.VersionDef.decode(r, r.uint32());\n                    break;\n                case 2:\n                    m.library = $root.tensorflow.FunctionDefLibrary.decode(r, r.uint32());\n                    break;\n                default:\n                    r.skipType(t & 7);\n                    break;\n                }\n            }\n            return m;\n        };\n\n        return GraphDef;\n    })();\n\n    tensorflow.CollectionDef = (function() {\n\n        function CollectionDef(p) {\n            if (p)\n                for (var ks = Object.keys(p), i = 0; i < ks.length; ++i)\n                    if (p[ks[i]] != null)\n                        this[ks[i]] = p[ks[i]];\n        }\n\n        CollectionDef.prototype.nodeList = null;\n        CollectionDef.prototype.bytesList = null;\n        CollectionDef.prototype.int64List = null;\n        CollectionDef.prototype.floatList = null;\n        CollectionDef.prototype.anyList = null;\n\n        let $oneOfFields;\n\n        Object.defineProperty(CollectionDef.prototype, \"kind\", {\n            get: $util.oneOfGetter($oneOfFields = [\"nodeList\", \"bytesList\", \"int64List\", \"floatList\", \"anyList\"]),\n            set: $util.oneOfSetter($oneOfFields)\n        });\n\n        CollectionDef.decode = function decode(r, l) {\n            if (!(r instanceof $Reader))\n                r = $Reader.create(r);\n            var c = l === undefined ? r.len : r.pos + l, m = new $root.tensorflow.CollectionDef();\n            while (r.pos < c) {\n                var t = r.uint32();\n                switch (t >>> 3) {\n                case 1:\n                    m.nodeList = $root.tensorflow.CollectionDef.NodeList.decode(r, r.uint32());\n                    break;\n                case 2:\n                    m.bytesList = $root.tensorflow.CollectionDef.BytesList.decode(r, r.uint32());\n                    break;\n                case 3:\n                    m.int64List = $root.tensorflow.CollectionDef.Int64List.decode(r, r.uint32());\n                    break;\n                case 4:\n                    m.floatList = $root.tensorflow.CollectionDef.FloatList.decode(r, r.uint32());\n                    break;\n                case 5:\n                    m.anyList = $root.tensorflow.CollectionDef.AnyList.decode(r, r.uint32());\n                    break;\n                default:\n                    r.skipType(t & 7);\n                    break;\n                }\n            }\n            return m;\n        };\n\n        CollectionDef.NodeList = (function() {\n\n            function NodeList(p) {\n                this.value = [];\n                if (p)\n                    for (var ks = Object.keys(p), i = 0; i < ks.length; ++i)\n                        if (p[ks[i]] != null)\n                            this[ks[i]] = p[ks[i]];\n            }\n\n            NodeList.prototype.value = $util.emptyArray;\n\n            NodeList.decode = function decode(r, l) {\n                if (!(r instanceof $Reader))\n                    r = $Reader.create(r);\n                var c = l === undefined ? r.len : r.pos + l, m = new $root.tensorflow.CollectionDef.NodeList();\n                while (r.pos < c) {\n                    var t = r.uint32();\n                    switch (t >>> 3) {\n                    case 1:\n                        if (!(m.value && m.value.length))\n                            m.value = [];\n                        m.value.push(r.string());\n                        break;\n                    default:\n                        r.skipType(t & 7);\n                        break;\n                    }\n                }\n                return m;\n            };\n\n            return NodeList;\n        })();\n\n        CollectionDef.BytesList = (function() {\n\n            function BytesList(p) {\n                this.value = [];\n                if (p)\n                    for (var ks = Object.keys(p), i = 0; i < ks.length; ++i)\n                        if (p[ks[i]] != null)\n                            this[ks[i]] = p[ks[i]];\n            }\n\n            BytesList.prototype.value = $util.emptyArray;\n\n            BytesList.decode = function decode(r, l) {\n                if (!(r instanceof $Reader))\n                    r = $Reader.create(r);\n                var c = l === undefined ? r.len : r.pos + l, m = new $root.tensorflow.CollectionDef.BytesList();\n                while (r.pos < c) {\n                    var t = r.uint32();\n                    switch (t >>> 3) {\n                    case 1:\n                        if (!(m.value && m.value.length))\n                            m.value = [];\n                        m.value.push(r.bytes());\n                        break;\n                    default:\n                        r.skipType(t & 7);\n                        break;\n                    }\n                }\n                return m;\n            };\n\n            return BytesList;\n        })();\n\n        CollectionDef.Int64List = (function() {\n\n            function Int64List(p) {\n                this.value = [];\n                if (p)\n                    for (var ks = Object.keys(p), i = 0; i < ks.length; ++i)\n                        if (p[ks[i]] != null)\n                            this[ks[i]] = p[ks[i]];\n            }\n\n            Int64List.prototype.value = $util.emptyArray;\n\n            Int64List.decode = function decode(r, l) {\n                if (!(r instanceof $Reader))\n                    r = $Reader.create(r);\n                var c = l === undefined ? r.len : r.pos + l, m = new $root.tensorflow.CollectionDef.Int64List();\n                while (r.pos < c) {\n                    var t = r.uint32();\n                    switch (t >>> 3) {\n                    case 1:\n                        if (!(m.value && m.value.length))\n                            m.value = [];\n                        if ((t & 7) === 2) {\n                            var c2 = r.uint32() + r.pos;\n                            while (r.pos < c2)\n                                m.value.push(r.int64());\n                        } else\n                            m.value.push(r.int64());\n                        break;\n                    default:\n                        r.skipType(t & 7);\n                        break;\n                    }\n                }\n                return m;\n            };\n\n            return Int64List;\n        })();\n\n        CollectionDef.FloatList = (function() {\n\n            function FloatList(p) {\n                this.value = [];\n                if (p)\n                    for (var ks = Object.keys(p), i = 0; i < ks.length; ++i)\n                        if (p[ks[i]] != null)\n                            this[ks[i]] = p[ks[i]];\n            }\n\n            FloatList.prototype.value = $util.emptyArray;\n\n            FloatList.decode = function decode(r, l) {\n                if (!(r instanceof $Reader))\n                    r = $Reader.create(r);\n                var c = l === undefined ? r.len : r.pos + l, m = new $root.tensorflow.CollectionDef.FloatList();\n                while (r.pos < c) {\n                    var t = r.uint32();\n                    switch (t >>> 3) {\n                    case 1:\n                        if (!(m.value && m.value.length))\n                            m.value = [];\n                        if ((t & 7) === 2) {\n                            var c2 = r.uint32() + r.pos;\n                            while (r.pos < c2)\n                                m.value.push(r.float());\n                        } else\n                            m.value.push(r.float());\n                        break;\n                    default:\n                        r.skipType(t & 7);\n                        break;\n                    }\n                }\n                return m;\n            };\n\n            return FloatList;\n        })();\n\n        CollectionDef.AnyList = (function() {\n\n            function AnyList(p) {\n                this.value = [];\n                if (p)\n                    for (var ks = Object.keys(p), i = 0; i < ks.length; ++i)\n                        if (p[ks[i]] != null)\n                            this[ks[i]] = p[ks[i]];\n            }\n\n            AnyList.prototype.value = $util.emptyArray;\n\n            AnyList.decode = function decode(r, l) {\n                if (!(r instanceof $Reader))\n                    r = $Reader.create(r);\n                var c = l === undefined ? r.len : r.pos + l, m = new $root.tensorflow.CollectionDef.AnyList();\n                while (r.pos < c) {\n                    var t = r.uint32();\n                    switch (t >>> 3) {\n                    case 1:\n                        if (!(m.value && m.value.length))\n                            m.value = [];\n                        m.value.push($root.tensorflow.Any.decode(r, r.uint32()));\n                        break;\n                    default:\n                        r.skipType(t & 7);\n                        break;\n                    }\n                }\n                return m;\n            };\n\n            return AnyList;\n        })();\n\n        return CollectionDef;\n    })();\n\n    tensorflow.SaverDef = (function() {\n\n        function SaverDef(p) {\n            if (p)\n                for (var ks = Object.keys(p), i = 0; i < ks.length; ++i)\n                    if (p[ks[i]] != null)\n                        this[ks[i]] = p[ks[i]];\n        }\n\n        SaverDef.prototype.filenameTensorName = \"\";\n        SaverDef.prototype.saveTensorName = \"\";\n        SaverDef.prototype.restoreOpName = \"\";\n        SaverDef.prototype.maxToKeep = 0;\n        SaverDef.prototype.sharded = false;\n        SaverDef.prototype.keepCheckpointEveryNHours = 0;\n        SaverDef.prototype.version = 0;\n\n        SaverDef.decode = function decode(r, l) {\n            if (!(r instanceof $Reader))\n                r = $Reader.create(r);\n            var c = l === undefined ? r.len : r.pos + l, m = new $root.tensorflow.SaverDef();\n            while (r.pos < c) {\n                var t = r.uint32();\n                switch (t >>> 3) {\n                case 1:\n                    m.filenameTensorName = r.string();\n                    break;\n                case 2:\n                    m.saveTensorName = r.string();\n                    break;\n                case 3:\n                    m.restoreOpName = r.string();\n                    break;\n                case 4:\n                    m.maxToKeep = r.int32();\n                    break;\n                case 5:\n                    m.sharded = r.bool();\n                    break;\n                case 6:\n                    m.keepCheckpointEveryNHours = r.float();\n                    break;\n                case 7:\n                    m.version = r.int32();\n                    break;\n                default:\n                    r.skipType(t & 7);\n                    break;\n                }\n            }\n            return m;\n        };\n\n        SaverDef.CheckpointFormatVersion = (function() {\n            const valuesById = {}, values = Object.create(valuesById);\n            values[valuesById[0] = \"LEGACY\"] = 0;\n            values[valuesById[1] = \"V1\"] = 1;\n            values[valuesById[2] = \"V2\"] = 2;\n            return values;\n        })();\n\n        return SaverDef;\n    })();\n\n    tensorflow.TensorInfo = (function() {\n\n        function TensorInfo(p) {\n            if (p)\n                for (var ks = Object.keys(p), i = 0; i < ks.length; ++i)\n                    if (p[ks[i]] != null)\n                        this[ks[i]] = p[ks[i]];\n        }\n\n        TensorInfo.prototype.name = \"\";\n        TensorInfo.prototype.cooSparse = null;\n        TensorInfo.prototype.dtype = 0;\n        TensorInfo.prototype.tensorShape = null;\n\n        let $oneOfFields;\n\n        Object.defineProperty(TensorInfo.prototype, \"encoding\", {\n            get: $util.oneOfGetter($oneOfFields = [\"name\", \"cooSparse\"]),\n            set: $util.oneOfSetter($oneOfFields)\n        });\n\n        TensorInfo.decode = function decode(r, l) {\n            if (!(r instanceof $Reader))\n                r = $Reader.create(r);\n            var c = l === undefined ? r.len : r.pos + l, m = new $root.tensorflow.TensorInfo();\n            while (r.pos < c) {\n                var t = r.uint32();\n                switch (t >>> 3) {\n                case 1:\n                    m.name = r.string();\n                    break;\n                case 4:\n                    m.cooSparse = $root.tensorflow.TensorInfo.CooSparse.decode(r, r.uint32());\n                    break;\n                case 2:\n                    m.dtype = r.int32();\n                    break;\n                case 3:\n                    m.tensorShape = $root.tensorflow.TensorShape.decode(r, r.uint32());\n                    break;\n                default:\n                    r.skipType(t & 7);\n                    break;\n                }\n            }\n            return m;\n        };\n\n        TensorInfo.CooSparse = (function() {\n\n            function CooSparse(p) {\n                if (p)\n                    for (var ks = Object.keys(p), i = 0; i < ks.length; ++i)\n                        if (p[ks[i]] != null)\n                            this[ks[i]] = p[ks[i]];\n            }\n\n            CooSparse.prototype.valuesTensorName = \"\";\n            CooSparse.prototype.indicesTensorName = \"\";\n            CooSparse.prototype.denseShapeTensorName = \"\";\n\n            CooSparse.decode = function decode(r, l) {\n                if (!(r instanceof $Reader))\n                    r = $Reader.create(r);\n                var c = l === undefined ? r.len : r.pos + l, m = new $root.tensorflow.TensorInfo.CooSparse();\n                while (r.pos < c) {\n                    var t = r.uint32();\n                    switch (t >>> 3) {\n                    case 1:\n                        m.valuesTensorName = r.string();\n                        break;\n                    case 2:\n                        m.indicesTensorName = r.string();\n                        break;\n                    case 3:\n                        m.denseShapeTensorName = r.string();\n                        break;\n                    default:\n                        r.skipType(t & 7);\n                        break;\n                    }\n                }\n                return m;\n            };\n\n            return CooSparse;\n        })();\n\n        return TensorInfo;\n    })();\n\n    tensorflow.SignatureDef = (function() {\n\n        function SignatureDef(p) {\n            this.inputs = {};\n            this.outputs = {};\n            if (p)\n                for (var ks = Object.keys(p), i = 0; i < ks.length; ++i)\n                    if (p[ks[i]] != null)\n                        this[ks[i]] = p[ks[i]];\n        }\n\n        SignatureDef.prototype.inputs = $util.emptyObject;\n        SignatureDef.prototype.outputs = $util.emptyObject;\n        SignatureDef.prototype.methodName = \"\";\n\n        SignatureDef.decode = function decode(r, l) {\n            if (!(r instanceof $Reader))\n                r = $Reader.create(r);\n            var c = l === undefined ? r.len : r.pos + l, m = new $root.tensorflow.SignatureDef(), k;\n            while (r.pos < c) {\n                var t = r.uint32();\n                switch (t >>> 3) {\n                case 1:\n                    r.skip().pos++;\n                    if (m.inputs === $util.emptyObject)\n                        m.inputs = {};\n                    k = r.string();\n                    r.pos++;\n                    m.inputs[k] = $root.tensorflow.TensorInfo.decode(r, r.uint32());\n                    break;\n                case 2:\n                    r.skip().pos++;\n                    if (m.outputs === $util.emptyObject)\n                        m.outputs = {};\n                    k = r.string();\n                    r.pos++;\n                    m.outputs[k] = $root.tensorflow.TensorInfo.decode(r, r.uint32());\n                    break;\n                case 3:\n                    m.methodName = r.string();\n                    break;\n                default:\n                    r.skipType(t & 7);\n                    break;\n                }\n            }\n            return m;\n        };\n\n        return SignatureDef;\n    })();\n\n    tensorflow.AssetFileDef = (function() {\n\n        function AssetFileDef(p) {\n            if (p)\n                for (var ks = Object.keys(p), i = 0; i < ks.length; ++i)\n                    if (p[ks[i]] != null)\n                        this[ks[i]] = p[ks[i]];\n        }\n\n        AssetFileDef.prototype.tensorInfo = null;\n        AssetFileDef.prototype.filename = \"\";\n\n        AssetFileDef.decode = function decode(r, l) {\n            if (!(r instanceof $Reader))\n                r = $Reader.create(r);\n            var c = l === undefined ? r.len : r.pos + l, m = new $root.tensorflow.AssetFileDef();\n            while (r.pos < c) {\n                var t = r.uint32();\n                switch (t >>> 3) {\n                case 1:\n                    m.tensorInfo = $root.tensorflow.TensorInfo.decode(r, r.uint32());\n                    break;\n                case 2:\n                    m.filename = r.string();\n                    break;\n                default:\n                    r.skipType(t & 7);\n                    break;\n                }\n            }\n            return m;\n        };\n\n        return AssetFileDef;\n    })();\n\n    tensorflow.OpDef = (function() {\n\n        function OpDef(p) {\n            this.inputArg = [];\n            this.outputArg = [];\n            this.attr = [];\n            if (p)\n                for (var ks = Object.keys(p), i = 0; i < ks.length; ++i)\n                    if (p[ks[i]] != null)\n                        this[ks[i]] = p[ks[i]];\n        }\n\n        OpDef.prototype.name = \"\";\n        OpDef.prototype.inputArg = $util.emptyArray;\n        OpDef.prototype.outputArg = $util.emptyArray;\n        OpDef.prototype.attr = $util.emptyArray;\n        OpDef.prototype.deprecation = null;\n        OpDef.prototype.summary = \"\";\n        OpDef.prototype.description = \"\";\n        OpDef.prototype.isCommutative = false;\n        OpDef.prototype.isAggregate = false;\n        OpDef.prototype.isStateful = false;\n        OpDef.prototype.allowsUninitializedInput = false;\n\n        OpDef.decode = function decode(r, l) {\n            if (!(r instanceof $Reader))\n                r = $Reader.create(r);\n            var c = l === undefined ? r.len : r.pos + l, m = new $root.tensorflow.OpDef();\n            while (r.pos < c) {\n                var t = r.uint32();\n                switch (t >>> 3) {\n                case 1:\n                    m.name = r.string();\n                    break;\n                case 2:\n                    if (!(m.inputArg && m.inputArg.length))\n                        m.inputArg = [];\n                    m.inputArg.push($root.tensorflow.OpDef.ArgDef.decode(r, r.uint32()));\n                    break;\n                case 3:\n                    if (!(m.outputArg && m.outputArg.length))\n                        m.outputArg = [];\n                    m.outputArg.push($root.tensorflow.OpDef.ArgDef.decode(r, r.uint32()));\n                    break;\n                case 4:\n                    if (!(m.attr && m.attr.length))\n                        m.attr = [];\n                    m.attr.push($root.tensorflow.OpDef.AttrDef.decode(r, r.uint32()));\n                    break;\n                case 8:\n                    m.deprecation = $root.tensorflow.OpDef.OpDeprecation.decode(r, r.uint32());\n                    break;\n                case 5:\n                    m.summary = r.string();\n                    break;\n                case 6:\n                    m.description = r.string();\n                    break;\n                case 18:\n                    m.isCommutative = r.bool();\n                    break;\n                case 16:\n                    m.isAggregate = r.bool();\n                    break;\n                case 17:\n                    m.isStateful = r.bool();\n                    break;\n                case 19:\n                    m.allowsUninitializedInput = r.bool();\n                    break;\n                default:\n                    r.skipType(t & 7);\n                    break;\n                }\n            }\n            return m;\n        };\n\n        OpDef.ArgDef = (function() {\n\n            function ArgDef(p) {\n                if (p)\n                    for (var ks = Object.keys(p), i = 0; i < ks.length; ++i)\n                        if (p[ks[i]] != null)\n                            this[ks[i]] = p[ks[i]];\n            }\n\n            ArgDef.prototype.name = \"\";\n            ArgDef.prototype.description = \"\";\n            ArgDef.prototype.type = 0;\n            ArgDef.prototype.typeAttr = \"\";\n            ArgDef.prototype.numberAttr = \"\";\n            ArgDef.prototype.typeListAttr = \"\";\n            ArgDef.prototype.isRef = false;\n\n            ArgDef.decode = function decode(r, l) {\n                if (!(r instanceof $Reader))\n                    r = $Reader.create(r);\n                var c = l === undefined ? r.len : r.pos + l, m = new $root.tensorflow.OpDef.ArgDef();\n                while (r.pos < c) {\n                    var t = r.uint32();\n                    switch (t >>> 3) {\n                    case 1:\n                        m.name = r.string();\n                        break;\n                    case 2:\n                        m.description = r.string();\n                        break;\n                    case 3:\n                        m.type = r.int32();\n                        break;\n                    case 4:\n                        m.typeAttr = r.string();\n                        break;\n                    case 5:\n                        m.numberAttr = r.string();\n                        break;\n                    case 6:\n                        m.typeListAttr = r.string();\n                        break;\n                    case 16:\n                        m.isRef = r.bool();\n                        break;\n                    default:\n                        r.skipType(t & 7);\n                        break;\n                    }\n                }\n                return m;\n            };\n\n            return ArgDef;\n        })();\n\n        OpDef.AttrDef = (function() {\n\n            function AttrDef(p) {\n                if (p)\n                    for (var ks = Object.keys(p), i = 0; i < ks.length; ++i)\n                        if (p[ks[i]] != null)\n                            this[ks[i]] = p[ks[i]];\n            }\n\n            AttrDef.prototype.name = \"\";\n            AttrDef.prototype.type = \"\";\n            AttrDef.prototype.defaultValue = null;\n            AttrDef.prototype.description = \"\";\n            AttrDef.prototype.hasMinimum = false;\n            AttrDef.prototype.minimum = $util.Long ? $util.Long.fromBits(0,0,false) : 0;\n            AttrDef.prototype.allowedValues = null;\n\n            AttrDef.decode = function decode(r, l) {\n                if (!(r instanceof $Reader))\n                    r = $Reader.create(r);\n                var c = l === undefined ? r.len : r.pos + l, m = new $root.tensorflow.OpDef.AttrDef();\n                while (r.pos < c) {\n                    var t = r.uint32();\n                    switch (t >>> 3) {\n                    case 1:\n                        m.name = r.string();\n                        break;\n                    case 2:\n                        m.type = r.string();\n                        break;\n                    case 3:\n                        m.defaultValue = $root.tensorflow.AttrValue.decode(r, r.uint32());\n                        break;\n                    case 4:\n                        m.description = r.string();\n                        break;\n                    case 5:\n                        m.hasMinimum = r.bool();\n                        break;\n                    case 6:\n                        m.minimum = r.int64();\n                        break;\n                    case 7:\n                        m.allowedValues = $root.tensorflow.AttrValue.decode(r, r.uint32());\n                        break;\n                    default:\n                        r.skipType(t & 7);\n                        break;\n                    }\n                }\n                return m;\n            };\n\n            return AttrDef;\n        })();\n\n        OpDef.OpDeprecation = (function() {\n\n            function OpDeprecation(p) {\n                if (p)\n                    for (var ks = Object.keys(p), i = 0; i < ks.length; ++i)\n                        if (p[ks[i]] != null)\n                            this[ks[i]] = p[ks[i]];\n            }\n\n            OpDeprecation.prototype.version = 0;\n            OpDeprecation.prototype.explanation = \"\";\n\n            OpDeprecation.decode = function decode(r, l) {\n                if (!(r instanceof $Reader))\n                    r = $Reader.create(r);\n                var c = l === undefined ? r.len : r.pos + l, m = new $root.tensorflow.OpDef.OpDeprecation();\n                while (r.pos < c) {\n                    var t = r.uint32();\n                    switch (t >>> 3) {\n                    case 1:\n                        m.version = r.int32();\n                        break;\n                    case 2:\n                        m.explanation = r.string();\n                        break;\n                    default:\n                        r.skipType(t & 7);\n                        break;\n                    }\n                }\n                return m;\n            };\n\n            return OpDeprecation;\n        })();\n\n        return OpDef;\n    })();\n\n    tensorflow.OpList = (function() {\n\n        function OpList(p) {\n            this.op = [];\n            if (p)\n                for (var ks = Object.keys(p), i = 0; i < ks.length; ++i)\n                    if (p[ks[i]] != null)\n                        this[ks[i]] = p[ks[i]];\n        }\n\n        OpList.prototype.op = $util.emptyArray;\n\n        OpList.decode = function decode(r, l) {\n            if (!(r instanceof $Reader))\n                r = $Reader.create(r);\n            var c = l === undefined ? r.len : r.pos + l, m = new $root.tensorflow.OpList();\n            while (r.pos < c) {\n                var t = r.uint32();\n                switch (t >>> 3) {\n                case 1:\n                    if (!(m.op && m.op.length))\n                        m.op = [];\n                    m.op.push($root.tensorflow.OpDef.decode(r, r.uint32()));\n                    break;\n                default:\n                    r.skipType(t & 7);\n                    break;\n                }\n            }\n            return m;\n        };\n\n        return OpList;\n    })();\n\n    tensorflow.MetaGraphDef = (function() {\n\n        function MetaGraphDef(p) {\n            this.collectionDef = {};\n            this.signatureDef = {};\n            this.assetFileDef = [];\n            if (p)\n                for (var ks = Object.keys(p), i = 0; i < ks.length; ++i)\n                    if (p[ks[i]] != null)\n                        this[ks[i]] = p[ks[i]];\n        }\n\n        MetaGraphDef.prototype.metaInfoDef = null;\n        MetaGraphDef.prototype.graphDef = null;\n        MetaGraphDef.prototype.saverDef = null;\n        MetaGraphDef.prototype.collectionDef = $util.emptyObject;\n        MetaGraphDef.prototype.signatureDef = $util.emptyObject;\n        MetaGraphDef.prototype.assetFileDef = $util.emptyArray;\n\n        MetaGraphDef.decode = function decode(r, l) {\n            if (!(r instanceof $Reader))\n                r = $Reader.create(r);\n            var c = l === undefined ? r.len : r.pos + l, m = new $root.tensorflow.MetaGraphDef(), k;\n            while (r.pos < c) {\n                var t = r.uint32();\n                switch (t >>> 3) {\n                case 1:\n                    m.metaInfoDef = $root.tensorflow.MetaGraphDef.MetaInfoDef.decode(r, r.uint32());\n                    break;\n                case 2:\n                    m.graphDef = $root.tensorflow.GraphDef.decode(r, r.uint32());\n                    break;\n                case 3:\n                    m.saverDef = $root.tensorflow.SaverDef.decode(r, r.uint32());\n                    break;\n                case 4:\n                    r.skip().pos++;\n                    if (m.collectionDef === $util.emptyObject)\n                        m.collectionDef = {};\n                    k = r.string();\n                    r.pos++;\n                    m.collectionDef[k] = $root.tensorflow.CollectionDef.decode(r, r.uint32());\n                    break;\n                case 5:\n                    r.skip().pos++;\n                    if (m.signatureDef === $util.emptyObject)\n                        m.signatureDef = {};\n                    k = r.string();\n                    r.pos++;\n                    m.signatureDef[k] = $root.tensorflow.SignatureDef.decode(r, r.uint32());\n                    break;\n                case 6:\n                    if (!(m.assetFileDef && m.assetFileDef.length))\n                        m.assetFileDef = [];\n                    m.assetFileDef.push($root.tensorflow.AssetFileDef.decode(r, r.uint32()));\n                    break;\n                default:\n                    r.skipType(t & 7);\n                    break;\n                }\n            }\n            return m;\n        };\n\n        MetaGraphDef.MetaInfoDef = (function() {\n\n            function MetaInfoDef(p) {\n                this.tags = [];\n                if (p)\n                    for (var ks = Object.keys(p), i = 0; i < ks.length; ++i)\n                        if (p[ks[i]] != null)\n                            this[ks[i]] = p[ks[i]];\n            }\n\n            MetaInfoDef.prototype.metaGraphVersion = \"\";\n            MetaInfoDef.prototype.strippedOpList = null;\n            MetaInfoDef.prototype.anyInfo = null;\n            MetaInfoDef.prototype.tags = $util.emptyArray;\n            MetaInfoDef.prototype.tensorflowVersion = \"\";\n            MetaInfoDef.prototype.tensorflowGitVersion = \"\";\n\n            MetaInfoDef.decode = function decode(r, l) {\n                if (!(r instanceof $Reader))\n                    r = $Reader.create(r);\n                var c = l === undefined ? r.len : r.pos + l, m = new $root.tensorflow.MetaGraphDef.MetaInfoDef();\n                while (r.pos < c) {\n                    var t = r.uint32();\n                    switch (t >>> 3) {\n                    case 1:\n                        m.metaGraphVersion = r.string();\n                        break;\n                    case 2:\n                        m.strippedOpList = $root.tensorflow.OpList.decode(r, r.uint32());\n                        break;\n                    case 3:\n                        m.anyInfo = $root.tensorflow.Any.decode(r, r.uint32());\n                        break;\n                    case 4:\n                        if (!(m.tags && m.tags.length))\n                            m.tags = [];\n                        m.tags.push(r.string());\n                        break;\n                    case 5:\n                        m.tensorflowVersion = r.string();\n                        break;\n                    case 6:\n                        m.tensorflowGitVersion = r.string();\n                        break;\n                    default:\n                        r.skipType(t & 7);\n                        break;\n                    }\n                }\n                return m;\n            };\n\n            return MetaInfoDef;\n        })();\n\n        return MetaGraphDef;\n    })();\n\n    tensorflow.SavedModel = (function() {\n\n        function SavedModel(p) {\n            this.metaGraphs = [];\n            if (p)\n                for (var ks = Object.keys(p), i = 0; i < ks.length; ++i)\n                    if (p[ks[i]] != null)\n                        this[ks[i]] = p[ks[i]];\n        }\n\n        SavedModel.prototype.savedModelSchemaVersion = $util.Long ? $util.Long.fromBits(0,0,false) : 0;\n        SavedModel.prototype.metaGraphs = $util.emptyArray;\n\n        SavedModel.decode = function decode(r, l) {\n            if (!(r instanceof $Reader))\n                r = $Reader.create(r);\n            var c = l === undefined ? r.len : r.pos + l, m = new $root.tensorflow.SavedModel();\n            while (r.pos < c) {\n                var t = r.uint32();\n                switch (t >>> 3) {\n                case 1:\n                    m.savedModelSchemaVersion = r.int64();\n                    break;\n                case 2:\n                    if (!(m.metaGraphs && m.metaGraphs.length))\n                        m.metaGraphs = [];\n                    m.metaGraphs.push($root.tensorflow.MetaGraphDef.decode(r, r.uint32()));\n                    break;\n                default:\n                    r.skipType(t & 7);\n                    break;\n                }\n            }\n            return m;\n        };\n\n        return SavedModel;\n    })();\n\n    tensorflow.FunctionDefLibrary = (function() {\n\n        function FunctionDefLibrary(p) {\n            this[\"function\"] = [];\n            this.gradient = [];\n            if (p)\n                for (var ks = Object.keys(p), i = 0; i < ks.length; ++i)\n                    if (p[ks[i]] != null)\n                        this[ks[i]] = p[ks[i]];\n        }\n\n        FunctionDefLibrary.prototype[\"function\"] = $util.emptyArray;\n        FunctionDefLibrary.prototype.gradient = $util.emptyArray;\n\n        FunctionDefLibrary.decode = function decode(r, l) {\n            if (!(r instanceof $Reader))\n                r = $Reader.create(r);\n            var c = l === undefined ? r.len : r.pos + l, m = new $root.tensorflow.FunctionDefLibrary();\n            while (r.pos < c) {\n                var t = r.uint32();\n                switch (t >>> 3) {\n                case 1:\n                    if (!(m[\"function\"] && m[\"function\"].length))\n                        m[\"function\"] = [];\n                    m[\"function\"].push($root.tensorflow.FunctionDef.decode(r, r.uint32()));\n                    break;\n                case 2:\n                    if (!(m.gradient && m.gradient.length))\n                        m.gradient = [];\n                    m.gradient.push($root.tensorflow.GradientDef.decode(r, r.uint32()));\n                    break;\n                default:\n                    r.skipType(t & 7);\n                    break;\n                }\n            }\n            return m;\n        };\n\n        return FunctionDefLibrary;\n    })();\n\n    tensorflow.FunctionDef = (function() {\n\n        function FunctionDef(p) {\n            this.attr = {};\n            this.nodeDef = [];\n            this.ret = {};\n            if (p)\n                for (var ks = Object.keys(p), i = 0; i < ks.length; ++i)\n                    if (p[ks[i]] != null)\n                        this[ks[i]] = p[ks[i]];\n        }\n\n        FunctionDef.prototype.signature = null;\n        FunctionDef.prototype.attr = $util.emptyObject;\n        FunctionDef.prototype.nodeDef = $util.emptyArray;\n        FunctionDef.prototype.ret = $util.emptyObject;\n\n        FunctionDef.decode = function decode(r, l) {\n            if (!(r instanceof $Reader))\n                r = $Reader.create(r);\n            var c = l === undefined ? r.len : r.pos + l, m = new $root.tensorflow.FunctionDef(), k;\n            while (r.pos < c) {\n                var t = r.uint32();\n                switch (t >>> 3) {\n                case 1:\n                    m.signature = $root.tensorflow.OpDef.decode(r, r.uint32());\n                    break;\n                case 5:\n                    r.skip().pos++;\n                    if (m.attr === $util.emptyObject)\n                        m.attr = {};\n                    k = r.string();\n                    r.pos++;\n                    m.attr[k] = $root.tensorflow.AttrValue.decode(r, r.uint32());\n                    break;\n                case 3:\n                    if (!(m.nodeDef && m.nodeDef.length))\n                        m.nodeDef = [];\n                    m.nodeDef.push($root.tensorflow.NodeDef.decode(r, r.uint32()));\n                    break;\n                case 4:\n                    r.skip().pos++;\n                    if (m.ret === $util.emptyObject)\n                        m.ret = {};\n                    k = r.string();\n                    r.pos++;\n                    m.ret[k] = r.string();\n                    break;\n                default:\n                    r.skipType(t & 7);\n                    break;\n                }\n            }\n            return m;\n        };\n\n        return FunctionDef;\n    })();\n\n    tensorflow.GradientDef = (function() {\n\n        function GradientDef(p) {\n            if (p)\n                for (var ks = Object.keys(p), i = 0; i < ks.length; ++i)\n                    if (p[ks[i]] != null)\n                        this[ks[i]] = p[ks[i]];\n        }\n\n        GradientDef.prototype.functionName = \"\";\n        GradientDef.prototype.gradientFunc = \"\";\n\n        GradientDef.decode = function decode(r, l) {\n            if (!(r instanceof $Reader))\n                r = $Reader.create(r);\n            var c = l === undefined ? r.len : r.pos + l, m = new $root.tensorflow.GradientDef();\n            while (r.pos < c) {\n                var t = r.uint32();\n                switch (t >>> 3) {\n                case 1:\n                    m.functionName = r.string();\n                    break;\n                case 2:\n                    m.gradientFunc = r.string();\n                    break;\n                default:\n                    r.skipType(t & 7);\n                    break;\n                }\n            }\n            return m;\n        };\n\n        return GradientDef;\n    })();\n\n    return tensorflow;\n})();\n\nexport { $root as default };\n","export function getParamValue(paramName, node, tensorMap, context) {\n    var param = node.params[paramName];\n    if (param && param.inputIndex !== undefined) {\n        if (param.type === 'tensor') {\n            return getTensor(node.inputNames[param.inputIndex], tensorMap, context);\n        }\n        if (param.type === 'tensors') {\n            var inputs = param.inputIndex === 0 ?\n                (param.inputParamLength === 0 ?\n                    node.inputNames :\n                    node.inputNames.slice(param.inputIndex, -param.inputParamLength)) :\n                node.inputNames.splice(param.inputIndex);\n            return inputs.map(function (name) { return getTensor(name, tensorMap, context); });\n        }\n        var data = Array.prototype.slice.call(getTensor(node.inputNames.slice(param.inputIndex)[0], tensorMap, context)\n            .dataSync());\n        return param.type === 'number' ? data[0] : data;\n    }\n    return param && param.value;\n}\nexport function getTensor(name, tensorsMap, context) {\n    var _a = parseNodeName(name), nodeName = _a[0], index = _a[1];\n    var contextId = context.currentContextIds.find(function (contextId) {\n        return !!tensorsMap[getNodeNameWithContextId(nodeName, contextId)];\n    });\n    return contextId !== undefined ?\n        tensorsMap[getNodeNameWithContextId(nodeName, contextId)][index] :\n        undefined;\n}\nexport function getNodeNameAndIndex(inputName, context) {\n    var _a = parseNodeName(inputName), nodeName = _a[0], index = _a[1];\n    return [\n        getNodeNameWithContextId(nodeName, context && context.currentContextId),\n        index\n    ];\n}\nfunction getNodeNameWithContextId(name, contextId) {\n    return !!contextId ? name + \"-\" + contextId : name;\n}\nexport function parseNodeName(name) {\n    var index = name.lastIndexOf(':');\n    if (index === -1)\n        return [name, 0];\n    var nodeName = name.substring(0, index);\n    return [nodeName, Number(name.substring(index + 1))];\n}\nexport function split(arr, size) {\n    var res = [];\n    for (var i = 0; i < arr.length; i += size) {\n        res.push(arr.slice(i, i + size));\n    }\n    return res;\n}\n//# sourceMappingURL=utils.js.map","import { tensorflow } from '../data/compiled_api';\nimport { getNodeNameAndIndex } from './executors/utils';\nimport arithmetic from './op_list/arithmetic.json';\nimport basicMath from './op_list/basic_math.json';\nimport control from './op_list/control.json';\nimport convolution from './op_list/convolution.json';\nimport creation from './op_list/creation.json';\nimport graph from './op_list/graph.json';\nimport image from './op_list/image.json';\nimport logical from './op_list/logical.json';\nimport matrices from './op_list/matrices.json';\nimport normalization from './op_list/normalization.json';\nimport reduction from './op_list/reduction.json';\nimport sliceJoin from './op_list/slice_join.json';\nimport transformation from './op_list/transformation.json';\nvar CONTROL_FLOW_OPS = ['Switch', 'Merge', 'Enter', 'Exit', 'NextIteration'];\nvar OperationMapper = (function () {\n    function OperationMapper() {\n        var mappersJson = arithmetic.concat(basicMath, control, convolution, creation, logical, image, graph, matrices, normalization, reduction, sliceJoin, transformation);\n        this.opMappers = mappersJson.reduce(function (map, mapper) {\n            map[mapper.tfOpName] = mapper;\n            return map;\n        }, {});\n    }\n    Object.defineProperty(OperationMapper, \"Instance\", {\n        get: function () {\n            return this._instance || (this._instance = new this());\n        },\n        enumerable: true,\n        configurable: true\n    });\n    OperationMapper.prototype.isControlFlow = function (node) {\n        return CONTROL_FLOW_OPS.some(function (op) { return op === node.op; });\n    };\n    OperationMapper.prototype.transformGraph = function (graph) {\n        var _this = this;\n        var tfNodes = graph.node;\n        var withControlFlow = false;\n        var placeholders = [];\n        var nodes = tfNodes.reduce(function (map, node) {\n            map[node.name] = _this.mapNode(node);\n            if (_this.isControlFlow(node))\n                withControlFlow = true;\n            if (node.op === 'Placeholder')\n                placeholders.push(map[node.name]);\n            return map;\n        }, {});\n        var inputs = [];\n        var outputs = [];\n        Object.keys(nodes).forEach(function (key) {\n            var node = nodes[key];\n            node.inputNames.forEach(function (name) {\n                var nodeName = getNodeNameAndIndex(name)[0];\n                node.inputs.push(nodes[nodeName]);\n                nodes[nodeName].children.push(node);\n            });\n            if (node.inputs.length === 0)\n                inputs.push(node);\n        });\n        Object.keys(nodes).forEach(function (key) {\n            var node = nodes[key];\n            if (node.children.length === 0)\n                outputs.push(node);\n        });\n        return { nodes: nodes, inputs: inputs, outputs: outputs, placeholders: placeholders, withControlFlow: withControlFlow };\n    };\n    OperationMapper.prototype.mapNode = function (node) {\n        var _this = this;\n        var mapper = this.opMappers[node.op];\n        if (mapper === undefined) {\n            throw new Error('Tensorflow Op is not supported: ' + node.op);\n        }\n        var newNode = {\n            name: node.name,\n            op: mapper.dlOpName,\n            category: mapper.category,\n            inputNames: (node.input ||\n                []).map(function (input) { return input.startsWith('^') ? input.substr(1) : input; }),\n            inputs: [],\n            children: [],\n            params: {}\n        };\n        if (!!mapper.params) {\n            newNode.params = mapper.params.reduce(function (map, param) {\n                var inputIndex = param.tfInputIndex;\n                var inputParamLength = param.tfInputParamLength;\n                var type = param.type;\n                var value = undefined;\n                if (inputIndex === undefined) {\n                    switch (param.type) {\n                        case 'string':\n                            value = _this.getStringParam(node.attr, param.tfParamName, param.defaultValue);\n                            if (value === undefined && !!param.tfParamNameDeprecated) {\n                                value = _this.getStringParam(node.attr, param.tfParamNameDeprecated, param.defaultValue);\n                            }\n                            break;\n                        case 'number':\n                            value = _this.getNumberParam(node.attr, param.tfParamName, param.defaultValue);\n                            if (value === undefined && !!param.tfParamNameDeprecated) {\n                                value = _this.getNumberParam(node.attr, param.tfParamNameDeprecated, param.defaultValue);\n                            }\n                            break;\n                        case 'number[]':\n                            value = _this.getNumericArrayParam(node.attr, param.tfParamName, param.defaultValue);\n                            if (value === undefined && !!param.tfParamNameDeprecated) {\n                                value = _this.getNumericArrayParam(node.attr, param.tfParamNameDeprecated, param.defaultValue);\n                            }\n                            break;\n                        case 'bool':\n                            value = _this.getBoolParam(node.attr, param.tfParamName, param.defaultValue);\n                            if (value === undefined && !!param.tfParamNameDeprecated) {\n                                value = _this.getBoolParam(node.attr, param.tfParamNameDeprecated, param.defaultValue);\n                            }\n                            break;\n                        case 'shape':\n                            value = _this.getTensorShapeParam(node.attr, param.tfParamName, param.defaultValue);\n                            if (value === undefined && !!param.tfParamNameDeprecated) {\n                                value = _this.getTensorShapeParam(node.attr, param.tfParamNameDeprecated, param.defaultValue);\n                            }\n                            break;\n                        case 'dtype':\n                            value = _this.getDtypeParam(node.attr, param.tfParamName, param.defaultValue);\n                            if (value === undefined && !!param.tfParamNameDeprecated) {\n                                value = _this.getDtypeParam(node.attr, param.tfParamNameDeprecated, param.defaultValue);\n                            }\n                            break;\n                        case 'tensor':\n                        case 'tensors':\n                            break;\n                        default:\n                            throw new Error(\"Unsupported param type: \" + param.type + \" for op: \" + node.op);\n                    }\n                }\n                map[param.dlParamName] = { value: value, inputIndex: inputIndex, type: type, inputParamLength: inputParamLength };\n                return map;\n            }, {});\n        }\n        return newNode;\n    };\n    OperationMapper.prototype.getStringParam = function (attrs, name, def, keepCase) {\n        if (keepCase === void 0) { keepCase = false; }\n        var param = attrs[name];\n        if (param !== undefined) {\n            var value = String.fromCharCode.apply(null, param.s);\n            return keepCase ? value : value.toLowerCase();\n        }\n        return def;\n    };\n    OperationMapper.prototype.getBoolParam = function (attrs, name, def) {\n        var param = attrs[name];\n        return param ? param.b : def;\n    };\n    OperationMapper.prototype.getNumberParam = function (attrs, name, def) {\n        var param = attrs[name];\n        var value = (param ? ((param.f !== undefined) ? param.f : param.i) : def);\n        return (typeof value === 'number') ? value : value['toInt']();\n    };\n    OperationMapper.prototype.getDtypeParam = function (attrs, name, def) {\n        var param = attrs[name];\n        if (param && param.type) {\n            switch (param.type) {\n                case tensorflow.DataType.DT_FLOAT:\n                    return 'float32';\n                case tensorflow.DataType.DT_INT32:\n                    return 'int32';\n                case tensorflow.DataType.DT_BOOL:\n                    return 'bool';\n                default:\n                    return def;\n            }\n        }\n        return def;\n    };\n    OperationMapper.prototype.getTensorShapeParam = function (attrs, name, def) {\n        var param = attrs[name];\n        if (param && param.shape) {\n            return param.shape.dim.map(function (dim) { return dim.size; });\n        }\n        return def;\n    };\n    OperationMapper.prototype.getNumericArrayParam = function (attrs, name, def) {\n        var param = attrs[name];\n        if (param) {\n            return ((param.list.f && param.list.f.length ? param.list.f :\n                param.list.i))\n                .map(function (v) { return (typeof v === 'number') ? v : v['toInt'](); });\n        }\n        return def;\n    };\n    return OperationMapper;\n}());\nexport { OperationMapper };\n//# sourceMappingURL=operation_mapper.js.map","import * as tfc from '@tensorflow/tfjs-core';\nimport { getParamValue } from './utils';\nexport var executeOp = function (node, tensorMap, context) {\n    switch (node.op) {\n        case 'add': {\n            return [tfc.add(getParamValue('a', node, tensorMap, context), getParamValue('b', node, tensorMap, context))];\n        }\n        case 'mod':\n            return [tfc.mod(getParamValue('a', node, tensorMap, context), getParamValue('b', node, tensorMap, context))];\n        case 'mul':\n            return [tfc.mul(getParamValue('a', node, tensorMap, context), getParamValue('b', node, tensorMap, context))];\n        case 'div': {\n            return [tfc.div(getParamValue('a', node, tensorMap, context), getParamValue('b', node, tensorMap, context))];\n        }\n        case 'sub': {\n            return [tfc.sub(getParamValue('a', node, tensorMap, context), getParamValue('b', node, tensorMap, context))];\n        }\n        case 'minimum': {\n            return [tfc.minimum(getParamValue('a', node, tensorMap, context), getParamValue('b', node, tensorMap, context))];\n        }\n        case 'maximum': {\n            return [tfc.maximum(getParamValue('a', node, tensorMap, context), getParamValue('b', node, tensorMap, context))];\n        }\n        case 'pow': {\n            return [tfc.pow(getParamValue('a', node, tensorMap, context), getParamValue('b', node, tensorMap, context))];\n        }\n        case 'squaredDifference': {\n            return [tfc.squaredDifference(getParamValue('a', node, tensorMap, context), getParamValue('b', node, tensorMap, context))];\n        }\n        default:\n            throw TypeError(\"Node type \" + node.op + \" is not implemented\");\n    }\n};\nexport var CATEGORY = 'arithmetic';\n//# sourceMappingURL=arithmetic_executor.js.map","import * as tfc from '@tensorflow/tfjs-core';\nimport { getParamValue, getTensor } from './utils';\nexport var executeOp = function (node, tensorMap, context) {\n    switch (node.op) {\n        case 'abs':\n            return [tfc.abs(getParamValue('x', node, tensorMap, context))];\n        case 'acos':\n            return [tfc.acos(getParamValue('x', node, tensorMap, context))];\n        case 'acosh':\n            return [tfc.acosh(getParamValue('x', node, tensorMap, context))];\n        case 'asin':\n            return [tfc.asin(getParamValue('x', node, tensorMap, context))];\n        case 'asinh':\n            return [tfc.asinh(getParamValue('x', node, tensorMap, context))];\n        case 'atan':\n            return [tfc.atan(getParamValue('x', node, tensorMap, context))];\n        case 'atanh':\n            return [tfc.atanh(getParamValue('x', node, tensorMap, context))];\n        case 'ceil':\n            return [tfc.ceil(getParamValue('x', node, tensorMap, context))];\n        case 'cos':\n            return [tfc.cos(getParamValue('x', node, tensorMap, context))];\n        case 'cosh':\n            return [tfc.cosh(getParamValue('x', node, tensorMap, context))];\n        case 'elu':\n            return [tfc.elu(getParamValue('x', node, tensorMap, context))];\n        case 'erf':\n            return [tfc.erf(getParamValue('x', node, tensorMap, context))];\n        case 'exp':\n            return [tfc.exp(getParamValue('x', node, tensorMap, context))];\n        case 'expm1': {\n            return [tfc.expm1(getParamValue('x', node, tensorMap, context))];\n        }\n        case 'floor':\n            return [tfc.floor(getParamValue('x', node, tensorMap, context))];\n        case 'log':\n            return [tfc.log(getParamValue('x', node, tensorMap, context))];\n        case 'log1p': {\n            return [tfc.log1p(getParamValue('x', node, tensorMap, context))];\n        }\n        case 'neg':\n            return [tfc.neg(getParamValue('x', node, tensorMap, context))];\n        case 'reciprocal': {\n            return [tfc.reciprocal(getParamValue('x', node, tensorMap, context))];\n        }\n        case 'relu':\n            return [tfc.relu(getParamValue('x', node, tensorMap, context))];\n        case 'round': {\n            return [tfc.round(getParamValue('x', node, tensorMap, context))];\n        }\n        case 'selu':\n            return [tfc.selu(getParamValue('x', node, tensorMap, context))];\n        case 'sigmoid':\n            return [tfc.sigmoid(getParamValue('x', node, tensorMap, context))];\n        case 'sin':\n            return [tfc.sin(getParamValue('x', node, tensorMap, context))];\n        case 'sign': {\n            return [tfc.sign(getParamValue('x', node, tensorMap, context))];\n        }\n        case 'sinh': {\n            return [tfc.sinh(getParamValue('x', node, tensorMap, context))];\n        }\n        case 'softplus': {\n            return [tfc.softplus(getParamValue('x', node, tensorMap, context))];\n        }\n        case 'sqrt': {\n            return [tfc.sqrt(getParamValue('x', node, tensorMap, context))];\n        }\n        case 'square': {\n            return [tfc.square(getParamValue('x', node, tensorMap, context))];\n        }\n        case 'tanh': {\n            return [tfc.tanh(getParamValue('x', node, tensorMap, context))];\n        }\n        case 'tan':\n            return [tfc.tan(getParamValue('x', node, tensorMap, context))];\n        case 'clipByValue':\n            return [tfc.clipByValue(getParamValue('x', node, tensorMap, context), getParamValue('clipValueMin', node, tensorMap, context), getParamValue('clipValueMax', node, tensorMap, context))];\n        case 'rsqrt':\n            return [tfc.div(tfc.scalar(1.0, 'float32'), tfc.sqrt(getTensor(node.inputNames[0], tensorMap, context)))];\n        default:\n            throw TypeError(\"Node type \" + node.op + \" is not implemented\");\n    }\n};\nexport var CATEGORY = 'basic_math';\n//# sourceMappingURL=basic_math_executor.js.map","var __awaiter = (this && this.__awaiter) || function (thisArg, _arguments, P, generator) {\n    return new (P || (P = Promise))(function (resolve, reject) {\n        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\n        function rejected(value) { try { step(generator[\"throw\"](value)); } catch (e) { reject(e); } }\n        function step(result) { result.done ? resolve(result.value) : new P(function (resolve) { resolve(result.value); }).then(fulfilled, rejected); }\n        step((generator = generator.apply(thisArg, _arguments || [])).next());\n    });\n};\nvar __generator = (this && this.__generator) || function (thisArg, body) {\n    var _ = { label: 0, sent: function() { if (t[0] & 1) throw t[1]; return t[1]; }, trys: [], ops: [] }, f, y, t, g;\n    return g = { next: verb(0), \"throw\": verb(1), \"return\": verb(2) }, typeof Symbol === \"function\" && (g[Symbol.iterator] = function() { return this; }), g;\n    function verb(n) { return function (v) { return step([n, v]); }; }\n    function step(op) {\n        if (f) throw new TypeError(\"Generator is already executing.\");\n        while (_) try {\n            if (f = 1, y && (t = y[op[0] & 2 ? \"return\" : op[0] ? \"throw\" : \"next\"]) && !(t = t.call(y, op[1])).done) return t;\n            if (y = 0, t) op = [0, t.value];\n            switch (op[0]) {\n                case 0: case 1: t = op; break;\n                case 4: _.label++; return { value: op[1], done: false };\n                case 5: _.label++; y = op[1]; op = [0]; continue;\n                case 7: op = _.ops.pop(); _.trys.pop(); continue;\n                default:\n                    if (!(t = _.trys, t = t.length > 0 && t[t.length - 1]) && (op[0] === 6 || op[0] === 2)) { _ = 0; continue; }\n                    if (op[0] === 3 && (!t || (op[1] > t[0] && op[1] < t[3]))) { _.label = op[1]; break; }\n                    if (op[0] === 6 && _.label < t[1]) { _.label = t[1]; t = op; break; }\n                    if (t && _.label < t[2]) { _.label = t[2]; _.ops.push(op); break; }\n                    if (t[2]) _.ops.pop();\n                    _.trys.pop(); continue;\n            }\n            op = body.call(thisArg, _);\n        } catch (e) { op = [6, e]; y = 0; } finally { f = t = 0; }\n        if (op[0] & 5) throw op[1]; return { value: op[0] ? op[1] : void 0, done: true };\n    }\n};\nimport { getParamValue, getTensor } from './utils';\nexport function executeOp(node, tensorMap, context) {\n    return __awaiter(this, void 0, void 0, function () {\n        var _a, pred, data_1, inputName, frameId, data, tensor, input;\n        return __generator(this, function (_b) {\n            switch (_b.label) {\n                case 0:\n                    _a = node.op;\n                    switch (_a) {\n                        case 'loopCond': return [3, 1];\n                        case 'switch': return [3, 2];\n                        case 'merge': return [3, 4];\n                        case 'enter': return [3, 5];\n                        case 'exit': return [3, 6];\n                        case 'nextIteration': return [3, 7];\n                    }\n                    return [3, 8];\n                case 1: return [2, [getParamValue('pred', node, tensorMap, context)]];\n                case 2:\n                    pred = getParamValue('pred', node, tensorMap, context);\n                    data_1 = getParamValue('data', node, tensorMap, context);\n                    return [4, pred.data()];\n                case 3: return [2, (_b.sent())[0] ? [undefined, data_1] : [data_1, undefined]];\n                case 4:\n                    inputName = node.inputNames.find(function (name) { return getTensor(name, tensorMap, context) !== undefined; });\n                    return [2, inputName ? [getTensor(inputName, tensorMap, context)] : undefined];\n                case 5:\n                    frameId = getParamValue('frameName', node, tensorMap, context);\n                    data = getParamValue('tensor', node, tensorMap, context);\n                    context.enterFrame(frameId);\n                    return [2, [data]];\n                case 6:\n                    tensor = getParamValue('tensor', node, tensorMap, context);\n                    context.exitFrame();\n                    return [2, [tensor]];\n                case 7:\n                    input = getParamValue('tensor', node, tensorMap, context);\n                    context.nextIteration();\n                    return [2, [input]];\n                case 8: throw TypeError(\"Node type \" + node.op + \" is not implemented\");\n            }\n        });\n    });\n}\nexport var CATEGORY = 'control';\n//# sourceMappingURL=control_executor.js.map","import * as tfc from '@tensorflow/tfjs-core';\nimport { getParamValue } from './utils';\nexport var executeOp = function (node, tensorMap, context) {\n    switch (node.op) {\n        case 'conv1d': {\n            var stride = getParamValue('stride', node, tensorMap, context);\n            var pad = getParamValue('pad', node, tensorMap, context);\n            var dataFormat = getParamValue('dataFormat', node, tensorMap, context)\n                .toUpperCase();\n            var dilation = getParamValue('dilation', node, tensorMap, context);\n            return [tfc.conv1d(getParamValue('x', node, tensorMap, context), getParamValue('filter', node, tensorMap, context), stride, pad, dataFormat, dilation)];\n        }\n        case 'conv2d': {\n            var stride = getParamValue('strides', node, tensorMap, context);\n            var pad = getParamValue('pad', node, tensorMap, context);\n            var dataFormat = getParamValue('dataFormat', node, tensorMap, context)\n                .toUpperCase();\n            var dilations = getParamValue('dilations', node, tensorMap, context);\n            return [tfc.conv2d(getParamValue('x', node, tensorMap, context), getParamValue('filter', node, tensorMap, context), [stride[1], stride[2]], pad, dataFormat, [dilations[0], dilations[1]])];\n        }\n        case 'conv2dTranspose': {\n            var shape = getParamValue('outputShape', node, tensorMap, context);\n            var stride = getParamValue('strides', node, tensorMap, context);\n            var pad = getParamValue('pad', node, tensorMap, context);\n            return [tfc.conv2dTranspose(getParamValue('x', node, tensorMap, context), getParamValue('filter', node, tensorMap, context), shape, [stride[1], stride[2]], pad)];\n        }\n        case 'depthwiseConv2d': {\n            var stride = getParamValue('strides', node, tensorMap, context);\n            var pad = getParamValue('pad', node, tensorMap, context);\n            var dilations = getParamValue('dilations', node, tensorMap, context);\n            var dataFormat = getParamValue('dataFormat', node, tensorMap, context)\n                .toUpperCase();\n            return [tfc.depthwiseConv2d(getParamValue('input', node, tensorMap, context), getParamValue('filter', node, tensorMap, context), [stride[1], stride[2]], pad, dataFormat, [dilations[0], dilations[1]])];\n        }\n        case 'avgPool': {\n            var stride = getParamValue('strides', node, tensorMap, context);\n            var pad = getParamValue('pad', node, tensorMap, context);\n            var kernelSize = getParamValue('kernelSize', node, tensorMap, context);\n            return [tfc.avgPool(getParamValue('x', node, tensorMap, context), [kernelSize[1], kernelSize[2]], [stride[1], stride[2]], pad)];\n        }\n        case 'maxPool': {\n            var stride = getParamValue('strides', node, tensorMap, context);\n            var pad = getParamValue('pad', node, tensorMap, context);\n            var kernelSize = getParamValue('kernelSize', node, tensorMap, context);\n            return [tfc.maxPool(getParamValue('x', node, tensorMap, context), [kernelSize[1], kernelSize[2]], [stride[1], stride[2]], pad)];\n        }\n        default:\n            throw TypeError(\"Node type \" + node.op + \" is not implemented\");\n    }\n};\nexport var CATEGORY = 'convolution';\n//# sourceMappingURL=convolution_executor.js.map","import * as tfc from '@tensorflow/tfjs-core';\nimport { getParamValue } from './utils';\nexport var executeOp = function (node, tensorMap, context) {\n    switch (node.op) {\n        case 'fill': {\n            var shape = getParamValue('shape', node, tensorMap, context);\n            var value = getParamValue('value', node, tensorMap, context);\n            return [tfc.fill(shape, value)];\n        }\n        case 'linspace': {\n            var start = getParamValue('start', node, tensorMap, context);\n            var stop_1 = getParamValue('stop', node, tensorMap, context);\n            var num = getParamValue('num', node, tensorMap, context);\n            return [tfc.linspace(start, stop_1, num)];\n        }\n        case 'oneHot': {\n            var indices = getParamValue('indices', node, tensorMap, context);\n            var depth = getParamValue('depth', node, tensorMap, context);\n            var onValue = getParamValue('onValue', node, tensorMap, context);\n            var offValue = getParamValue('offValue', node, tensorMap, context);\n            return [tfc.oneHot(indices, depth, onValue, offValue)];\n        }\n        case 'ones': {\n            return [tfc.ones(getParamValue('shape', node, tensorMap, context), getParamValue('dtype', node, tensorMap, context))];\n        }\n        case 'onesLike': {\n            return [tfc.onesLike(getParamValue('x', node, tensorMap, context))];\n        }\n        case 'randomUniform': {\n            return [tfc.randomUniform(getParamValue('shape', node, tensorMap, context), getParamValue('minval', node, tensorMap, context), getParamValue('maxval', node, tensorMap, context), getParamValue('dtype', node, tensorMap, context))];\n        }\n        case 'range': {\n            var start = getParamValue('start', node, tensorMap, context);\n            var stop_2 = getParamValue('stop', node, tensorMap, context);\n            var step = getParamValue('step', node, tensorMap, context);\n            return [tfc.range(start, stop_2, step, getParamValue('dtype', node, tensorMap, context))];\n        }\n        case 'truncatedNormal': {\n            var shape = getParamValue('shape', node, tensorMap, context);\n            var mean = getParamValue('mean', node, tensorMap, context);\n            var stdDev = getParamValue('stdDev', node, tensorMap, context);\n            var seed = getParamValue('seed', node, tensorMap, context);\n            return [tfc.truncatedNormal(shape, mean, stdDev, getParamValue('dtype', node, tensorMap, context), seed)];\n        }\n        case 'zeros': {\n            return [tfc.zeros(getParamValue('shape', node, tensorMap, context), getParamValue('dtype', node, tensorMap, context))];\n        }\n        case 'zerosLike': {\n            return [tfc.zerosLike(getParamValue('x', node, tensorMap, context))];\n        }\n        default:\n            throw TypeError(\"Node type \" + node.op + \" is not implemented\");\n    }\n};\nexport var CATEGORY = 'creation';\n//# sourceMappingURL=creation_executor.js.map","import * as tfc from '@tensorflow/tfjs-core';\nimport { getParamValue, getTensor } from './utils';\nexport var executeOp = function (node, tensorMap, context) {\n    switch (node.op) {\n        case 'const': {\n            return tensorMap[node.name];\n        }\n        case 'placeholder':\n            var def = getParamValue('default', node, tensorMap, context);\n            return [getTensor(node.name, tensorMap, context) || def];\n        case 'identity':\n        case 'stopGradient':\n        case 'fakeQuantWithMinMaxVars':\n            return [getParamValue('x', node, tensorMap, context)];\n        case 'snapshot':\n            var snapshot = getParamValue('x', node, tensorMap, context);\n            return [snapshot.clone()];\n        case 'shape':\n            return [tfc.tensor1d(getParamValue('x', node, tensorMap, context).shape, 'int32')];\n        case 'noop':\n            return [];\n        case 'print':\n            var input = getParamValue('x', node, tensorMap, context);\n            var data = getParamValue('data', node, tensorMap, context);\n            var message = getParamValue('message', node, tensorMap, context);\n            var summarize = getParamValue('summarize', node, tensorMap, context);\n            console.warn('The graph has a tf.print() operation,' +\n                'usually used for debugging, which slows down performance.');\n            console.log(message);\n            for (var i = 0; i < data.length; i++) {\n                console.log(Array.prototype.slice.call(data[0].dataSync()).slice(0, summarize));\n            }\n            return [input];\n        default:\n            throw TypeError(\"Node type \" + node.op + \" is not implemented\");\n    }\n};\nexport var CATEGORY = 'graph';\n//# sourceMappingURL=graph_executor.js.map","import * as tfc from '@tensorflow/tfjs-core';\nimport { getParamValue } from './utils';\nexport var executeOp = function (node, tensorMap, context) {\n    switch (node.op) {\n        case 'resizeBilinear': {\n            var images = getParamValue('images', node, tensorMap, context);\n            var size = getParamValue('size', node, tensorMap, context);\n            var alignCorners = getParamValue('alignCorners', node, tensorMap, context);\n            return [tfc.image.resizeBilinear(images, [size[0], size[1]], alignCorners)];\n        }\n        default:\n            throw TypeError(\"Node type \" + node.op + \" is not implemented\");\n    }\n};\nexport var CATEGORY = 'image';\n//# sourceMappingURL=image_executor.js.map","import * as tfc from '@tensorflow/tfjs-core';\nimport { getParamValue } from './utils';\nexport var executeOp = function (node, tensorMap, context) {\n    switch (node.op) {\n        case 'equal': {\n            return [tfc.equal(getParamValue('a', node, tensorMap, context), getParamValue('b', node, tensorMap, context))];\n        }\n        case 'notEqual': {\n            return [tfc.notEqual(getParamValue('a', node, tensorMap, context), getParamValue('b', node, tensorMap, context))];\n        }\n        case 'greater': {\n            return [tfc.greater(getParamValue('a', node, tensorMap, context), getParamValue('b', node, tensorMap, context))];\n        }\n        case 'greaterEqual': {\n            return [tfc.greaterEqual(getParamValue('a', node, tensorMap, context), getParamValue('b', node, tensorMap, context))];\n        }\n        case 'less': {\n            return [tfc.less(getParamValue('a', node, tensorMap, context), getParamValue('b', node, tensorMap, context))];\n        }\n        case 'lessEqual': {\n            return [tfc.lessEqual(getParamValue('a', node, tensorMap, context), getParamValue('b', node, tensorMap, context))];\n        }\n        case 'logicalAnd': {\n            return [tfc.logicalAnd(getParamValue('a', node, tensorMap, context), getParamValue('b', node, tensorMap, context))];\n        }\n        case 'logicalNot': {\n            return [tfc.logicalNot(getParamValue('a', node, tensorMap, context))];\n        }\n        case 'logicalOr': {\n            return [tfc.logicalOr(getParamValue('a', node, tensorMap, context), getParamValue('b', node, tensorMap, context))];\n        }\n        case 'where': {\n            return [tfc.where(getParamValue('condition', node, tensorMap, context), getParamValue('a', node, tensorMap, context), getParamValue('b', node, tensorMap, context))];\n        }\n        default:\n            throw TypeError(\"Node type \" + node.op + \" is not implemented\");\n    }\n};\nexport var CATEGORY = 'logical';\n//# sourceMappingURL=logical_executor.js.map","import * as tfc from '@tensorflow/tfjs-core';\nimport { getParamValue } from './utils';\nexport var executeOp = function (node, tensorMap, context) {\n    switch (node.op) {\n        case 'matMul':\n            return [tfc.matMul(getParamValue('a', node, tensorMap, context), getParamValue('b', node, tensorMap, context), getParamValue('transposeA', node, tensorMap, context), getParamValue('transposeB', node, tensorMap, context))];\n        case 'transpose':\n            return [tfc.transpose(getParamValue('x', node, tensorMap, context), getParamValue('perm', node, tensorMap, context))];\n        default:\n            throw TypeError(\"Node type \" + node.op + \" is not implemented\");\n    }\n};\nexport var CATEGORY = 'matrices';\n//# sourceMappingURL=matrices_executor.js.map","import * as tfc from '@tensorflow/tfjs-core';\nimport { getParamValue } from './utils';\nexport var executeOp = function (node, tensorMap, context) {\n    switch (node.op) {\n        case 'batchNormalization': {\n            return [tfc.batchNormalization(getParamValue('x', node, tensorMap, context), getParamValue('mean', node, tensorMap, context), getParamValue('variance', node, tensorMap, context), getParamValue('epsilon', node, tensorMap, context), getParamValue('scale', node, tensorMap, context), getParamValue('offset', node, tensorMap, context))];\n        }\n        case 'localResponseNormalization': {\n            return [tfc.localResponseNormalization(getParamValue('x', node, tensorMap, context), getParamValue('radius', node, tensorMap, context), getParamValue('bias', node, tensorMap, context), getParamValue('alpha', node, tensorMap, context), getParamValue('beta', node, tensorMap, context))];\n        }\n        case 'softmax': {\n            return [tfc.softmax(getParamValue('x', node, tensorMap, context))];\n        }\n        default:\n            throw TypeError(\"Node type \" + node.op + \" is not implemented\");\n    }\n};\nexport var CATEGORY = 'normalization';\n//# sourceMappingURL=normalization_executor.js.map","import * as tfc from '@tensorflow/tfjs-core';\nimport { getParamValue } from './utils';\nexport var executeOp = function (node, tensorMap, context) {\n    switch (node.op) {\n        case 'max': {\n            var axis = getParamValue('axis', node, tensorMap, context);\n            var keepDims = getParamValue('keepDims', node, tensorMap, context);\n            return [tfc.max(getParamValue('x', node, tensorMap, context), axis, keepDims)];\n        }\n        case 'mean': {\n            var axis = getParamValue('axis', node, tensorMap, context);\n            var keepDims = getParamValue('keepDims', node, tensorMap, context);\n            return [tfc.mean(getParamValue('x', node, tensorMap, context), axis, keepDims)];\n        }\n        case 'min': {\n            var axis = getParamValue('axis', node, tensorMap, context);\n            var keepDims = getParamValue('keepDims', node, tensorMap, context);\n            return [tfc.min(getParamValue('x', node, tensorMap, context), axis, keepDims)];\n        }\n        case 'sum': {\n            var axis = getParamValue('axis', node, tensorMap, context);\n            var keepDims = getParamValue('keepDims', node, tensorMap, context);\n            return [tfc.sum(getParamValue('x', node, tensorMap, context), axis, keepDims)];\n        }\n        case 'argMax': {\n            var axis = getParamValue('axis', node, tensorMap, context);\n            return [tfc.argMax(getParamValue('x', node, tensorMap, context), axis)];\n        }\n        case 'argMin': {\n            var axis = getParamValue('axis', node, tensorMap, context);\n            return [tfc.argMin(getParamValue('x', node, tensorMap, context), axis)];\n        }\n        default:\n            throw TypeError(\"Node type \" + node.op + \" is not implemented\");\n    }\n};\nexport var CATEGORY = 'reduction';\n//# sourceMappingURL=reduction_executor.js.map","import * as tfc from '@tensorflow/tfjs-core';\nimport { getParamValue } from './utils';\nexport var executeOp = function (node, tensorMap, context) {\n    switch (node.op) {\n        case 'concat': {\n            var axis = getParamValue('axis', node, tensorMap, context);\n            var inputs = getParamValue('tensors', node, tensorMap, context);\n            return [tfc.concat(inputs, axis)];\n        }\n        case 'gather': {\n            var axis = getParamValue('axis', node, tensorMap, context);\n            var input = getParamValue('x', node, tensorMap, context);\n            var indices = getParamValue('indices', node, tensorMap, context);\n            return [tfc.gather(input, indices, axis)];\n        }\n        case 'reverse': {\n            var axis = getParamValue('axis', node, tensorMap, context);\n            var input = getParamValue('x', node, tensorMap, context);\n            return [tfc.reverse(input, axis)];\n        }\n        case 'slice': {\n            var begin = getParamValue('begin', node, tensorMap, context);\n            var size = getParamValue('size', node, tensorMap, context);\n            return [tfc.slice(getParamValue('x', node, tensorMap, context), begin, size)];\n        }\n        case 'stridedSlice': {\n            var begin = getParamValue('begin', node, tensorMap, context);\n            var end = getParamValue('end', node, tensorMap, context);\n            var strides = getParamValue('strides', node, tensorMap, context);\n            var beginMask = getParamValue('beginMask', node, tensorMap, context);\n            var endMask = getParamValue('endMask', node, tensorMap, context);\n            return [tfc.stridedSlice(getParamValue('x', node, tensorMap, context), begin, end, strides, beginMask, endMask)];\n        }\n        case 'stack': {\n            return tfc.tidy(function () {\n                var axis = getParamValue('axis', node, tensorMap, context);\n                var tensors = getParamValue('tensors', node, tensorMap, context);\n                var shape = tensors[0].shape;\n                var squeezedShape = tensors[0].squeeze().shape;\n                var mapped = tensors.map(function (tensor) {\n                    var sameShape = tfc.util.arraysEqual(tensor.shape, shape);\n                    if (!sameShape &&\n                        !tfc.util.arraysEqual(tensor.squeeze().shape, squeezedShape)) {\n                        throw new Error('the input tensors shape does not match');\n                    }\n                    return sameShape ? tensor : tensor.reshape(shape);\n                });\n                return [tfc.stack(mapped, axis)];\n            });\n        }\n        case 'tile': {\n            var reps = getParamValue('reps', node, tensorMap, context);\n            return [tfc.tile(getParamValue('x', node, tensorMap, context), reps)];\n        }\n        case 'split': {\n            var axis = getParamValue('axis', node, tensorMap, context);\n            var numOrSizeSplits = getParamValue('numOrSizeSplits', node, tensorMap, context);\n            return tfc.split(getParamValue('x', node, tensorMap, context), numOrSizeSplits, axis);\n        }\n        default:\n            throw TypeError(\"Node type \" + node.op + \" is not implemented\");\n    }\n};\nexport var CATEGORY = 'slice_join';\n//# sourceMappingURL=slice_join_executor.js.map","import * as tfc from '@tensorflow/tfjs-core';\nimport { getParamValue, split } from './utils';\nexport var executeOp = function (node, tensorMap, context) {\n    switch (node.op) {\n        case 'cast': {\n            return [tfc.cast(getParamValue('x', node, tensorMap, context), getParamValue('dtype', node, tensorMap, context))];\n        }\n        case 'expandDims': {\n            var axis = node.params['axis'].value;\n            return [tfc.expandDims(getParamValue('x', node, tensorMap, context), axis)];\n        }\n        case 'squeeze': {\n            var axis = node.params['axis'].value;\n            return [tfc.squeeze(getParamValue('x', node, tensorMap, context), axis)];\n        }\n        case 'reshape': {\n            return [tfc.reshape(getParamValue('x', node, tensorMap, context), getParamValue('shape', node, tensorMap, context))];\n        }\n        case 'pad': {\n            return [tfc.pad(getParamValue('x', node, tensorMap, context), split(getParamValue('padding', node, tensorMap, context), 2), getParamValue('constantValue', node, tensorMap, context))];\n        }\n        default:\n            throw TypeError(\"Node type \" + node.op + \" is not implemented\");\n    }\n};\nexport var CATEGORY = 'transformation';\n//# sourceMappingURL=transformation_executor.js.map","import * as arithmetic from './executors/arithmetic_executor';\nimport * as basicMath from './executors/basic_math_executor';\nimport * as control from './executors/control_executor';\nimport * as convolution from './executors/convolution_executor';\nimport * as creation from './executors/creation_executor';\nimport * as graph from './executors/graph_executor';\nimport * as image from './executors/image_executor';\nimport * as logical from './executors/logical_executor';\nimport * as matrices from './executors/matrices_executor';\nimport * as normalization from './executors/normalization_executor';\nimport * as reduction from './executors/reduction_executor';\nimport * as sliceJoin from './executors/slice_join_executor';\nimport * as transformation from './executors/transformation_executor';\nexport function executeOp(node, tensorMap, context) {\n    switch (node.category) {\n        case 'arithmetic':\n            return arithmetic.executeOp(node, tensorMap, context);\n        case 'basic_math':\n            return basicMath.executeOp(node, tensorMap, context);\n        case 'control':\n            return control.executeOp(node, tensorMap, context);\n        case 'convolution':\n            return convolution.executeOp(node, tensorMap, context);\n        case 'creation':\n            return creation.executeOp(node, tensorMap, context);\n        case 'image':\n            return image.executeOp(node, tensorMap, context);\n        case 'graph':\n            return graph.executeOp(node, tensorMap, context);\n        case 'logical':\n            return logical.executeOp(node, tensorMap, context);\n        case 'matrices':\n            return matrices.executeOp(node, tensorMap, context);\n        case 'normalization':\n            return normalization.executeOp(node, tensorMap, context);\n        case 'reduction':\n            return reduction.executeOp(node, tensorMap, context);\n        case 'slice_join':\n            return sliceJoin.executeOp(node, tensorMap, context);\n        case 'transformation':\n            return transformation.executeOp(node, tensorMap, context);\n        default:\n            throw TypeError(\"Node type \" + node.op + \" is not implemented\");\n    }\n}\n//# sourceMappingURL=operation_executor.js.map","var ExecutionContext = (function () {\n    function ExecutionContext(weightMap) {\n        this.weightMap = weightMap;\n        this.rootContext = { id: 0, frameName: '', iterationId: 0 };\n        this.contexts = [this.rootContext];\n        this.lastId = 0;\n        this.generateCurrentContextIds();\n    }\n    ExecutionContext.prototype.newFrame = function (id, frameName) {\n        return { id: id, frameName: frameName, iterationId: 0 };\n    };\n    Object.defineProperty(ExecutionContext.prototype, \"currentContext\", {\n        get: function () {\n            return this.contexts;\n        },\n        set: function (contexts) {\n            if (this.contexts !== contexts) {\n                this.contexts = contexts;\n                this.generateCurrentContextIds();\n            }\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(ExecutionContext.prototype, \"currentContextId\", {\n        get: function () {\n            return this._currentContextIds[0];\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(ExecutionContext.prototype, \"currentContextIds\", {\n        get: function () {\n            return this._currentContextIds;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    ExecutionContext.prototype.generateCurrentContextIds = function () {\n        var names = [];\n        for (var i = 0; i < this.contexts.length - 1; i++) {\n            var contexts = this.contexts.slice(0, this.contexts.length - i);\n            names.push(this.contextIdforContexts(contexts));\n        }\n        names.push('');\n        this._currentContextIds = names;\n    };\n    ExecutionContext.prototype.contextIdforContexts = function (contexts) {\n        return contexts ?\n            contexts\n                .map(function (context) { return (context.id === 0 && context.iterationId === 0) ?\n                '' :\n                context.frameName + \"-\" + context.iterationId; })\n                .join('/') :\n            '';\n    };\n    ExecutionContext.prototype.enterFrame = function (frameId) {\n        if (this.contexts) {\n            this.lastId++;\n            this.contexts = this.contexts.slice();\n            this.contexts.push(this.newFrame(this.lastId, frameId));\n            this._currentContextIds.unshift(this.contextIdforContexts(this.contexts));\n        }\n    };\n    ExecutionContext.prototype.exitFrame = function () {\n        if (this.contexts && this.contexts.length > 1) {\n            this.contexts = this.contexts.slice();\n            this.contexts.splice(-1);\n            this.currentContextIds.shift();\n        }\n        else {\n            throw new Error('Cannot exit frame, the context is empty');\n        }\n    };\n    ExecutionContext.prototype.nextIteration = function () {\n        if (this.contexts && this.contexts.length > 0) {\n            this.contexts = this.contexts.slice();\n            this.lastId++;\n            var context = Object.assign({}, this.contexts[this.contexts.length - 1]);\n            context.iterationId += 1;\n            context.id = this.lastId;\n            this.contexts.splice(-1, 1, context);\n            this._currentContextIds.splice(0, 1, this.contextIdforContexts(this.contexts));\n        }\n        else {\n            throw new Error('Cannot increase frame iteration, the context is empty');\n        }\n    };\n    ExecutionContext.prototype.getWeight = function (name) {\n        return this.weightMap[name];\n    };\n    return ExecutionContext;\n}());\nexport { ExecutionContext };\n//# sourceMappingURL=execution_context.js.map","var __assign = (this && this.__assign) || Object.assign || function(t) {\n    for (var s, i = 1, n = arguments.length; i < n; i++) {\n        s = arguments[i];\n        for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))\n            t[p] = s[p];\n    }\n    return t;\n};\nvar __awaiter = (this && this.__awaiter) || function (thisArg, _arguments, P, generator) {\n    return new (P || (P = Promise))(function (resolve, reject) {\n        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\n        function rejected(value) { try { step(generator[\"throw\"](value)); } catch (e) { reject(e); } }\n        function step(result) { result.done ? resolve(result.value) : new P(function (resolve) { resolve(result.value); }).then(fulfilled, rejected); }\n        step((generator = generator.apply(thisArg, _arguments || [])).next());\n    });\n};\nvar __generator = (this && this.__generator) || function (thisArg, body) {\n    var _ = { label: 0, sent: function() { if (t[0] & 1) throw t[1]; return t[1]; }, trys: [], ops: [] }, f, y, t, g;\n    return g = { next: verb(0), \"throw\": verb(1), \"return\": verb(2) }, typeof Symbol === \"function\" && (g[Symbol.iterator] = function() { return this; }), g;\n    function verb(n) { return function (v) { return step([n, v]); }; }\n    function step(op) {\n        if (f) throw new TypeError(\"Generator is already executing.\");\n        while (_) try {\n            if (f = 1, y && (t = y[op[0] & 2 ? \"return\" : op[0] ? \"throw\" : \"next\"]) && !(t = t.call(y, op[1])).done) return t;\n            if (y = 0, t) op = [0, t.value];\n            switch (op[0]) {\n                case 0: case 1: t = op; break;\n                case 4: _.label++; return { value: op[1], done: false };\n                case 5: _.label++; y = op[1]; op = [0]; continue;\n                case 7: op = _.ops.pop(); _.trys.pop(); continue;\n                default:\n                    if (!(t = _.trys, t = t.length > 0 && t[t.length - 1]) && (op[0] === 6 || op[0] === 2)) { _ = 0; continue; }\n                    if (op[0] === 3 && (!t || (op[1] > t[0] && op[1] < t[3]))) { _.label = op[1]; break; }\n                    if (op[0] === 6 && _.label < t[1]) { _.label = t[1]; t = op; break; }\n                    if (t && _.label < t[2]) { _.label = t[2]; _.ops.push(op); break; }\n                    if (t[2]) _.ops.pop();\n                    _.trys.pop(); continue;\n            }\n            op = body.call(thisArg, _);\n        } catch (e) { op = [6, e]; y = 0; } finally { f = t = 0; }\n        if (op[0] & 5) throw op[1]; return { value: op[0] ? op[1] : void 0, done: true };\n    }\n};\nimport { tidy } from '@tensorflow/tfjs-core';\nimport { getNodeNameAndIndex, getTensor } from '../operations/executors/utils';\nimport { executeOp } from '../operations/operation_executor';\nimport { ExecutionContext } from './execution_context';\nvar GraphExecutor = (function () {\n    function GraphExecutor(graph) {\n        this.graph = graph;\n        this.compiledOrder = [];\n        this._weightMap = {};\n        this.placeholders = graph.placeholders.map(function (node) { return node.name; });\n        this.outputs = graph.outputs.map(function (node) { return node.name; });\n        this.compile();\n    }\n    Object.defineProperty(GraphExecutor.prototype, \"weightMap\", {\n        get: function () {\n            return this._weightMap;\n        },\n        set: function (weightMap) {\n            var weightIds = Object.keys(weightMap).map(function (key) { return weightMap[key].map(function (tensor) { return tensor.id; }); });\n            this.weightIds = [].concat.apply([], weightIds);\n            this._weightMap = weightMap;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(GraphExecutor.prototype, \"inputNodes\", {\n        get: function () {\n            return this.placeholders;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(GraphExecutor.prototype, \"outputNodes\", {\n        get: function () {\n            return this.outputs;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(GraphExecutor.prototype, \"isControlFlowModel\", {\n        get: function () {\n            return this.graph.withControlFlow;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    GraphExecutor.prototype.compile = function () {\n        if (this.graph.withControlFlow) {\n            return;\n        }\n        var stack = this.graph.inputs.slice();\n        var visited = {};\n        while (stack.length > 0) {\n            var node = stack.pop();\n            visited[node.name] = true;\n            this.compiledOrder.push(node);\n            node.children.forEach(function (childNode) {\n                if (!visited[childNode.name] && childNode.inputNames.every(function (name) {\n                    var nodeName = getNodeNameAndIndex(name)[0];\n                    return visited[nodeName];\n                })) {\n                    stack.push(childNode);\n                }\n            });\n        }\n    };\n    GraphExecutor.prototype.execute = function (inputs, outputs) {\n        var _this = this;\n        this.checkInput(inputs);\n        var result = tidy(function () {\n            var context = new ExecutionContext(_this._weightMap);\n            var tensors = _this.compiledOrder.reduce(function (map, node) {\n                map[node.name] = executeOp(node, map, context);\n                return map;\n            }, __assign({}, _this.weightMap, inputs));\n            return _this.findOutputs(tensors, context, outputs);\n        });\n        return result;\n    };\n    GraphExecutor.prototype.executeAsync = function (inputs, outputs) {\n        return __awaiter(this, void 0, void 0, function () {\n            var _this = this;\n            var context, tensors, results, outputIds, inputIdArray, inputIds;\n            return __generator(this, function (_a) {\n                switch (_a.label) {\n                    case 0:\n                        context = new ExecutionContext(this._weightMap);\n                        return [4, this.executeWithControlFlow(inputs, context)];\n                    case 1:\n                        tensors = _a.sent();\n                        results = this.findOutputs(tensors, context, outputs);\n                        outputIds = Object.keys(results).map(function (key) { return results[key].id; });\n                        inputIdArray = Object.keys(inputs).map(function (key) { return inputs[key].map(function (input) { return input.id; }); });\n                        inputIds = [].concat.apply([], inputIdArray);\n                        Object.keys(tensors).forEach(function (key) {\n                            var tensorArray = tensors[key];\n                            tensorArray.forEach(function (tensor) {\n                                if (tensor && outputIds.indexOf(tensor.id) === -1 &&\n                                    inputIds.indexOf(tensor.id) === -1 &&\n                                    _this.weightIds.indexOf(tensor.id) === -1) {\n                                    tensor.dispose();\n                                }\n                            });\n                        });\n                        return [2, results];\n                }\n            });\n        });\n    };\n    GraphExecutor.prototype.executeWithControlFlow = function (inputs, context) {\n        return __awaiter(this, void 0, void 0, function () {\n            var stack, tensorMap, added, item, tensors, nodeName, _a, _b;\n            return __generator(this, function (_c) {\n                switch (_c.label) {\n                    case 0:\n                        stack = this.graph.inputs.map(function (node) {\n                            return { node: node, contexts: context.currentContext };\n                        });\n                        tensorMap = __assign({}, this.weightMap, inputs);\n                        added = {};\n                        _c.label = 1;\n                    case 1:\n                        if (!(stack.length > 0)) return [3, 3];\n                        item = stack.pop();\n                        context.currentContext = item.contexts;\n                        tensors = executeOp(item.node, tensorMap, context);\n                        nodeName = getNodeNameAndIndex(item.node.name, context)[0];\n                        _a = tensorMap;\n                        _b = nodeName;\n                        return [4, tensors];\n                    case 2:\n                        _a[_b] = _c.sent();\n                        item.node.children.forEach(function (childNode) {\n                            var nodeName = getNodeNameAndIndex(childNode.name, context)[0];\n                            if (!added[nodeName]) {\n                                if (childNode.op === 'merge') {\n                                    if (childNode.inputNames.some(function (name) {\n                                        return !!getTensor(name, tensorMap, context);\n                                    })) {\n                                        added[nodeName] = true;\n                                        stack.push({ contexts: context.currentContext, node: childNode });\n                                    }\n                                }\n                                else if (childNode.inputNames.every(function (name) {\n                                    return !!getTensor(name, tensorMap, context);\n                                })) {\n                                    added[nodeName] = true;\n                                    stack.push({ contexts: context.currentContext, node: childNode });\n                                }\n                            }\n                        });\n                        return [3, 1];\n                    case 3: return [2, tensorMap];\n                }\n            });\n        });\n    };\n    GraphExecutor.prototype.findOutputs = function (tensorMap, context, outputs) {\n        if (outputs && !(outputs instanceof Array)) {\n            outputs = [outputs];\n        }\n        var requestedOutputs = (outputs || this.graph.outputs.map(function (node) { return node.name; }));\n        return requestedOutputs.reduce(function (map, name) {\n            map[name] = getTensor(name, tensorMap, context);\n            return map;\n        }, {});\n    };\n    GraphExecutor.prototype.dispose = function () {\n        var _this = this;\n        Object.keys(this.weightMap)\n            .forEach(function (key) { return _this.weightMap[key].forEach(function (tensor) { return tensor.dispose(); }); });\n    };\n    GraphExecutor.prototype.checkInput = function (inputs) {\n        var _this = this;\n        var inputKeys = Object.keys(inputs);\n        var missing = [];\n        var extra = [];\n        this.placeholders.forEach(function (name) {\n            if (inputKeys.indexOf(name) === -1)\n                missing.push(name);\n        });\n        inputKeys.forEach(function (name) {\n            if (_this.placeholders.indexOf(name) === -1)\n                extra.push(name);\n        });\n        if (missing.length > 0) {\n            throw new Error(\"The dict provided in model.execute(dict) has the keys \" +\n                (\"[\" + inputKeys + \"], but is missing the required keys: [\" + missing + \"].\"));\n        }\n        if (extra.length > 0) {\n            throw new Error(\"The dict provided in model.execute(dict) has \" +\n                (\"unused keys: [\" + extra + \"]. Please provide only the following keys: \") +\n                (\"[\" + this.placeholders + \"].\"));\n        }\n    };\n    return GraphExecutor;\n}());\nexport { GraphExecutor };\n//# sourceMappingURL=graph_executor.js.map","var __awaiter = (this && this.__awaiter) || function (thisArg, _arguments, P, generator) {\n    return new (P || (P = Promise))(function (resolve, reject) {\n        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\n        function rejected(value) { try { step(generator[\"throw\"](value)); } catch (e) { reject(e); } }\n        function step(result) { result.done ? resolve(result.value) : new P(function (resolve) { resolve(result.value); }).then(fulfilled, rejected); }\n        step((generator = generator.apply(thisArg, _arguments || [])).next());\n    });\n};\nvar __generator = (this && this.__generator) || function (thisArg, body) {\n    var _ = { label: 0, sent: function() { if (t[0] & 1) throw t[1]; return t[1]; }, trys: [], ops: [] }, f, y, t, g;\n    return g = { next: verb(0), \"throw\": verb(1), \"return\": verb(2) }, typeof Symbol === \"function\" && (g[Symbol.iterator] = function() { return this; }), g;\n    function verb(n) { return function (v) { return step([n, v]); }; }\n    function step(op) {\n        if (f) throw new TypeError(\"Generator is already executing.\");\n        while (_) try {\n            if (f = 1, y && (t = y[op[0] & 2 ? \"return\" : op[0] ? \"throw\" : \"next\"]) && !(t = t.call(y, op[1])).done) return t;\n            if (y = 0, t) op = [0, t.value];\n            switch (op[0]) {\n                case 0: case 1: t = op; break;\n                case 4: _.label++; return { value: op[1], done: false };\n                case 5: _.label++; y = op[1]; op = [0]; continue;\n                case 7: op = _.ops.pop(); _.trys.pop(); continue;\n                default:\n                    if (!(t = _.trys, t = t.length > 0 && t[t.length - 1]) && (op[0] === 6 || op[0] === 2)) { _ = 0; continue; }\n                    if (op[0] === 3 && (!t || (op[1] > t[0] && op[1] < t[3]))) { _.label = op[1]; break; }\n                    if (op[0] === 6 && _.label < t[1]) { _.label = t[1]; t = op; break; }\n                    if (t && _.label < t[2]) { _.label = t[2]; _.ops.push(op); break; }\n                    if (t[2]) _.ops.pop();\n                    _.trys.pop(); continue;\n            }\n            op = body.call(thisArg, _);\n        } catch (e) { op = [6, e]; y = 0; } finally { f = t = 0; }\n        if (op[0] & 5) throw op[1]; return { value: op[0] ? op[1] : void 0, done: true };\n    }\n};\nimport * as tfc from '@tensorflow/tfjs-core';\nimport * as Url from 'url';\nimport { tensorflow } from '../data/compiled_api';\nimport { OperationMapper } from '../operations/operation_mapper';\nimport { GraphExecutor } from './graph_executor';\nvar FrozenModel = (function () {\n    function FrozenModel(modelUrl, weightManifestUrl, requestOption) {\n        this.modelUrl = modelUrl;\n        this.weightManifestUrl = weightManifestUrl;\n        this.requestOption = requestOption;\n        this.version = 'n/a';\n        this.pathPrefix = this.getPathPrefix();\n    }\n    Object.defineProperty(FrozenModel.prototype, \"modelVersion\", {\n        get: function () {\n            return this.version;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    FrozenModel.prototype.getPathPrefix = function () {\n        var url = Url.parse(this.weightManifestUrl);\n        var segments = url.pathname.split('/');\n        segments.splice(-1);\n        url.pathname = segments.join('/');\n        return Url.format(url) + '/';\n    };\n    FrozenModel.prototype.loadRemoteProtoFile = function () {\n        return __awaiter(this, void 0, void 0, function () {\n            var response, _a, _b, _c, error_1;\n            return __generator(this, function (_d) {\n                switch (_d.label) {\n                    case 0:\n                        _d.trys.push([0, 3, , 4]);\n                        return [4, fetch(this.modelUrl, this.requestOption)];\n                    case 1:\n                        response = _d.sent();\n                        _b = (_a = tensorflow.GraphDef).decode;\n                        _c = Uint8Array.bind;\n                        return [4, response.arrayBuffer()];\n                    case 2: return [2, _b.apply(_a, [new (_c.apply(Uint8Array, [void 0, _d.sent()]))()])];\n                    case 3:\n                        error_1 = _d.sent();\n                        throw new Error(this.modelUrl + \" not found. \" + error_1);\n                    case 4: return [2];\n                }\n            });\n        });\n    };\n    FrozenModel.prototype.loadWeightManifest = function () {\n        return __awaiter(this, void 0, void 0, function () {\n            var manifest, _a, error_2;\n            return __generator(this, function (_b) {\n                switch (_b.label) {\n                    case 0:\n                        _b.trys.push([0, 3, , 4]);\n                        return [4, fetch(this.weightManifestUrl, this.requestOption)];\n                    case 1:\n                        manifest = _b.sent();\n                        _a = this;\n                        return [4, manifest.clone().json()];\n                    case 2:\n                        _a.weightManifest = _b.sent();\n                        return [3, 4];\n                    case 3:\n                        error_2 = _b.sent();\n                        throw new Error(this.weightManifestUrl + \" not found. \" + error_2);\n                    case 4: return [2];\n                }\n            });\n        });\n    };\n    FrozenModel.prototype.load = function () {\n        return __awaiter(this, void 0, void 0, function () {\n            var graphPromise, manifestPromise, graph, weightMap;\n            return __generator(this, function (_a) {\n                switch (_a.label) {\n                    case 0:\n                        graphPromise = this.loadRemoteProtoFile();\n                        manifestPromise = this.loadWeightManifest();\n                        return [4, Promise.all([graphPromise, manifestPromise])];\n                    case 1:\n                        graph = (_a.sent())[0];\n                        this.version = graph.versions.producer + \".\" + graph.versions.minConsumer;\n                        return [4, tfc.io.loadWeights(this.weightManifest, this.pathPrefix, undefined, this.requestOption)];\n                    case 2:\n                        weightMap = _a.sent();\n                        this.executor =\n                            new GraphExecutor(OperationMapper.Instance.transformGraph(graph));\n                        this.executor.weightMap = this.convertTensorMapToTensorsMap(weightMap);\n                        return [2, true];\n                }\n            });\n        });\n    };\n    FrozenModel.prototype.execute = function (inputs, outputs) {\n        if (this.executor.isControlFlowModel) {\n            throw new Error('The model contains control flow ops, ' +\n                'please use executeAsync method');\n        }\n        var result = this.executor.execute(this.convertTensorMapToTensorsMap(inputs), outputs);\n        var keys = Object.keys(result);\n        return (keys.length === 1) ? result[keys[0]] : result;\n    };\n    FrozenModel.prototype.executeAsync = function (inputs, outputs) {\n        return __awaiter(this, void 0, void 0, function () {\n            var result, keys;\n            return __generator(this, function (_a) {\n                switch (_a.label) {\n                    case 0:\n                        if (!this.executor.isControlFlowModel) {\n                            throw new Error('The model does not contain control flow ops, ' +\n                                'please use execute method for better performance.');\n                        }\n                        return [4, this.executor.executeAsync(this.convertTensorMapToTensorsMap(inputs), outputs)];\n                    case 1:\n                        result = _a.sent();\n                        keys = Object.keys(result);\n                        return [2, (keys.length === 1) ? result[keys[0]] : result];\n                }\n            });\n        });\n    };\n    FrozenModel.prototype.convertTensorMapToTensorsMap = function (map) {\n        return Object.keys(map).reduce(function (newMap, key) {\n            newMap[key] = [map[key]];\n            return newMap;\n        }, {});\n    };\n    FrozenModel.prototype.dispose = function () {\n        this.executor.dispose();\n    };\n    return FrozenModel;\n}());\nexport { FrozenModel };\nexport function loadFrozenModel(modelUrl, weightsManifestUrl, requestOption) {\n    return __awaiter(this, void 0, void 0, function () {\n        var model;\n        return __generator(this, function (_a) {\n            switch (_a.label) {\n                case 0:\n                    model = new FrozenModel(modelUrl, weightsManifestUrl, requestOption);\n                    return [4, model.load()];\n                case 1:\n                    _a.sent();\n                    return [2, model];\n            }\n        });\n    });\n}\n//# sourceMappingURL=frozen_model.js.map","var version = '0.4.0';\nexport { version };\n//# sourceMappingURL=version.js.map","export { FrozenModel, loadFrozenModel } from './executor/frozen_model';\nexport { version as version_converter } from './version';\n//# sourceMappingURL=index.js.map","/**\n * @license\n * Copyright 2018 Google LLC. All Rights Reserved.\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n * http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n * =============================================================================\n */\n\nexport const IMAGENET_CLASSES = {\n    0: 'backpack',\n    1: 'monitor',\n    2: 'note',\n    3: 'chair',\n    4: 'keyboard',\n    5: 'mouse',\n    6: 'pen',\n    7: 'smartphone',\n    8: 'laptop',\n    9: 'desk',\n};\n  ","/**\n * @license\n * Copyright 2018 Google LLC. All Rights Reserved.\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n * http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n * =============================================================================\n */\n\nimport {loadFrozenModel, NamedTensorMap} from '@tensorflow/tfjs-converter';\nimport * as tfc from '@tensorflow/tfjs-core';\nimport {IMAGENET_CLASSES} from './imagenet_classes';\n\nconst GOOGLE_CLOUD_STORAGE_DIR = 'https://storage.googleapis.com/staging.ai4ar-d2209.appspot.com/saved_model_web/';\nconst MODEL_FILE_URL = 'tensorflowjs_model.pb';\nconst WEIGHT_MANIFEST_FILE_URL = 'weights_manifest.json';\nconst INPUT_NODE_NAME = 'input';\nconst OUTPUT_NODE_NAME = 'final_result';\nconst PREPROCESS_DIVISOR = tfc.scalar(255 / 2);\n\nexport class MobileNet {\n  constructor() {}\n\n  async load() {\n    this.model = await loadFrozenModel(\n        GOOGLE_CLOUD_STORAGE_DIR + MODEL_FILE_URL,\n        GOOGLE_CLOUD_STORAGE_DIR + WEIGHT_MANIFEST_FILE_URL);\n  }\n  \n\n  dispose() {\n    if (this.model) {\n      this.model.dispose();\n    }\n  }\n  /**\n   * Infer through MobileNet. This does standard ImageNet pre-processing before\n   * inferring through the model. This method returns named activations as well\n   * as softmax logits.\n   *\n   * @param input un-preprocessed input Array.\n   * @return The softmax logits.\n   */\n  predict(input) {\n    const preprocessedInput = tfc.div(\n        tfc.sub(input.asType('float32'), PREPROCESS_DIVISOR),\n        PREPROCESS_DIVISOR);\n    const reshapedInput =\n        preprocessedInput.reshape([1, ...preprocessedInput.shape]);\n    return this.model.execute(\n        {[INPUT_NODE_NAME]:reshapedInput}, OUTPUT_NODE_NAME);\n  }\n\n  getTopKClasses(predictions, topK) {\n    const values = predictions.dataSync();\n    predictions.dispose();\n\n    let predictionList = [];\n    for (let i = 0; i < values.length; i++) {\n      predictionList.push({value: values[i], index: i});\n    }\n    predictionList = predictionList\n                         .sort((a, b) => {\n                           return b.value - a.value;\n                         })\n                         .slice(0, topK);\n\n    return predictionList.map(x => {\n      return {label: IMAGENET_CLASSES[x.index], value: x.value};\n    });\n  }\n}\n","/**\n * @license\n * Copyright 2018 Google LLC. All Rights Reserved.\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n * http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n * =============================================================================\n */\n\nimport * as tfc from '@tensorflow/tfjs-core';\nimport {MobileNet} from './mobilenet';\n\nvar snapshotCanvas = document.getElementById('snapshot');\nvar captureButton = document.getElementById('capture');\nvar imageObj = new Image();\n\ncaptureButton.addEventListener('click', async () => {\n  $(\"#result-wrap\").css(\"display\", \"block\");\n  var player = document.getElementsByTagName('video')[0];  \n  var context = snapshot.getContext('2d');\n\n  context.drawImage(player, 0, 0, snapshotCanvas.width,\n      snapshotCanvas.height);\n  imageObj.src = snapshotCanvas.toDataURL();\n\n  const resultElement = document.getElementById('result');\n  resultElement.innerText = 'Loading MobileNet...';\n\n  const mobileNet = new MobileNet();\n  console.time('Loading of model');\n  await mobileNet.load();\n  console.timeEnd('Loading of model');\n\n  const pixels = tfc.fromPixels(snapshotCanvas);\n\n  console.time('First prediction');\n  let result = mobileNet.predict(pixels);\n  const topK = mobileNet.getTopKClasses(result, 1);\n  console.log(topK[0].label);\n  console.timeEnd('First prediction');\n\n  resultElement.innerText = '';\n  topK.forEach(x => {\n    resultElement.innerText += `${x.value.toFixed(3)}: ${x.label}\\n`;\n  });\n\n  // console.time('Subsequent predictions');\n  // result = mobileNet.predict(pixels);\n  // const secondTopK = mobileNet.getTopKClasses(result, 1);\n  // console.log(secondTopK[0].label);\n  // console.timeEnd('Subsequent predictions');\n\n  mobileNet.dispose();\n});\n"]}